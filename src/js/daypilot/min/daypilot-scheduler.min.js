/**
@license
DayPilot Pro for JavaScript 2023.2.5592
Copyright (c) 2005 - 2023 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(DayPilot){if(typeof DayPilot.Scheduler!=='undefined'&&DayPilot.Scheduler.def){return;};var $b=(function(){var $c=navigator.userAgent;return(($c.indexOf('Mozilla/5.0')>-1&&$c.indexOf('Android ')>-1&&$c.indexOf('AppleWebKit')>-1)&&!($c.indexOf('Chrome')>-1));})();var $d=navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1;var DayPilotScheduler={};var $e=function(){};var debug=false;var $f=function($g){if(!debug){return;};window.console&&window.console.log.apply(window.console,arguments);};var $h=function($g){if(typeof $i==="undefined"){return;};$f($g);};var console={"log":$f};var $j=function(){return document.body;};var $k=function(){return document.createElement("div");};var $l=DayPilot.Util.overlaps;var $m=DayPilot.Util.removeClass;var $n=DayPilot.Util.addClass;var $o=DayPilot.Util.div;var $p=DayPilot.Util.atLeast;var $q=DayPilot.Util.isNullOrUndefined;var $r=DayPilot.Util.copyProps;var $s=DayPilot.Util.isReactComponent;var $t=DayPilot.Util.mouseButton;var $u=DayPilot.Global;var $v=DayPilot.list;var $w=DayPilot.contains;var $x=DayPilot.de;var $y=DayPilot.indexOf;DayPilot.Scheduler=function(id,$z){this.v='2023.2.5592;';var $A=this;this.id=id;this.isScheduler=true;this.allowDefaultContextMenu=false;this.allowEventOverlap=true;this.allowMultiMove=false;this.allowMultiRange=false;this.allowMultiResize=false;this.allowMultiSelect=true;this.api=2;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.autoScroll="Drag";this.blockOnCallBack=false;this.navigatorBackSync=null;this.backendUrl=null;this.beforeCellRenderCaching=true;this.businessBeginsHour=9;this.businessEndsHour=18;this.businessWeekends=false;this.cellDuration=60;this.cellGroupBy='Day';this.cellSweeping=true;this.cellSweepingCacheSize=1000;this.cellWidth=40;this.cellWidthMin=1;this.cellWidthSpec="Fixed";this.cellsMarkBusiness=true;this.cornerText="";this.cornerHtml=null;this.crosshairTimeHeaderLevel="Last";this.crosshairType='Header';this.cssClassPrefix="scheduler_default";this.days=1;this.doubleClickTimeout=300;this.dragOutAllowed=false;this.drawBlankCells=true;this.durationBarHeight=null;this.durationBarVisible=true;this.durationBarMode="Duration";this.dynamicEventRendering='Progressive';this.dynamicEventRenderingMargin=50;this.dynamicEventRenderingMarginX=null;this.dynamicEventRenderingMarginY=null;this.dynamicEventRenderingCacheSweeping=false;this.dynamicEventRenderingCacheSize=200;this.dynamicLoading=false;this.eventEditMinWidth=100;this.eventEditTabNext=false;this.eventEndSpec="DateTime";this.eventHeight=35;this.eventHtmlLeftMargin=10;this.eventHtmlRightMargin=10;this.eventMarginLeft=0;this.eventMarginRight=0;this.eventMarginBottom=0;this.eventMinWidth=1;this.eventMoveMargin=5;this.eventMoveToPosition=false;this.eventMoveSkipNonBusiness=false;this.eventResizeMargin=5;this.eventStackingLineHeight=100;this.eventTapAndHoldHandling="Move";this.eventTextWrappingEnabled=false;this.eventUpdateInplaceOptimization=false;this.eventsLoadMethod="GET";this.eventVersionHeight=25;this.eventVersionMargin=2;this.eventVersionPosition="Above";this.eventVersionsEnabled=false;this.eventVersionsReserveSpace=false;this.floatingEvents=$d?false:true;this.floatingTimeHeaders=true;this.groupConcurrentEvents=false;this.groupConcurrentEventsLimit=1;this.headerHeight=30;this.heightSpec='Max';this.height=600;this.hideBorderFor100PctHeight=false;this.hideUntilInit=true;this.infiniteScrollingEnabled=false;this.infiniteScrollingMargin=50;this.infiniteScrollingStepDays=30;this.initEventEnabled=true;this.jointEventsResize=true;this.jointEventsMove=true;this.keyboardEnabled=false;this.keyboardTarget="document";this.layout='Auto';this.linkCreateHandling="Disabled";this.linkBottomMargin=17;this.linkPointSize=10;this.linksLoadMethod="GET";this.locale="en-us";this.loadingLabelText="Loading...";this.loadingLabelHtml=null;this.loadingLabelVisible=true;this.overrideWheelScrolling=false;this.messageBarPosition="Top";this.messageHideAfter=5000;this.messageHideOnMouseOut=true;this.multiMoveVerticalMode="Disabled";this.moveBy='Full';this.notifyCommit='Immediate';this.progressiveRowRendering=true;this.progressiveRowRenderingPreload=25;this.rectangleSelectMode="Free";this.rectangleSelectHandling="Disabled";this.rowCreateHeight=null;this.rowCreateHtml=null;this.rowCreateText="New row...";this.rowDragHandleWidth=10;this.rowEmptyHeight=null;this.rowFilterParentsAlwaysVisible=true;this.rowHeaderColumnDefaultWidth=80;this.rowHeaderHideIconEnabled=false;this.rowHeaderScrolling=false;this.rowHeaderSplitterWidth=3;this.rowHeaderWidthAutoFit=true;this.rowHeaderWidthAutoFitShrink=false;this.rowHeaderWidthMarginRight=0;this.rowHeaderWidthMin=20;this.rowHeaderColumnsResizable=true;this.rowHeaderColumnsMode="Tabular";this.rowHeaderColumns=null;this.rowHeaderColumnsMergeParents=true;this.rowHeaderWidth=80;this.rowMarginBottom=0;this.rowMarginTop=0;this.rowMinHeight=0;this.rowsLoadMethod="GET";this.rowSortingMode="LeavesOnly";this.scale="CellDuration";this.scaleManualLimitBeyond=true;this.scrollDelayDynamic=500;this.scrollDelayEvents=200;this.scrollDelayCells=$d?100:0;this.scrollDelayFloats=0;this.scrollDelayRows=0;this.scrollStep=null;this.scrollX=0;this.scrollY=0;this.selectedRows=[];this.separators=[];this.showCurrentTimeHeader=false;this.showNonBusiness=true;this.showNonBusinessForceHours=false;this.showToolTip=true;this.snapToGrid=true;this.snapToGridTimeRangeSelecting=true;this.snapToGridEventMoving=true;this.snapToGridEventResizing=true;this.startDate=DayPilot.Date.today();this.syncResourceTree=false;this.tapAndHoldTimeout=300;this.timeHeaders=[{"groupBy":"Default"},{"groupBy":"Cell"}];this.timeHeaderPosition="Top";this.timeHeaderTextWrappingEnabled=false;this.treeAnimation=true;this.treeAutoExpand=true;this.treeEnabled=false;this.treeIndent=20;this.treeImageMarginLeft=0;this.treeImageMarginTop=3;this.treeImageMarginRight=5;this.treeImageWidth=10;this.treeImageHeight=10;this.treePreventParentUsage=false;this.timeFormat="Auto";this.timeline=null;this.useEventBoxes='Always';this.viewType='Resources';this.visible=true;this.watchWidthChanges=true;this.weekStarts='Auto';this.width=null;this.xssProtection="Enabled";this.zoomLevels=[];this.zoomPosition="left";this.eventClickHandling='Enabled';this.eventDeleteHandling="Disabled";this.eventHoverHandling='Bubble';this.eventDoubleClickHandling='Disabled';this.eventEditHandling='Update';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.resourceCollapseHandling="Enabled";this.resourceExpandHandling="Enabled";this.rowClickHandling='Enabled';this.rowDoubleClickHandling="Disabled";this.rowRightClickHandling='ContextMenu';this.rowCreateHandling="Disabled";this.rowEditHandling='Update';this.rowHeaderColumnResizedHandling="Update";this.rowSelectHandling='Update';this.rowMoveHandling="Disabled";this.rowMoveSameLevelOnly=false;this.timeHeaderClickHandling="Enabled";this.timeHeaderRightClickHandling="Enabled";this.timeRangeClickHandling="Enabled";this.timeRangeDoubleClickHandling='Disabled';this.timeRangeSelectedHandling='Enabled';this.timeRangeRightClickHandling="ContextMenu";this.timeRangeSelectingStartEndEnabled=false;this.timeRangeSelectingStartEndFormat="MMMM d, yyyy";this.eventMovingStartEndEnabled=false;this.eventMovingStartEndFormat="MMMM d, yyyy";this.eventResizingStartEndEnabled=false;this.eventResizingStartEndFormat="MMMM d, yyyy";if(typeof DayPilot.Bubble==="function"){this.bubble=new DayPilot.Bubble();}else{this.bubble=null;};this.cellBubble=null;this.resourceBubble=null;this.linkBubble=null;this.groupBubble=null;this.contextMenu=null;this.contextMenuResource=null;this.contextMenuSelection=null;this.contextMenuLink=null;if(DayPilot.browser.ie){this.scrollDelayCells=100;this.scrollDelayFloats=100;};if($A.api===1){this.onEventMove=function(){};this.onEventResize=function(){};this.onResourceExpand=function(){};this.onResourceCollapse=function(){};};this.onEventClick=null;this.onEventClicked=null;this.onEventEdit=null;this.onEventEdited=null;this.onEventEditKeyDown=null;this.onEventMove=null;this.onEventMoved=null;this.onEventMoving=null;this.onEventResize=null;this.onEventResized=null;this.onEventResizing=null;this.onEventRightClick=null;this.onEventRightClicked=null;this.onEventMouseEnter=null;this.onEventMouseLeave=null;this.onEventMouseOver=null;this.onEventMouseOut=null;this.onIncludeTimeCell=null;this.onKeyboardFocusChange=null;this.onKeyboardFocusChanged=null;this.onLinkClick=null;this.onLinkClicked=null;this.onLinkCreate=null;this.onLinkCreated=null;this.onRowClick=null;this.onRowClicked=null;this.onRowDoubleClick=null;this.onRowDoubleClicked=null;this.onRowMouseOver=null;this.onRowMouseOut=null;this.onRowRightClick=null;this.onRowRightClicked=null;this.onTimeHeaderClick=null;this.onTimeHeaderClicked=null;this.onTimeHeaderRightClick=null;this.onTimeHeaderRightClicked=null;this.onTimeRangeClick=null;this.onTimeRangeClicked=null;this.onTimeRangeDoubleClick=null;this.onTimeRangeDoubleClicked=null;this.onTimeRangeSelect=null;this.onTimeRangeSelected=null;this.onTimeRangeSelecting=null;this.onTimeRangeRightClick=null;this.onTimeRangeRightClicked=null;this.onRowHeaderColumnResized=null;this.onRowHeaderResized=null;this.onCellMouseEnter=null;this.onCellMouseLeave=null;this.onCellMouseOver=null;this.onCellMouseOut=null;this.onGridMouseDown=null;this.onBeforeCellRender=null;this.onBeforeCellDomAdd=null;this.onBeforeCellDomRemove=null;this.onBeforeCornerRender=null;this.onBeforeCornerDomAdd=null;this.onBeforeCornerDomRemove=null;this.onBeforeEventRender=null;this.onBeforeEventDomAdd=null;this.onBeforeEventDomRemove=null;this.onBeforeGridLineRender=null;this.onBeforeTimeHeaderRender=null;this.onBeforeTimeHeaderDomAdd=null;this.onBeforeTimeHeaderDomRemove=null;this.onBeforeResHeaderRender=null;this.onBeforeRowHeaderRender=null;this.onBeforeRowHeaderColumnRender=null;this.onBeforeRowHeaderDomAdd=null;this.onBeforeRowHeaderDomRemove=null;this.onBeforeCellExport=null;this.onBeforeCornerExport=null;this.onBeforeEventExport=null;this.onBeforeTimeHeaderExport=null;this.onBeforeRowHeaderExport=null;this.onAfterEventRender=null;this.onAfterCellRender=null;this.onAfterEventEditRender=null;this.onEventFilter=null;this.onRowFilter=null;this.onRectangleSelecting=null;this.onRectangleSelect=null;this.onRectangleSelected=null;this.onDimensionsChanged=null;this.onAfterUpdate=null;this.$gi=0;this.$gj=true;this.$gk=false;this.$gl=false;this.$gm=false;this.$gn=-1;this.$go=-1;this.$gp=false;this.$gq=-1;this.$gr=false;this.$gs=true;this.rowlist=$v();this.itline=$v();this.events={};this.cells={};this.elements={};this.elements.events=[];this.elements.bars=[];this.elements.text=[];this.elements.cells=[];this.elements.linesVertical=[];this.elements.separators=[];this.elements.range=[];this.elements.breaks=[];this.elements.links=[];this.elements.linkpoints=[];this.elements.rectangle=[];this.elements.hover=[];this.elements.timeHeader=[];this.$gt={};this.$gt.cells=[];this.$gt.$gu={};this.$gt.$gv={};this.$gt.timeHeaderGroups=[];this.$gt.timeHeader={};this.$gt.pixels=[];this.$gt.breaks=[];this.$gt.events=[];this.$gt.$gw=[];this.clientState={};this.members={};this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"];this.members.ignoreFilter=function(name){if(name.indexOf("div")===0){return true;};return false;};this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader","timeouts","rowHeaderCols"];this.members.noCssOnly=[];this.$gx='javasc';this.nav={};this.$gy=function($B,$C){var $B=JSON.parse($B);$A.onScrollCalled=false;if($B.VsUpdate){var $D=document.createElement("input");$D.type='hidden';$D.name=$A.id+"_vsupdate";$D.id=$D.name;$D.value=$B.VsUpdate;$A.$gz.innerHTML='';$A.$gz.appendChild($D);};if($B.CallBackRedirect){document.location.href=$B.CallBackRedirect;return;};if($B.BubbleGuid){var $E=$B.BubbleGuid;var $F=this.bubbles[$E];delete this.bubbles[$E];$A.$gA();if(typeof $B.Result.BubbleHTML!=='undefined'&&$F){$F.updateView($B.Result.BubbleHTML,$F);};$A.$gB();return;};if(typeof $A.onCallBackResult==="function"){var $G={};$G.result=$B;$G.preventDefault=function(){$G.preventDefault.value=true;};$A.onCallBackResult($G);if($G.preventDefault.value){$A.$gC();$A.$gA();$A.$gD();if($B.Message){if($A.message){$A.message($B.Message);}};$A.$gE($B.CallBackData,true);$A.$gB();$A.$gF();return;}};if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();};if(typeof $B.ClientState!=='undefined'){if($B.ClientState===null){$A.clientState={};}else{$A.clientState=$B.ClientState;}};if($B.UpdateType==="None"){$A.$gA();$A.$gB();if($B.Message){$A.message($B.Message);};$A.$gE($B.CallBackData,true);return;};if(typeof $B.TagFields!=='undefined'){$A.tagFields=$B.TagFields;};if(typeof $B.SortDirections!=='undefined'){$A.sortDirections=$B.SortDirections;};$A.$gt.drawArea=null;if($B.UpdateType==="Full"){$A.resources=$B.Resources;$A.colors=$B.Colors;$A.palette=$B.Palette;$A.dirtyColors=$B.DirtyColors;$A.cellProperties=$B.CellProperties;$A.cellConfig=$B.CellConfig;$A.separators=$B.Separators;$A.timeline=$B.Timeline;$A.timeHeader=$B.TimeHeader;$A.timeHeaders=$B.TimeHeaders;if(typeof $B.Links!=="undefined"){$A.links.list=$B.Links;};if(typeof $B.RowHeaderColumns!=='undefined')$A.rowHeaderColumns=$B.RowHeaderColumns;$A.startDate=$B.StartDate?new DayPilot.Date($B.StartDate):$A.startDate;$A.days=$B.Days?$B.Days:$A.days;$A.cellDuration=$B.CellDuration?$B.CellDuration:$A.cellDuration;$A.cellGroupBy=$B.CellGroupBy?$B.CellGroupBy:$A.cellGroupBy;$A.cellWidth=$B.CellWidth?$B.CellWidth:$A.cellWidth;if(typeof $B.CellWidthSpec!=="undefined"){$A.cellWidthSpec=$B.CellWidthSpec;};if(typeof $B.Scale!=='undefined'){$A.scale=$B.Scale;};$A.viewType=$B.ViewType?$B.ViewType:$A.viewType;if(typeof $B.ShowNonBusiness!=='undefined')$A.showNonBusiness=$B.ShowNonBusiness;$A.businessBeginsHour=$B.BusinessBeginsHour?$B.BusinessBeginsHour:$A.businessBeginsHour;$A.businessEndsHour=$B.BusinessEndsHour?$B.BusinessEndsHour:$A.businessEndsHour;if(typeof $B.DynamicLoading!=='undefined')$A.dynamicLoading=$B.DynamicLoading;if(typeof $B.TreeEnabled!=='undefined')$A.treeEnabled=$B.TreeEnabled;$A.locale=$B.Locale?$B.Locale:$A.locale;if(typeof $B.TimeZone!=='undefined')$A.timeZone=$B.TimeZone;$A.timeFormat=$B.TimeFormat?$B.TimeFormat:$A.timeFormat;$A.rowHeaderCols=$B.RowHeaderCols?$B.RowHeaderCols:$A.rowHeaderCols;if(typeof $B.DurationBarMode!=="undefined")$A.durationBarMode=$B.DurationBarMode;if(typeof $B.CornerHTML!=='undefined'){$A.cornerHtml=$B.CornerHTML;};$A.hashes=$B.Hashes;$A.$gG();$A.$gH();$A.$gI();$A.$gJ();$A.$gK();};if($B.Action!=="Scroll"){$A.$gL($B.Events);};if($B.UpdateType==='Full'){$A.$gM();$A.$gN();$A.$gO();$A.$gP();};$A.$gQ();$A.$gR();$A.$gS();$A.$gt.drawArea=null;if($B.Action!=="Scroll"){$A.$gT();$A.$gU();if($A.heightSpec==='Auto'||$A.heightSpec==='Max'){$A.$gV();};$A.$gW();$A.$gX();$A.$gY();$A.multiselect.clear(true);$A.multiselect.$gZ($B.SelectedEvents);$A.$h0();$A.$h1();$A.$h2();}else{$A.multiselect.clear(true);$A.multiselect.$gZ($B.SelectedEvents);$A.$h3($B.Events);};if($A.timeRangeSelectedHandling!=="HoldForever"){$A.$h4();};if($B.UpdateType==="Full"){$A.setScroll($B.ScrollX,$B.ScrollY);$A.$h5();};$A.$h6();$A.$gC();if($B.SelectedRows){$A.$h7($B.SelectedRows);};$A.$gA();if($B.UpdateType==='Full'&&navigator.appVersion.indexOf("MSIE 7.")!==-1){window.setTimeout(function(){$A.$gM();$A.$gN();$A.$gV();},0);};$A.$gD();if($B.Message){if($A.message){$A.message($B.Message);}};$A.$gE($B.CallBackData,true);$A.$gB();$A.$gF();if($B.UpdateType==='Full'&&$B.Action!=="Scroll"&&!$A.onScrollCalled){setTimeout(function(){$A.$h8();},0);}};this.$gC=function(){if($A.$h9){if($A.$h9.$ha){var $H=$A.$h9.$ha;$H.parentNode.removeChild($H);$A.$h9.$ha=null;}}};this.$gE=function($I,$J){var $K=function($I,$L){return function(){if($A.$hb()){if(typeof $A.onAfterRender==='function'){var $G={};$G.isCallBack=$L;$G.isScroll=false;$G.data=$I;$A.onAfterRender($G);}}else{if($A.afterRender){$A.afterRender($I,$L);}}};};window.setTimeout($K($I,$J),0);};this.scrollTo=function($M,$N,$O){if($A.infiniteScrollingEnabled){if($A.$hc){var $P=$A.getPixels($A.visibleEnd()).left;var $Q=$P-$A.infiniteScrollingMargin-$A.nav.scroll.clientWidth;var $R=$A.getDate($Q,true,true);var $S=$l($A.visibleStart(),$R,$M,$M);if(!$S){$A.infinite.scrollTo($M);return;}};$A.$hd($M,$N,$O);return;};if($A.$he.enabled){$A.$he.scrollToRequested=$M;setTimeout(function(){var $M=$A.$he.scrollToRequested;if($M){$A.$hf=null;$A.$hd($M,$N,$O);}},0);}else{$A.$hd($M,$N,$O);}};this.$hd=function($M,$N,$O){if(!$M){return;};if(!$A.$hc){$A.$hf={"date":$M,"animated":$N,"position":$O};return;};if($A.viewType==="Days"){var $T=new DayPilot.Date($M);var $U=$A.$hg($T);if(!$U){return;};if($A.$hh.react){var scrollY=$U.top-$A.$hi.top.height;$A.nav.scroll.scrollTop=scrollY;}else{setTimeout(function(){var scrollY=$U.top-$A.$hi.top.height;$A.nav.scroll.scrollTop=scrollY;},100);};var $V=$T.getTimePart();$M=$A.visibleStart().getDatePart().addTime($V);};var $W;if($M instanceof DayPilot.Date){$W=this.getPixels($M).left;}else if(typeof $M==="string"){$W=this.getPixels(new DayPilot.Date($M)).left;}else if(typeof $M==="number"){$W=$M;}else{throw new DayPilot.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");};var $X=$A.$hj.clientWidth;var $Y=$A.nav.scroll.clientWidth;$O=$O||"left";switch($O.toLowerCase()){case "left":break;case "middle":$W-=$Y/2;break;case "right":$W-=$Y;break;};if($W<0){$W=0;};if($W>$X-$Y){$W=$X-$Y;};if(!$N){$A.$hk($W);return;};var $Z=Math.abs($A.nav.scroll.scrollLeft-$W);var $00=$Z/$X;var $01=50;if(typeof $N==="number"){$01=$N;}else if(typeof $N==="string"){switch($N){case "fast":$01=30;break;case "normal":$01=50;break;case "slow":$01=100;break;case "linear":$01=Math.floor(100*$00);break;}};if($00>.6){$01=Math.min($01,80);};$A.$hl($W,$01);};this.$hl=function($W,$01){var $02={};$02.steps=[];$02.index=0;$02.delay=10;$02.next=function(){var $03=$02.steps[$02.index];$02.index+=1;return $03;};$02.finished=function(){$A.$h8();};var $04=$A.getScrollX();var $01=$01||100;var $05=$W-$04;for(var i=0;i<$01;i++){var x=i/$01;var $06=((x-.5)*2)/(Math.pow(((x-0.5)*2),2)+1)+.5;$02.steps.push($04+$05*$06);};$02.steps.push($W);scrollStep($02);function scrollStep($02){var $03=$02.next();if(typeof $03==="undefined"){$02.finished&&$02.finished();return;};$A.setScrollX($03);window.clearTimeout($A.refreshTimeout);setTimeout(function(){scrollStep($02);},$02.delay);}};this.scrollToResource=function($07){DayPilot.complete(function(){var $U;if(typeof $07==="string"||typeof $07==="number"){$U=$A.$hm($07);}else if($07 instanceof DayPilot.Row){$U=$A.$hm($07.id);}else{throw new DayPilot.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");};if(!$U){return;};setTimeout(function(){var scrollY=$U.top;$A.nav.scroll.scrollTop=scrollY;},100);});};this.$hn=function(){if(!this.floatingTimeHeaders){return;};if(!this.timeHeader){return;};var $08=$A.$ho();if(!$08){return;};$A.$hp();var $09=$08.pixels.left+$0a.$hq;var end=$08.pixels.right+$0a.$hq+$08.sw;var $0b=[];for(var y=0;y<this.timeHeader.length;y++){for(var x=0;x<this.timeHeader[y].length;x++){var h=this.timeHeader[y][x];var $0c=h.left;var $0d=h.left+h.width;var $0e=null;if($0c<$09&&$09<$0d){$0e={};$0e.x=x;$0e.y=y;$0e.marginLeft=$09-$0c;$0e.marginRight=0;$0e.div=$A.$gt.timeHeader[x+"_"+y];$0b.push($0e);};if($0c<end&&end<$0d){if(!$0e){$0e={};$0e.x=x;$0e.y=y;$0e.marginLeft=0;$0e.div=$A.$gt.timeHeader[x+"_"+y];$0b.push($0e);};$0e.marginRight=$0d-end;break;}}};for(var i=0;i<$0b.length;i++){var $0e=$0b[i];$A.$hr($0e.div,$0e.marginLeft,$0e.marginRight);}};this.$h6=function(){$A.$hn();$A.$hs();};this.$ht={};var $0f=$A.$ht;$0f.$hu=function(x,y,$Y,$0g){var $0h=x;var $0i=x+$Y;var $0j=y;var $0k=y+$0g;return $v($A.elements.events).filter(function(e){var $I=e.event;var $0c=$I.part.left;var $0d=$I.part.left+$I.part.width;var $U=$A.rowlist[$I.part.dayIndex];var top=$U.top+$I.part.top;var $0l=top+$I.part.height;if($l($0c,$0d,$0h,$0i)&&$l(top,$0l,$0j,$0k)){return true;}});};$0f.$hv=function($0m){var $0n=[];var $0m=$0m||"All";var $08=$A.$ho();if(!$08){return $v($0n);};var $09=$08.pixels.left;var end=$08.pixels.right;for(var i=0;i<$A.elements.events.length;i++){var e=$A.elements.events[i];var $I=e.event;var $0c=$I.part.left;var $0d=$I.part.left+$I.part.width;switch($0m){case "Left":if($0c<$09&&$09<$0d){$0n.push(e);};break;case "All":if($l($0c,$0d,$09,end)){$0n.push(e);};break;}};return $v($0n).addProps({"area":$08});};this.$hs=function(){if(!this.floatingEvents){return;};var $0o=$0f.$hv("Left");$A.$hw();$0o.filter(function($0p){return $0p.event.data.type!=="Milestone";}).forEach(function($0p){var e=$0p.event;var $0c=$0o.area.pixels.left;var $09=e.part.left;var $0q=$0c-$09;$A.$hx($0p,$0q,0);});};this.elements.sections=[];this.elements.hsections=[];this.$hr=function($0r,$0q,$0s){var $0t=$k();$0t.setAttribute("unselectable","on");$0t.className=$A.$hy("_timeheader_float");$0t.style.position="absolute";$0t.style.left=$0q+"px";$0t.style.right=$0s+"px";$0t.style.top="0px";$0t.style.bottom="0px";$0t.style.overflow="hidden";var $0u=$k();$0u.className=$A.$hy("_timeheader_float_inner");$0u.setAttribute("unselectable","on");var $0v=$0r.cell.th;$0u.innerHTML=$A.$hz($0v.text,$0v.innerHTML);if($0v.fontColor){$0u.style.color=$0v.fontColor;};$0t.appendChild($0u);$0r.section=$0t;$0r.insertBefore($0t,$0r.firstChild.nextSibling);if($0r.domArgs&&$0r.domArgs.element){var el=$0r.firstChild&&$0r.firstChild.firstChild;if(el){el.style.display="none";}}else{$0r.firstChild.innerHTML='';};this.elements.hsections.push($0r);};this.$hp=function(){for(var i=0;i<this.elements.hsections.length;i++){var e=this.elements.hsections[i];var $I=e.cell;if($I&&e.firstChild){if(e.domArgs&&e.domArgs.element){var el=e.firstChild&&e.firstChild.firstChild;if(el){el.style.display="";}}else{e.firstChild.innerHTML=$A.$hz($I.th.text,$I.th.innerHTML);;}};$x(e.section);e.section=null;};this.elements.hsections=[];};this.$hx=function($0r,$0q,$0s){var $0t=$k();$0t.setAttribute("unselectable","on");$0t.className=$A.$hy($0w.eventFloat);$0t.style.position="absolute";$0t.style.left=$0q+"px";$0t.style.right=$0s+"px";$0t.style.top="0px";$0t.style.bottom="0px";$0t.style.overflow="hidden";var $0u=$k();$0u.className=$A.$hy($0w.eventFloatInner);$0u.setAttribute("unselectable","on");$0u.innerHTML=$0r.event.client.html();$0t.appendChild($0u);$0r.section=$0t;$0r.insertBefore($0t,$0r.firstChild.nextSibling);if($0r.domArgs&&$0r.domArgs.element){var el=$0r&&$0r.firstChild&&$0r.firstChild.firstChild;if(el){el.style.display="none";}}else{$0r.firstChild.innerHTML="";};var e=$0r.event;var $0x=e.cache||e.data;var $0y=e.cache?e.cache.areas:e.data.areas;$0y=$0y||[];if($0x.fontColor){$0u.style.color=$0x.fontColor;};var $z={"offsetX":$A.$hA($0u),"eventDiv":$0r,"areas":$0y.filter(function(a){return !(a.start||a.end)&&!a.nonFloating;})};DayPilot.Areas.attach($0t,$0r.event,$z);DayPilot.Areas.disable($0r);this.elements.sections.push($0r);};this.$hB=null;this.$hA=function($0u){if($A.$hB===null){$A.$hB=parseInt(new DayPilot.StyleReader($0u).get("padding-left"));};return $A.$hB;};this.$hw=function(){for(var i=0;i<this.elements.sections.length;i++){var e=this.elements.sections[i];var $I=e.event;if($I){if(e.domArgs&&e.domArgs.element){var el=e&&e.firstChild&&e.firstChild.firstChild;if(el){el.style.display='';}}else{e.firstChild.innerHTML=$I.client.html();}};$x(e.section);DayPilot.Areas.enable(e);e.section=null;};this.elements.sections=[];};this.setScrollX=function(scrollX){if(!$A.$he.enabled){$A.$hk(scrollX);}else{$A.$he.scrollXRequested=scrollX;setTimeout(function(){var scrollX=$A.$he.scrollXRequested;if(typeof scrollX==="number"){$A.$hk(scrollX);}},0);}};this.$hk=function(scrollX){var scroll=$A.nav.scroll;var $0z=$A.$hC();if(scroll.clientWidth+scrollX>$0z){scrollX=$0z-scroll.clientWidth;};$A.divTimeScroll.scrollLeft=scrollX;scroll.scrollLeft=scrollX;};this.setScrollY=function(scrollY){var $z=$z||{};if(!$A.$he.enabled){$A.$hD(scrollY);}else{$A.$he.scrollYRequested=scrollY;setTimeout(function(){var scrollY=$A.$he.scrollYRequested;if(typeof scrollY==="number"){$A.$hD(scrollY);}},0);}};this.$hD=function(scrollY){var scroll=$A.nav.scroll;var $0A=$A.$gq;if(scroll.clientHeight+scrollY>$0A){scrollY=$0A-scroll.clientHeight;};$A.divResScroll.scrollTop=scrollY;scroll.scrollTop=scrollY;};this.setScroll=function(scrollX,scrollY){$A.setScrollX(scrollX);$A.setScrollY(scrollY);};this.$hE=function(){return $A.$hF()+$0B.$hG()-1;};this.message=function($0C,$0D){if($0C===null){return;};if(!$A.$hc){return;};var $z={};var $0E;if(typeof arguments[1]==="object"){$z=arguments[1];$0E=$z.delay;}else{$0E=$0D;};var $0F="";if($z.rawHtml){$0F=$0C;}else{$0F=DayPilot.Util.escapeHtml($0C);};$0E=$0E||this.messageHideAfter||2000;var top=$A.$hH()+1;var $0c=$A.$hE();var $0d=DayPilot.sw($A.nav.scroll)+1;var $0l=DayPilot.sh($A.nav.scroll);var $0r;if(!this.nav.message){$0r=$k();$0r.style.position="absolute";$0r.style.left=$0c+"px";$0r.style.right=$0d+"px";$0r.style.display='none';DayPilot.rePassive($0r,DayPilot.touch.start,function(e){$A.nav.message.style.display='none';e.stopPropagation();});$0r.onmousemove=function(){if(!$A.messageHideOnMouseOut){return;};if($0r.messageTimeout&&!$0r.status){clearTimeout($0r.messageTimeout);}};$0r.onmouseout=function(){if(!$A.messageHideOnMouseOut){return;};if($A.nav.message.style.display!=='none'){$0r.messageTimeout=setTimeout($A.$hI,500);}};var $0u=$k();$0u.onclick=function(){$A.nav.message.style.display='none';};$0u.className=$A.$hy("_message");$0r.appendChild($0u);var close=$k();close.style.position="absolute";close.className=$A.$hy("_message_close");close.onclick=function(){$A.nav.message.style.display='none';};$0r.appendChild(close);this.nav.top.appendChild($0r);this.nav.message=$0r;}else{$0r=$A.nav.message;};var $0G=function(){if(!$A.nav.message){return;};var $0u=$A.nav.message.firstChild;$0u.className=$A.$hy("_message");if($z.cssClass){$n($0u,$z.cssClass);};$0u.innerHTML=$0F;var $0d=DayPilot.sw($A.nav.scroll);$A.nav.message.style.right=$0d+"px";var $O=$A.messageBarPosition||"Top";if($O==="Bottom"){$A.nav.message.style.bottom=$0l+"px";$A.nav.message.style.top="";}else if($O==="Top"){$A.nav.message.style.bottom="";$A.nav.message.style.top=top+"px";};var end=function(){$0r.messageTimeout=setTimeout($A.$hI,$0E);};DayPilot.fade($A.nav.message,0.2,end);};clearTimeout($0r.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($A.nav.message,-0.2,$0G);}else{$0G();}};this.$hI=function(){if(!$A.nav){return;};if(!$A.nav.message){return;};var end=function(){$A.nav.message.style.display='none';};DayPilot.fade($A.nav.message,-0.2,end);};this.$hJ=function(){if(!$A.nav){return;};if(!$A.nav.message){return;};$A.nav.message.style.display='none';};this.message.show=function($0F){$A.message($0F);};this.message.hide=function(){$A.$hI();};this.$hK=null;this.$gV=function(){if(!this.nav.scroll){return;};(function fromDrawCells(){var $Y=$A.$hC();$A.$hj.style.height=$A.$gq+"px";$A.$hj.style.width=$Y+"px";if($A.cellWidthSpec==="Auto"&&!$A.$hL){$A.nav.scroll.style.overflowX="hidden";$A.nav.scroll.scrollLeft=0;}else{if($Y>$A.nav.scroll.clientWidth){$A.nav.scroll.style.overflowX="auto";}else{$A.nav.scroll.style.overflowX="hidden";}}})();var $0H=$A.timeHeaderPosition==="None"?0:1;if(this.$hK!==null){this.nav.top.style.border=this.$hK;this.$hK=null;};if(this.heightSpec==='Parent100Pct'||this.heightSpec==="Max100Pct"){this.nav.top.style.height="100%";if(this.hideBorderFor100PctHeight){this.$hK=this.nav.top.style.border;this.nav.top.style.border="0 none";};this.height=parseInt(this.nav.top.clientHeight,10)-(this.$hH())-$0H;};this.nav.scroll.style.height='30px';var $0g=this.$hM();var $0I=$0g+this.$hH()+$0H;if($0g>=0){this.nav.scroll.style.height=($0g)+'px';this.$hN.style.height=($0g)+'px';};if(this.nav.divider){if(!$0I||isNaN($0I)||$0I<0){$0I=0;};this.nav.divider.style.height=($0I)+"px";};if(this.heightSpec!=="Parent100Pct"){this.nav.top.style.height=($0I)+"px";};if($A.nav.resScrollSpace){var $0J=30+$A.$hi.bottom.height;if($A.heightSpec==="Auto"){$0J=DayPilot.sh($A.nav.scroll);};$A.nav.resScrollSpace.style.height=$0J+"px";};for(var i=0;i<this.elements.separators.length;i++){this.elements.separators[i].style.height=this.$gq+'px';};for(var i=0;i<this.elements.linesVertical.length;i++){this.elements.linesVertical[i].style.height=this.$gq+'px';};$A.$hO();$A.$hP();};this.$gH=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();this.$gt.pixels=[];this.itline=$v();var $0K=this.cellWidthSpec==="Auto";var $0L=function(){if(!$0K){return;};var $0M=0;if($A.$hQ()&&$A.timeline){$0M=$A.timeline.length;}else{if($A.scale==="Manual"){$0M=$A.timeline.length;}else{$A.$hR();$0M=$A.itline.length;$A.itline=$v();}};var $Y=$A.$hS();if($0M>0&&$Y>0){var $0e=$Y/$0M;$A.cellWidth=$p($0e,$A.cellWidthMin);$A.$hL=$0e<$A.cellWidthMin;}};$0L();if(this.$hQ()&&this.timeline){if(this.timeline){this.itline=$v();var $0N=null;var $0c=0;for(var i=0;i<this.timeline.length;i++){var $0O=this.timeline[i];var $0e={};$0e.start=new DayPilot.Date($0O.start);$0e.end=$0O.end?new DayPilot.Date($0O.end):$0e.start.addMinutes(this.cellDuration);if(!$0O.width){var $0d=Math.floor($0c+this.cellWidth);var $Y=$0d-Math.floor($0c);$0e.left=Math.floor($0c);$0e.width=$Y;$0c+=this.cellWidth;}else{$0e.left=$0O.left||$0c;$0e.width=$0O.width||this.cellWidth;$0c+=$0e.width;};$0e.breakBefore=$0N&&$0N.ticks!==$0e.start.ticks;$0N=$0e.end;this.itline.push($0e);}};if($0K){this.$hT();}}else{this.timeHeader=[];if(this.scale==="Manual"){this.itline=$v();var $0c=0;var $0N=null;for(var i=0;this.timeline&&i<this.timeline.length;i++){var $0O=this.timeline[i];var $0e={};$0e.start=new DayPilot.Date($0O.start);$0e.end=$0O.end?new DayPilot.Date($0O.end):$0e.start.addMinutes(this.cellDuration);if($0N&&$0e.start.ticks<$0N.ticks){throw new DayPilot.Exception("The timeline must be sequential");};var w=$0O.width||this.cellWidth;var $0d=Math.floor($0c+w);var $Y=$0d-Math.floor($0c);$0e.left=Math.floor($0c);$0e.width=$Y;$0c+=w;$0e.breakBefore=$0N&&$0N.ticks!==$0e.start.ticks;$0N=$0e.end;this.itline.push($0e);}}else{this.$hR();};this.$hU();}};this.infinite={};this.infinite.shiftStart=function($0P){$0a.$hV($0P);};this.infinite.scrollTo=function($M){$0a.$hW($M);};this.$hX={};var $0a=this.$hX;$0a.$hq=0;$0a.$hY=false;$0a.$hZ=function(){$A.$i0().forEach(function($U,i){$U.start=$A.$i1();$U.data=null;$A.$i2($U.index,$U.grid);});};$0a.$i3=function(){return $A.infiniteScrollingEnabled&&!$A.$hQ();};$0a.$hW=function($0Q){var $0Q=new DayPilot.Date($0Q);var $09=$0Q.addDays(-$A.infiniteScrollingStepDays).getDatePart();var $05=new DayPilot.Duration($09.getTime()-$A.startDate.getDatePart().getTime()).totalDays();$0a.$hV($05,$0Q);};$0a.$hV=function($0P,scrollTo){var $W;$0a.$hY=true;var $0R=$A.startDate;var $0S=$A.startDate.addDays($0P);if($0P>0){$W=-$A.getPixels($0S).left;};$A.startDate=$A.startDate.addDays($0P);$A.itline=$v();$A.$gt.pixels=[];$A.$i4={};$A.$hR();$0a.$hZ();if($0P<0){$W=$A.getPixels($0R).left;};$A.timeHeader=[];$A.$hU();$A.$gP();$A.cellProperties={};$A.$gW();$A.$gY();$A.$gL();$A.$gX();$A.$gQ();$A.$gT();$A.$gV();if(typeof scrollTo!=='undefined'){$A.scrollTo(new DayPilot.Date(scrollTo));$A.$h8();}else{$A.nav.scroll.scrollLeft+=$W;};$A.$h1();$A.$h2();$0a.$hY=false;};this.$hR=function(){if(!$A.$hc&&$0a.$i3()){this.startDate=this.startDate.addDays(-this.infiniteScrollingStepDays);};var $0T=(this.viewType!=='Days')?this.startDate.addDays(this.days):this.startDate.addDays(1);var $09=this.startDate;var end=this.$i5($09);var $0U=false;var $0c=0;var $0V=null;while(end.ticks<=$0T.ticks&&end.ticks>$09.ticks){var $0W=$09;var $0X=end;if($A.showNonBusinessForceHours&&$A.scale=="Day"){$0W=$09.addHours($A.businessBeginsHour);$0X=$09.addHours($A.businessEndsHour);};var $G=this.$i6($0W,$0X,true);if(!$G.cell.start||!$G.cell.end){throw new DayPilot.Exception("Invalid timeline cell start/end: start and/or end not specified");};$G.cell.start=new DayPilot.Date($G.cell.start);$G.cell.end=new DayPilot.Date($G.cell.end);if($G.cell.start>=$G.cell.end){throw new DayPilot.Exception("Invalid timeline cell start/end: end before start");};if($0V&&$0V.ticks>$G.cell.start.ticks){throw new DayPilot.Exception("Invalid timeline cell start/end: overlapping cells");};if($0V&&$0V.ticks<$G.cell.start.ticks){$0U=true;}else{$0U=false;};var $0Y=$G.cell.width||$A.cellWidth;if($G.cell.visible){var $0d=Math.floor($0c+$0Y);var $Y=$0d-Math.floor($0c);var $0Z={};$0Z.start=$G.cell.start;$0Z.end=$G.cell.end;$0Z.left=Math.floor($0c);$0Z.width=$Y;$0Z.breakBefore=$0U;this.itline.push($0Z);$0c+=$0Y;$0V=$G.cell.end;};$09=end;end=this.$i5($09);}};this.$hT=function(){if(!this.timeHeader){return;};for(var y=0;y<this.timeHeader.length;y++){var $U=this.timeHeader[y];for(var x=0;x<$U.length;x++){var h=$U[x];h.left=this.getPixels(new DayPilot.Date(h.start)).left;var $0d=this.getPixels(new DayPilot.Date(h.end)).left;var $Y=$0d-h.left;h.width=$Y;}}};this.$hU=function(){var $10=this.timeHeaders;if(!$10){$10=[{"groupBy":this.cellGroupBy},{"groupBy":"Cell"}];};if(this.itline.isEmpty()){this.timeHeader=[];for(var i=0;i<$10.length;i++){this.timeHeader[i]=[];};return;};var $11=$A.$i7();for(var i=0;i<$10.length;i++){var $12=$10[i].groupBy;var $13=$10[i].format;if($12==="Default"){$12=this.cellGroupBy;};var $14=[];var $09=this.$i1();while($09.ticks<$11.ticks){var h={};h.start=$09;h.end=this.$i8(h.start,$12);if(h.start.ticks===h.end.ticks){break;};h.left=this.getPixels(h.start).left;var $0d=this.getPixels(h.end).left;var $Y=$0d-h.left;h.width=$Y;h.colspan=Math.ceil($Y/(1.0*this.cellWidth));if(typeof $13==="string"){h.text=h.start.toString($13,$0B.$i9());}else{h.text=this.$ia(h,$12);};if($Y>0){if(typeof this.onBeforeTimeHeaderRender==='function'){var $0e={};$0e.start=h.start;$0e.end=h.end;$0e.text=h.text;$0e.html=null;$0e.toolTip=$A.$hz(h.text);$0e.backColor=null;$0e.fontColor=null;$0e.level=this.timeHeader.length;$0e.cssClass=null;var $G={};$G.header=$0e;$G.control=$A;this.onBeforeTimeHeaderRender($G);h.innerHTML=$A.$hz($0e.text,$0e.html);h.backColor=$0e.backColor;h.fontColor=$0e.fontColor;h.toolTip=$0e.toolTip;h.areas=$0e.areas;h.cssClass=$0e.cssClass;};$14.push(h);};$09=h.end;};this.timeHeader.push($14);}};this.$i6=function($09,end){var $0e={};$0e.start=$09;$0e.end=end;$0e.visible=true;$0e.width=null;var $G={};$G.cell=$0e;if(typeof this.onIncludeTimeCell==='function'){this.onIncludeTimeCell($G);return $G;};if(this.showNonBusiness){return $G;};var $15=$A.viewType==="Days";$G.cell.visible=this.isBusiness({"start":$09,"end":end},$15);return $G;};this.getPixels=function($M){var $16=$M.ticks;var $0x=this.$gt.pixels[$16];if($0x){return $0x;};var $17=null;var $18=221876841600000;if(this.itline.length===0||$16<this.itline[0].start.ticks){var $B={};$B.cut=false;$B.left=0;$B.boxLeft=$B.left;$B.boxRight=$B.left;$B.i=null;return $B;};var $19=this.$ib($M);var si=$p($19.i-1,0);for(var i=si;i<this.itline.length;i++){var $0e=this.itline[i];var $1a=$0e.start.ticks;var $1b=$0e.end.ticks;if($1a<$16&&$16<$1b){var offset=$16-$1a;var $B={};$B.cut=false;$B.left=$0e.left+this.$ic($0e,offset);$B.boxLeft=$0e.left;$B.boxRight=$0e.left+$0e.width;$B.i=i;break;}else if($1a===$16){var $B={};$B.cut=false;$B.left=$0e.left;$B.boxLeft=$B.left;$B.boxRight=$B.left+$0e.width;$B.i=i;break;}else if($1b===$16){var $B={};$B.cut=false;$B.left=$0e.left+$0e.width;$B.boxLeft=$B.left;$B.boxRight=$B.left;$B.i=i+1;break;}else if($16<$1a&&$16>$18){var $B={};$B.cut=true;$B.left=$0e.left;$B.boxLeft=$B.left;$B.boxRight=$B.left;$B.i=i;break;};$18=$1b;};if(!$B){var $1c=this.itline[this.itline.length-1];var $B={};$B.cut=true;$B.left=$1c.left+$1c.width;$B.boxLeft=$B.left;$B.boxRight=$B.left;$B.i=null;};this.$gt.pixels[$16]=$B;return $B;};this.getDate=function($0c,$1d,$1e){var $O=this.$id($0c,$1e);if(!$O){return null;};var x=$O.x;var $1f=this.itline[x];if(!$1f){return null;};var $09=($1e&&!$1d)?$1f.end:$1f.start;if(!$1d){return $09;}else{return $09.addTime(this.$ie($O.cell,$O.offset));}};this.$id=function($W,$1e){if(this.itline.length===0){return null;};var $04=0;var $17=0;for(var i=0;i<this.itline.length;i++){var $0e=this.itline[i];var $Y=$0e.width||this.cellWidth;$04+=$Y;if(($W<$04)||($1e&&$W===$04)){var $B={};$B.x=i;$B.offset=$W-$17;$B.cell=$0e;return $B;};$17=$04;};var $0e=$A.itline.last();var $B={};$B.x=this.itline.length-1;$B.offset=$0e.width||this.cellWidth;$B.cell=$0e;return $B;};this.$if=function($1g){return this.$ib($1g);};this.$ib=function($1g){var $04=new DayPilot.Date($1g);var $1h=0;var $1i=this.itline[0];if($04.ticks<$1i.start.ticks){var $B={};$B.hidden=true;$B.previous=null;$B.current=null;$B.next=this.itline[0];$B.i=-1;return $B;};var to=this.itline.length-1;var $1c=this.itline[to];if($04.ticks>$1c.end.ticks){var $B={};$B.past=true;$B.previous=this.itline[this.itline.length-1];$B.i=this.itline.length;return $B;};if($04.ticks===$1c.end.ticks){var $B={};$B.past=false;$B.current=this.itline[this.itline.length-1];$B.i=this.itline.length-1;return $B;};var si=(function(){var $1j=$A.itline;var $1k;while($1h<=to){$1k=Math.floor(($1h+to)/2);if($1j[$1k].start.ticks>$04.ticks){to=$1k-1;}else if($1j[$1k].end.ticks<$04.ticks){$1h=$1k+1;}else{return $1k;}};return $1h;})();for(var i=si;i<this.itline.length;i++){var $0e=this.itline[i];if($0e.start.ticks<=$04.ticks&&$04.ticks<$0e.end.ticks){var $B={};$B.hidden=false;$B.current=$0e;$B.i=i;return $B;};if($04.ticks<$0e.start.ticks){var $B={};$B.hidden=true;$B.previous=i>0?this.itline[i-1]:null;$B.current=null;$B.next=this.itline[i];$B.i=i;return $B;}};var $B={};$B.past=true;$B.previous=this.itline[this.itline.length-1];$B.i=this.itline.length;return $B;};this.$ic=function($0e,$16){var $Y=$0e.width||this.cellWidth;var $1l=$0e.end.ticks-$0e.start.ticks;return Math.floor(($Y*$16)/($1l));};this.$ie=function($0e,$W){var $1l=$0e.end.ticks-$0e.start.ticks;var $Y=$0e.width||this.cellWidth;return Math.floor($W/$Y*$1l);};this.$ig=function(ev){if($u.touch.start){return;};if(DayPilotScheduler.$ih){return;};$A.$ii={};$A.$ij(this,ev);};this.eventClickPostBack=function(e,$I){this.$ik('EventClick',e,$I);};this.eventClickCallBack=function(e,$I){this.$il('EventClick',e,$I);};this.$ij=function($0r,ev){var e=$0r.event;if(!e){return;};if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if(!e.client.doubleClickEnabled()){$A.$im($0r,ev);return;};if(!$A.$in.click){$A.$in.click=[];};var $1m=function($0r,ev){return function(){$A.$im($0r,ev);};};$A.$in.click.push(window.setTimeout($1m($0r,ev),$A.doubleClickTimeout));};this.$io=function(x){return $A.itline[x];};this.$im=function($0r,ev){if(typeof ev==="boolean"){throw new DayPilot.Exception("Invalid _eventClickSingle parameters");};var e=$0r.event;if(!e){return;};var $1n=ev.ctrlKey;var $1o=ev.metaKey;if(!e.client.clickEnabled()){return;};$A.$ip(ev);if($A.$hb()){var $G={};$G.e=e;$G.control=$A;$G.div=$0r;$G.originalEvent=ev;$G.ctrl=$1n;$G.meta=$1o;$G.shift=ev.shiftKey;$G.preventDefault=function(){this.preventDefault.value=true;};$G.toJSON=function(){return $r($G,{},["e","ctrl","meta","shift"]);};if(typeof $A.onEventClick==='function'){$A.onEventClick($G);if($G.preventDefault.value){return;}};switch($A.eventClickHandling){case 'PostBack':$A.eventClickPostBack(e);break;case 'CallBack':$A.eventClickCallBack(e);break;case 'Edit':$A.$iq($0r);break;case 'Select':$A.$ir($0r,e,$1n,$1o);break;case 'ContextMenu':var $1p=e.client.contextMenu();if($1p){$1p.show(e);}else{if($A.contextMenu){$A.contextMenu.show(e);}};break;case 'Bubble':if($A.bubble){$A.bubble.showEvent(e);};break;case "RectangleSelect":if($0B.$is()!=="Disabled"){$1q.start();return false;};break;};if(typeof $A.onEventClicked==='function'){$A.onEventClicked($G);}}else{switch($A.eventClickHandling){case 'PostBack':$A.eventClickPostBack(e);break;case 'CallBack':$A.eventClickCallBack(e);break;case 'JavaScript':$A.onEventClick(e);break;case 'Edit':$A.$iq($0r);break;case 'Select':$A.$ir($0r,e,$1n,$1o);break;case 'ContextMenu':var $1p=e.client.contextMenu();if($1p){$1p.show(e);}else{if($A.contextMenu){$A.contextMenu.show(e);}};break;case 'Bubble':if($A.bubble){$A.bubble.showEvent(e);};break;case "RectangleSelect":if($0B.$is()!=="Disabled"){$1q.start();return false;};break;}}};this.$it=function(e){if($A.$hb()){var $1r=function(){if($G.preventDefault.value){return;};$G.loaded=function(){};switch($A.eventDeleteHandling){case 'PostBack':$A.eventDeletePostBack(e);break;case 'CallBack':$A.eventDeleteCallBack(e);break;case 'Update':$A.events.remove(e);if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();};break;};if(typeof $A.onEventDeleted==='function'){$A.onEventDeleted($G);}};var $G={};$G.async=false;$G.e=e;$G.preventDefault=function(){this.preventDefault.value=true;};$G.control=$A;$G.toJSON=function(){return $r($G,{},["e"]);};$G.loaded=function(){$1r();};if(typeof $A.onEventDelete==='function'){$A.onEventDelete($G);};if(!$G.async){$1r();}}else{switch($A.eventDeleteHandling){case 'PostBack':$A.eventDeletePostBack(e);break;case 'CallBack':$A.eventDeleteCallBack(e);break;case 'JavaScript':$A.onEventDelete(e);break;}}};this.eventDeletePostBack=function(e,$I){this.$ik('EventDelete',e,$I);};this.eventDeleteCallBack=function(e,$I){this.$il('EventDelete',e,$I);};this.setHScrollPosition=function($W){this.nav.scroll.scrollLeft=$W;};this.getScrollX=function(){return this.nav.scroll.scrollLeft;};this.getHScrollPosition=this.getScrollX;this.getScrollY=function(){return this.nav.scroll.scrollTop;};this.$ir=function($0r,e,$1n,$1o){$A.$iu($0r,e,$1n,$1o);};this.eventSelectPostBack=function(e,$1s,$I){var $1t={};$1t.e=e;$1t.change=$1s;this.$ik('EventSelect',$1t,$I);};this.eventSelectCallBack=function(e,$1s,$I){var $1t={};$1t.e=e;$1t.change=$1s;this.$il('EventSelect',$1t,$I);};this.$iu=function($0r,e,$1n,$1o){var m=$A.multiselect;var $1u=false;var $1v=m.isSelected(e);var $1w=$1n||$1o;if(!$1w&&$1v&&!$1u&&m.$iv.length===1){return;};if($A.$hb()){m.$iw=m.events();var $G={};$G.e=e;$G.selected=$1v;$G.ctrl=$1n;$G.meta=$1o;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onEventSelect==='function'){$A.onEventSelect($G);if($G.preventDefault.value){return;}};switch($A.eventSelectHandling){case 'PostBack':$A.eventSelectPostBack(e,$1s);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$A.eventSelectCallBack(e,$1s);break;case 'Update':m.$ix($0r,$1n,$1o);break;};if(typeof $A.onEventSelected==='function'){$G.change=m.isSelected(e)?"selected":"deselected";$G.selected=m.isSelected(e);$A.onEventSelected($G);}}else{m.$iw=m.events();m.$ix($0r,$1n,$1o);var $1s=m.isSelected(e)?"selected":"deselected";switch($A.eventSelectHandling){case 'PostBack':$A.eventSelectPostBack(e,$1s);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$A.eventSelectCallBack(e,$1s);break;case 'JavaScript':$A.onEventSelect(e,$1s);break;}}};this.eventRightClickPostBack=function(e,$I){this.$ik('EventRightClick',e,$I);};this.eventRightClickCallBack=function(e,$I){this.$il('EventRightClick',e,$I);};this.$iy=function(ev){if($u.touch.active||$u.touch.start){return;};var e=this.event;ev.cancelBubble=true;if(!$A.allowDefaultContextMenu){ev.preventDefault();};if(!this.event.client.rightClickEnabled()){return false;};$A.$ip(ev);if($A.$hb()){var $G={};$G.e=e;$G.div=this;$G.originalEvent=ev;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onEventRightClick==='function'){$A.onEventRightClick($G);if($G.preventDefault.value){return false;}};switch($A.eventRightClickHandling){case 'PostBack':$A.eventRightClickPostBack(e);break;case 'CallBack':$A.eventRightClickCallBack(e);break;case 'ContextMenu':var $1p=e.client.contextMenu();if($1p){$1p.show(e);}else{if($A.contextMenu){$A.contextMenu.show(this.event);}};break;case 'Bubble':if($A.bubble){$A.bubble.showEvent(e);};break;};if(typeof $A.onEventRightClicked==='function'){$A.onEventRightClicked($G);}}else{switch($A.eventRightClickHandling){case 'PostBack':$A.eventRightClickPostBack(e);break;case 'CallBack':$A.eventRightClickCallBack(e);break;case 'JavaScript':$A.onEventRightClick(e);break;case 'ContextMenu':var $1p=e.client.contextMenu();if($1p){$1p.show(e);}else{if($A.contextMenu){$A.contextMenu.show(this.event);}};break;case 'Bubble':if($A.bubble){$A.bubble.showEvent(e);};break;}};return false;};this.eventDoubleClickPostBack=function(e,$I){this.$ik('EventDoubleClick',e,$I);};this.eventDoubleClickCallBack=function(e,$I){this.$il('EventDoubleClick',e,$I);};this.$iz=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($A.$in.click){for(var $1x in $A.$in.click){window.clearTimeout($A.$in.click[$1x]);};$A.$in.click=null;};var e=this.event;ev.stopPropagation&&ev.stopPropagation();ev.cancelBubble=true;if($A.$hb()){var $G={};$G.e=e;$G.originalEvent=ev;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onEventDoubleClick==='function'){$A.onEventDoubleClick($G);if($G.preventDefault.value){return;}};switch($A.eventDoubleClickHandling){case 'PostBack':$A.eventDoubleClickPostBack(e);break;case 'CallBack':$A.eventDoubleClickCallBack(e);break;case 'Edit':$A.$iq(this);break;case 'Select':$A.$ir($0r,e,ev.ctrlKey,ev.metaKey);break;case 'Bubble':if($A.bubble){$A.bubble.showEvent(e);};break;case 'ContextMenu':var $1p=e.client.contextMenu();if($1p){$1p.show(e);}else{if($A.contextMenu){$A.contextMenu.show(e);}};break;};if(typeof $A.onEventDoubleClicked==='function'){$A.onEventDoubleClicked($G);}}else{switch($A.eventDoubleClickHandling){case 'PostBack':$A.eventDoubleClickPostBack(e);break;case 'CallBack':$A.eventDoubleClickCallBack(e);break;case 'JavaScript':$A.onEventDoubleClick(e);break;case 'Edit':$A.$iq(this);break;case 'Select':$A.$ir($0r,e,ev.ctrlKey,ev.metaKey);break;case 'Bubble':if($A.bubble){$A.bubble.showEvent(e);};break;case 'ContextMenu':var $1p=e.client.contextMenu();if($1p){$1p.show(e);}else{if($A.contextMenu){$A.contextMenu.show(e);}};break;}}};this.eventResizePostBack=function(e,$0S,$1y,$I){this.$iA("PostBack",e,$0S,$1y,$I);};this.eventResizeCallBack=function(e,$0S,$1y,$I){this.$iA("CallBack",e,$0S,$1y,$I);};this.$iA=function($0m,e,$0S,$1y,$I){var $1z=e&&!!e.preventDefault;var $1t={};if($1z){var $G=e;$1t.e=$G.e;$1t.newStart=$G.newStart;$1t.newEnd=$G.newEnd;$1t.multiresize=[];$G.multiresize.forEach(function($0p){var $1A={};$1A.e=$0p.event;$1A.newStart=$0p.start;$1A.newEnd=$0p.end;$1t.multiresize.push($1A);});}else{$1t.e=e;$1t.newStart=$0S;$1t.newEnd=$1y;};this.$iB($0m,"EventResize",$1t,$I);};this.$iC=function(e,$0S,$1y,$1B){if(this.eventResizeHandling==='Disabled'){return;};$1y=$A.$iD($1y);var $G={};$G.e=e;$G.async=false;$G.loaded=function(){$1C();};$G.newStart=$0S;$G.newEnd=$1y;$G.what=$1B;$G.preventDefault=function(){this.preventDefault.value=true;};$G.multiresize=$v($1D.list);$G.control=$A;$G.toJSON=function(){return $r($G,{},["e","async","newStart","newEnd","multiresize"]);};var $1E={};$1E.event=e;$1E.start=$0S;$1E.end=$1y;$G.multiresize.splice(0,0,$1E);if($A.$hb()){var $1C=function(){$1F.$iE();if($G.preventDefault.value){return;};$G.loaded=function(){};$0S=$G.newStart;$1y=$G.newEnd;switch($A.eventResizeHandling){case 'PostBack':$A.eventResizePostBack($G);break;case 'CallBack':$A.eventResizeCallBack($G);break;case 'Notify':$A.eventResizeNotify($G);break;case 'Update':$A.$iF($G);break;};if(typeof $A.onEventResized==='function'){$A.onEventResized($G);}};if(typeof $A.onEventResize==='function'){$A.onEventResize($G);};if(!$G.async){$1C();}else{if($A.blockOnCallBack){$1F.$gR();}}}else{switch($A.eventResizeHandling){case 'PostBack':$A.eventResizePostBack($G);break;case 'CallBack':$A.eventResizeCallBack($G);break;case 'JavaScript':$A.onEventResize(e,$0S,$1y);break;case 'Notify':$A.eventResizeNotify($G);break;case 'Update':$A.$iF($G);break;}}};this.eventMovePostBack=function(e,$0S,$1y,$1G,$I,$14){this.$iG("PostBack",e,$0S,$1y,$1G,$I,$14);};this.eventMoveCallBack=function(e,$0S,$1y,$1G,$I,$14){this.$iG("CallBack",e,$0S,$1y,$1G,$I,$14);};this.$iG=function($0m,e,$0S,$1y,$1G,$I,$14){var $1z=e&&!!e.preventDefault;var $1t={};if($1z){var $G=e;$1t.e=$G.e;$1t.newStart=$G.newStart;$1t.newEnd=$G.newEnd;$1t.newResource=$G.newResource;$1t.position=$G.position;$1t.multimove=[];$G.multimove.forEach(function($0p){var $1A={};$1A.e=$0p.event;$1A.newStart=$0p.start;$1A.newEnd=$0p.end;$1A.newResource=$0p.event.resource();if($1A.e===$G.e||$1A.e.data.id==$G.e.data.id){$1A.newResource=$G.newResource;}else if(mm.rowoffset){var ri=$0p.event.part.dayIndex+mm.rowoffset;$1A.newResource=$A.rowlist[ri].id;};$1t.multimove.push($1A);});}else{$1t.e=e;$1t.newStart=$0S;$1t.newEnd=$1y;$1t.newResource=$1G;$1t.position=$14;};this.$iB($0m,"EventMove",$1t,$I);};this.$iH=function($0m,$G,$I){var $1t={};$1t.start=$G.start;$1t.end=$G.end;$1t.resource=$G.resource;$1t.multirange=[];$G.multirange.forEach(function($0p){var $1H={};$1H.start=$0p.start;$1H.end=$0p.end;$1H.resource=$0p.resource;$1t.multirange.push($1H);});this.$iB($0m,"TimeRangeSelected",$1t,$I);};this.$iB=function($0m,$1I,$1t,$I){if($0m==='PostBack'){$A.$ik($1I,$1t,$I);}else if($0m==='CallBack'){$A.$il($1I,$1t,$I,"CallBack");}else if($0m==='Immediate'){$A.$il($1I,$1t,$I,"Notify");}else if($0m==='Queue'){$A.queue.add(new DayPilot.Action(this,$1I,$1t,$I));}else if($0m==='Notify'){if($0B.$iI()==='Notify'){$A.$il($1I,$1t,$I,"Notify");}else{$A.queue.add(new DayPilot.Action($A,$1I,$1t,$I));}}else{throw new DayPilot.Exception("Invalid event invocation type");}};this.eventMoveNotify=function(e,$0S,$1y,$1G,$I,$14){var $1z=e&&!!e.preventDefault;if($1z){var $G=e;$G.old=new DayPilot.Event($G.e.copy(),$A);$G.multimove.forEach(function($0p){$0p.old=new DayPilot.Event($0p.event.copy(),$A);});$A.$iF($G);$G.e=$G.old;delete $G.old;$G.multimove.forEach(function($0p){$0p.event=$0p.old;delete $0p.old;});}else{e=new DayPilot.Event(e.copy(),$A);var $1J=$A.events.$iJ(e.data);e.start($0S);e.end($1y);e.resource($1G);e.commit();$1J=$1J.concat($A.events.$iK(e.data));$A.$iL($1J);$A.$iM();$A.$iN($1J);};this.$iG("Notify",e,$0S,$1y,$1G,$I,$14);};this.eventResizeNotify=function(e,$0S,$1y,$I){var $1z=e&&!!e.preventDefault;if($1z){var $G=e;$G.old=new DayPilot.Event($G.e.copy(),$A);$G.multiresize.forEach(function($0p){$0p.old=new DayPilot.Event($0p.event.copy(),$A);});$A.$iF($G);$G.e=$G.old;delete $G.old;$G.multiresize.forEach(function($0p){$0p.event=$0p.old;delete $0p.old;});}else{e=new DayPilot.Event(e.copy(),$A);var $1J=$A.events.$iJ(e.data);e.start($0S);e.end($1y);e.commit();$1J=$1J.concat($A.events.$iK(e.data));$A.$iL($1J);$A.$iM();$A.$iN($1J);};this.$iA("Notify",e,$0S,$1y,$I);};this.zoom={};this.zoom.active=-1;this.zoom.setActive=function($1K,$O,$M){var $1L;if(typeof $1K==="number"){$1L=$A.zoomLevels[$1K];}else if(typeof $1K==="string"){var i=$A.zoom.$iO($1K);$1L=$A.zoomLevels[i];}else{throw new DayPilot.Exception("Unexpected parameter type (string or number required): "+typeof $1K);};if(!$1L){throw new DayPilot.Exception("Zoom level not found: "+$1K+" ("+(typeof $1K)+")");};if($1K===$A.zoom.active&&!$M){return;};if(!$M){$M=$A.zoom.$iP($O);};if($M){$A.startDate=$M;};$A.zoom.$iQ($1K,$M);if($A.$hc){$A.update();};if($M){$A.scrollTo($M,null,$O||$A.zoomPosition);}};this.zoom.$iO=function(id){return $v($A.zoomLevels).findIndex(function($1L){return $1L.id===id;});};this.zoom.$iP=function($O){$O=$O||$A.zoomPosition||"left";var $M=null;if(!$A.nav.scroll){return null;};var $0f=$A.getViewPort();switch($O){case "left":$M=$0f.start;break;case "middle":$M=$0f.start&&$0f.start.addTime(($A.getViewPort().end.getTime()-$A.getViewPort().start.getTime())/2);break;case "right":$M=$0f.end;break;};return $M;};this.zoom.$iQ=function($1K,$M){var $X=$A.zoomLevels.length-1;if($1K>$X){$1K=$X;};if($1K<0){$1K=0;};$A.zoom.active=$1K;var $1L=$A.zoomLevels[$1K];var $G={};$G.date=$M||new DayPilot.Date($A.startDate);$G.level=$1L;DayPilot.Util.ownPropsAsArray($1L.properties).forEach(function($0p){if($0p.key.indexOf("on")===0){return;};if(typeof $0p.val==="function"){$A[$0p.key]=$0p.val($G);return;};$A[$0p.key]=$0p.val;});return $G;};this.multiselect={};this.multiselect.$iv=[];this.multiselect.$iR=[];this.multiselect.$iw=[];this.multiselect.$gZ=function($0n){$A.multiselect.$iv=$v($0n).map(function($0p){return new DayPilot.Event($0p,$A);});};this.multiselect.$iS=function(){var m=$A.multiselect;return JSON.stringify(m.events());};this.multiselect.events=function(){var m=$A.multiselect;var $0o=$v();$0o.ignoreToJSON=true;for(var i=0;i<m.$iv.length;i++){$0o.push(m.$iv[i]);};return $0o;};this.multiselect.get=function(){return $A.multiselect.events();};this.multiselect.$iT=function(){};this.multiselect.$ix=function($0r,$1M,$1N){var m=$A.multiselect;if(m.isSelected($0r.event)){if($A.allowMultiSelect){if($1M||$1N){m.remove($0r.event,true);}else{var $0M=m.$iv.length;m.clear();if($0M>1){m.add($0r.event,true);}}}else{m.clear();}}else{if($A.allowMultiSelect){if($1M||$1N){m.add($0r.event,true);}else{m.clear();m.add($0r.event,true);}}else{m.clear();m.add($0r.event,true);}};m.$iU($0r);m.$iT();};this.multiselect.$iV=function(ev){var m=$A.multiselect;return m.$iW(ev,m.$iv);};this.multiselect.$iX=function(){var m=$A.multiselect;var $0n=[];for(var i=0;i<m.$iv.length;i++){var event=m.$iv[i];$0n.push(event.value());};alert($0n.join("\n"));};this.multiselect.add=function(ev,$1O){var m=$A.multiselect;if(m.$iY(ev)===-1){m.$iv.push(ev);};if($1O){return;};m.$iZ(ev);};this.multiselect.remove=function(ev,$1O){var m=$A.multiselect;var i=m.$iY(ev);if(i!==-1){m.$iv.splice(i,1);};if($1O){return;};m.$iZ(ev);};this.multiselect.clear=function($1O){var m=$A.multiselect;m.$iv=[];if($1O){return;};m.redraw();};this.multiselect.redraw=function(){var m=$A.multiselect;m.$iR=[];for(var i=0;i<$A.elements.events.length;i++){var $0r=$A.elements.events[i];if(!$0r.event){continue;};if(!$0r.event.isEvent){continue;};if(m.isSelected($0r.event)){m.$j0($0r);}else{m.$j1($0r);}}};this.multiselect.$iU=function($0r){if(!$0r){return;};var m=$A.multiselect;if(m.isSelected($0r.event)){m.$j0($0r);}else{m.$j1($0r);}};this.multiselect.$iZ=function(e){var m=$A.multiselect;var $0r=$A.$j2(e);m.$iU($0r);};this.multiselect.$j0=function($0r){var m=$A.multiselect;var cn=$A.$hy("_selected");var $0r=m.$j3($0r);$n($0r,cn);m.$iR.push($0r);};this.multiselect.$j3=function($0r){return $0r;};this.multiselect.$j4=function(){var m=$A.multiselect;for(var i=0;i<m.$iR.length;i++){var $0r=m.$iR[i];m.$j1($0r,true);};m.$iR=[];};this.multiselect.$j1=function($0r,$1P){var m=$A.multiselect;var cn=$A.$hy("_selected");$m($0r,cn);if($1P){return;};var i=$y(m.$iR,$0r);if(i!==-1){m.$iR.splice(i,1);}};this.multiselect.isSelected=function(ev){if(!ev){return false;};if(!ev.isEvent){return false;};return $A.multiselect.$iW(ev,$A.multiselect.$iv);};this.multiselect.$iY=function(ev){var $I=ev.data;for(var i=0;i<$A.multiselect.$iv.length;i++){var $0p=$A.multiselect.$iv[i];if($A.$j5($0p.data,$I)){return i;}};return -1;};this.multiselect.$iW=function(e,$0n){if(!$0n){return false;};for(var i=0;i<$0n.length;i++){var ei=$0n[i];if($A.$j5(e,ei)){return true;}};return false;};this.multiselect.startRectangle=function(){$1q.start();};this.$j6=function(){this.$gY();this.$h1();};this.$j7=function(){$1Q.$j8();};this.$j9=function(){$A.$ja();$A.$gM();$A.$gN();$A.$gT();$A.$jb();if($A.progressiveRowRendering){$A.$jc();}};this.$iU=function($G){$G=$G||{};var $1R=!$G.eventsOnly;window.clearTimeout($A.$jd);var $1S=$A.keyboard.getFocus();$A.$gM();if($1R){if(!this.$hQ()){$A.timeHeader=null;$A.cellProperties={};};$A.$i4={};$A.$gG();$A.$gH();if(!$G||!$G.dontLoadResources){$A.$gI();};if($A.$je!==$A.timeHeaderPosition){$A.$jf();};$A.events.$jg();$A.$jh.$ji();$A.clearSelection();if($1S){$A.$jj.$jk();}};$A.$gL();$A.$jl();$A.$gK();$A.$gQ();$A.$gN();if($1R){$A.$jm();$A.$gO();$A.$gP();$A.$h7($A.selectedRows);$A.$jn();};$A.$gT();$A.$jb();$A.$gU();$1Q.$jo();this.$gX();this.$gW();this.$gF();this.$gJ();$A.$gV();this.$h0();this.$j6();if($G.immediateEvents||$G.eventsOnly){$A.$h2();}else{setTimeout(function(){$A.$h2();},100);};if($1R&&$1S){if($1S.e){var ev=$A.events.find(id);if(ev){$A.keyboard.focusEvent(e.id());}}else if($1S.cell){var $1T=$1S.cell.start;var $1U=$1S.cell.resource;var $0e=$A.$jp($1T,$1U);if($0e&&$0e.grid==="main"){$A.keyboard.focusCell($1T,$1U);}}};if(this.visible){if($A.$gs!=$A.visible){this.show();}}else{this.hide();};this.$gs=this.visible;this.$h6();var angular=$A.$jq.scope||$A.$he.enabled;if(angular){if($A.$hc){$A.$h8();}else if(!$0a.$i3()){$A.$h8();}}else{$A.$h8();};this.$jr();this.$gD();this.$js();};this.$jr=function(){if(typeof $A.onAfterUpdate!=="function"){return;};var $G={};$A.onAfterUpdate($G);};this.update=function($z){if(!$A.$hc){throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized.");};if($A.$gp){throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");};$1V.request($z);};var $1V={};$1V.timeout=null;$1V.options=null;$1V.enabled=false;$1V.request=function($z){if($1V.enabled){clearTimeout($1V.timeout);$1V.$jt($z);$1V.timeout=setTimeout($1V.doit);}else{$1V.$jt($z);$1V.doit();}};$1V.$jt=function($z){if(!$z){return;};if(!$1V.options){$1V.options={};};for(var name in $z){$1V.options[name]=$z[name];}};$1V.doit=function(){var $z=$1V.options;$1V.options=null;if(!$A.$hc){$A.$ju($z);return;};if(DayPilot.Util.isOnlyProperty($z,"events")){$A.events.list=$z.events;$A.$iU({"eventsOnly":true});$1W.$jv();return;};if(DayPilot.Util.isOnlyProperty($z,"separators")){$A.separators=$z.separators;$A.$j6();return;};if(DayPilot.Util.isOnlyProperty($z,"rowHeaderColumns")&&!$A.$jw()){$A.rowHeaderColumns=$z.rowHeaderColumns;$A.$j9();return;};if(DayPilot.Util.isOnlyProperty($z,"links")){$A.links.list=$z.links;$A.$j7();return;};$A.$ju($z);$A.$iU({"immediateEvents":true});$A.$jx();$1W.$jv();$A.$gE(null,false);};this.$jy=function($1J){$1J.forEach(function($U){$A.$jz($U.index,$U.grid);});};this.$jA=function($1J){if(!$1J||$1J.length===0){return[];};if($1J[0].isRow){return $1J;};return $1J.map(function(i){return $A.rowlist[i];});};this.$iN=function($1J,$1X,$1Y){$1J=DayPilot.ua($1J);$1J=$A.$jA($1J);$A.$jy($1J);if(this.$jB){this.$gQ();this.$gT();this.$gW();this.$gY();$1J.forEach(function($U){$A.$jC($U.index,$U.grid);});$1J.forEach(function($U){$A.$jD($U.index,$U.grid);});this.$h0();this.$h1();this.$jE();this.$jF();this.$jG();}else{$1J.forEach(function($U){if(!$1X){$A.$jC($U.index,$U.grid);};$A.$jD($U.index,$U.grid);});$1J.forEach(function($U){$A.$jH($U.index,$U.grid);});$A.$h0();};$A.$hs();$1Q.$j8();$A.multiselect.redraw();if($1Y){$1Y();};this.$gF();};this.$iD=function($M){if($A.eventEndSpec==="DateTime"){return $M;};if($M.getDatePart().ticks===$M.ticks){return $M.addDays(-1);};return $M.getDatePart();};this.$jI=function($M){if($A.eventEndSpec==="DateTime"){return $M;};return $M.getDatePart().addDays(1);};this.$jJ=function($M){if($A.eventEndSpec==="DateTime"){return $M;};return $M.getDatePart();};this.$jK=function(e,$0S,$1y,$1G,external,ev,$14){$A.$jL=null;if($A.eventMoveHandling==='Disabled'){return;};$1y=$A.$iD($1y);var $G={};$G.e=e;$G.newStart=$0S;$G.newEnd=$1y;$G.newResource=$1G;$G.external=external;$G.ctrl=false;$G.meta=false;$G.shift=false;if(ev){$G.shift=ev.shiftKey;$G.ctrl=ev.ctrlKey;$G.meta=ev.metaKey;};$G.multimove=$v(mm.list);$G.areaData=$u.movingAreaData;$G.control=$A;$G.toJSON=function(){return $r($G,{},["e","newStart","newEnd","newResource","external","ctrl","meta","shift","multimove","areaData"]);};var $1E={};$1E.event=e;$1E.start=$0S;$1E.end=$1y;$1E.overlapping=false;$1E.resource=$1G;$G.multimove.splice(0,0,$1E);$G.position=$14;$G.preventDefault=function(){this.preventDefault.value=true;};if($A.$hb()){var $1Z=function(){$G.loaded=function(){};$1F.$iE();if($G.preventDefault.value){DayPilotScheduler.$ih=true;$A.$jM();return;};$0S=$G.newStart;$1y=$G.newEnd;switch($A.eventMoveHandling){case 'PostBack':$A.eventMovePostBack($G);break;case 'CallBack':$A.eventMoveCallBack($G);break;case 'Notify':$A.eventMoveNotify($G);break;case 'Update':$A.$iF($G);break;};$A.$jM();if(typeof $A.onEventMoved==='function'){$A.onEventMoved($G);}};$G.async=false;$G.loaded=function(){$1Z();};if(typeof $A.onEventMove==='function'){$A.onEventMove($G);};if(!$G.async){$1Z();}else{if($A.blockOnCallBack){$1F.$gR();}}}else{switch($A.eventMoveHandling){case 'PostBack':$A.eventMovePostBack($G);break;case 'CallBack':$A.eventMoveCallBack($G);break;case 'JavaScript':$A.onEventMove(e,$0S,$1y,$1G,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false,$14);break;case 'Notify':$A.eventMoveNotify($G);break;case 'Update':$A.$iF($G);break;};$A.$jM();}};this.$iF=function($G){var e=$G.e;var $0S=$G.newStart;var $1y=$G.newEnd;var $1G=$G.newResource;var external=$G.external;e.start($0S);e.end($1y);e.resource($1G);if(external){e.commit();$A.events.add(e);}else{$A.events.update(e);};if($G.multimove&&!$G.multimove.isEmpty()){$G.multimove.forEach(function($0p){if($0p.event===e){return;};$0p.event.start($0p.start);$0p.event.end($0p.end);$0p.event.resource($0p.resource);$0p.event.commit();$A.events.update($0p.event);});};if($G.multiresize&&!$G.multiresize.isEmpty()){$G.multiresize.forEach(function($0p){if($0p.event===e){return;};$0p.event.start($0p.start);$0p.event.end($0p.end);$0p.event.commit();$A.events.update($0p.event);});};$A.events.$jN();$A.$gC();};this.$jO=function($G,$F){var $E=$A.$jP($F);var $1t={};$1t.args=$G;$1t.guid=$E;$A.$il("Bubble",$1t);};this.$jP=function($F){var $E=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$E]=$F;return $E;};this.eventMenuClickPostBack=function(e,$20,$I){var $1t={};$1t.e=e;$1t.command=$20;this.$ik('EventMenuClick',$1t,$I);};this.eventMenuClickCallBack=function(e,$20,$I){var $1t={};$1t.e=e;$1t.command=$20;this.$il('EventMenuClick',$1t,$I);};this.$jQ=function($20,e,$21){switch($21){case 'PostBack':$A.eventMenuClickPostBack(e,$20);break;case 'CallBack':$A.eventMenuClickCallBack(e,$20);break;}};this.timeRangeSelectedPostBack=function($09,end,$22,$I){var $23={};$23.start=$09;$23.end=end;$23.resource=$22;this.$ik('TimeRangeSelected',$23,$I);};this.timeRangeSelectedCallBack=function($09,end,$22,$I){var $23={};$23.start=$09;$23.end=end;$23.resource=$22;this.$il('TimeRangeSelected',$23,$I);};this.$jR=function($23){if(!$23){return;};if($23.disabled){$A.clearSelection();return;};if($23.args){$A.$jS($23.args.start,$23.args.end,$23.args.resource);}else{var $24=$A.$jT($23);if(!$24){return;};$A.$jS($24.start,$24.end,$24.resource);}};this.$jS=function($09,end,$22){if($A.timeRangeSelectedHandling==='Disabled'){return;};var $25=end;end=$A.$iD($25);var $G={};$G.control=$A;$G.start=$09;$G.end=end;$G.resource=$22;$G.preventDefault=function(){this.preventDefault.value=true;};$G.multirange=$v(mr.list).map(function($0p){return $A.$jT($0p);});if($G.multirange.isEmpty()){$G.multirange.push({"start":$G.start,"end":$G.end,"resource":$G.resource});};$G.toJSON=function(){return $r($G,{},["start","end","resource","multirange"]);};if($A.$hb()){if(typeof $A.onTimeRangeSelect==='function'){$A.onTimeRangeSelect($G);if($G.preventDefault.value){return;};$09=$G.start;end=$G.end;};end=$A.$jI(end);$A.$jU($A.$jV,$09,end,$G.multirange);$A.$jW($A.$jV);switch($A.timeRangeSelectedHandling){case 'PostBack':$A.$iH("PostBack",$G);break;case 'CallBack':$A.$iH("CallBack",$G);break;};if(typeof $A.onTimeRangeSelected==='function'){$A.onTimeRangeSelected($G);}}else{switch($A.timeRangeSelectedHandling){case 'PostBack':$A.$iH("PostBack",$G);break;case 'CallBack':$A.$iH("CallBack",$G);break;case 'JavaScript':$A.onTimeRangeSelected($09,end,$22,$G.multirange);break;case 'Hold':break;}}};this.$jU=function($23,$09,end,$26){if(!$23||($26&&$26.length>1)){return;};var $25=end;var $1f,$0e;var $27=0;if($A.viewType==="Days"){var $U=$A.$hg($09);$27=$U.start.getTime()-$A.$i1().getTime();};if($09.getTime()<$A.itline[0].start.getTime()){$23.start.x=0;$23.start.time=$A.itline[0].start.getTime();}else{$1f=$A.$if($09.addTime(-$27));$0e=$1f.current||$1f.previous;$23.start.x=$y($A.itline,$0e);$23.start.time=$09;};$1f=$A.$if($25.addMilliseconds(-1).addTime(-$27));if($1f.past){$23.end.x=$A.itline.length-1;$23.end.time=$A.itline[$A.itline.length-1].end.getTime();}else{$0e=$1f.current||$1f.next;$23.end.x=$y($A.itline,$0e);$23.end.time=end;}};this.$hg=function($09){var $0Q=$09.getDatePart();return $v($A.rowlist).find(function($0p){return $0p.start.getDatePart()===$0Q;});};this.timeRangeDoubleClickPostBack=function($09,end,$22,$I){var $23={};$23.start=$09;$23.end=end;$23.resource=$22;this.$ik('TimeRangeDoubleClick',$23,$I);};this.timeRangeDoubleClickCallBack=function($09,end,$22,$I){var $23={};$23.start=$09;$23.end=end;$23.resource=$22;this.$il('TimeRangeDoubleClick',$23,$I);};this.$jX=function($09,end,$22){end=$A.$iD(end);if($A.$hb()){var $G={};$G.start=$09;$G.end=end;$G.resource=$22;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onTimeRangeDoubleClick==='function'){$A.onTimeRangeDoubleClick($G);if($G.preventDefault.value){return;}};switch($A.timeRangeDoubleClickHandling){case 'PostBack':$A.timeRangeDoubleClickPostBack($09,end,$22);break;case 'CallBack':$A.timeRangeDoubleClickCallBack($09,end,$22);break;};if(typeof $A.onTimeRangeDoubleClicked==='function'){$A.onTimeRangeDoubleClicked($G);}}else{switch($A.timeRangeDoubleClickHandling){case 'PostBack':$A.timeRangeDoubleClickPostBack($09,end,$22);break;case 'CallBack':$A.timeRangeDoubleClickCallBack($09,end,$22);break;case 'JavaScript':$A.onTimeRangeDoubleClick($09,end,$22);break;}}};this.timeRangeMenuClickPostBack=function(e,$20,$I){var $1t={};$1t.selection=e;$1t.command=$20;this.$ik("TimeRangeMenuClick",$1t,$I);};this.timeRangeMenuClickCallBack=function(e,$20,$I){var $1t={};$1t.selection=e;$1t.command=$20;this.$il("TimeRangeMenuClick",$1t,$I);};this.$jY=function($20,e,$21){switch($21){case 'PostBack':$A.timeRangeMenuClickPostBack(e,$20);break;case 'CallBack':$A.timeRangeMenuClickCallBack(e,$20);break;}};this.linkMenuClickPostBack=function(e,$20,$I){var $1t={};$1t.link=e;$1t.command=$20;this.$ik("LinkMenuClick",$1t,$I);};this.linkMenuClickCallBack=function(e,$20,$I){var $1t={};$1t.link=e;$1t.command=$20;this.$il("LinkMenuClick",$1t,$I);};this.$jZ=function($20,e,$21){switch($21){case 'PostBack':$A.linkMenuClickPostBack(e,$20);break;case 'CallBack':$A.linkMenuClickCallBack(e,$20);break;}};this.rowMenuClickPostBack=function(e,$20,$I){var $1t={};$1t.resource=e;$1t.command=$20;this.$ik("RowMenuClick",$1t,$I);};this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack;this.rowMenuClickCallBack=function(e,$20,$I){var $1t={};$1t.resource=e;$1t.command=$20;this.$il("RowMenuClick",$1t,$I);};this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack;this.$k0=function($20,e,$21){switch($21){case 'PostBack':$A.rowMenuClickPostBack(e,$20);break;case 'CallBack':$A.rowMenuClickCallBack(e,$20);break;}};this.$k1=function($28,$29,$2a){var r=$A.$k2($28);var $I=r.data;if($28.task){$I=$28.task;};if($A.rowHeaderColumns){var $2b=$A.rowHeaderColumns[$2a].display;if($2a===0&&!$2b){$I.name=$29;$I.html=$A.$hz($29);};if($2b){$A.$k3($I,$2b,$29);}}else{$I.name=$29;$I.html=$A.$hz($29);};$A.rows.update(r);};this.$k4=function($U,$29){if(!$29){return;};var $G={};$G.text=$29;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onRowCreate==="function"){$A.onRowCreate($G);if($G.preventDefault.value){return;}};switch($A.rowCreateHandling){case "CallBack":$A.rowCreateCallBack($G.text);break;case "PostBack":$A.rowCreatePostBack($G.text);break;};if(typeof $A.onRowCreated==="function"){$A.onRowCreated($G);}};this.$k5=function($U,$29,$2c,$2d){if($U.isNewRow){if(!$2c){$A.$k4($U,$29);};return;};var $1K=$y($A.rowlist,$U);var e=$A.$k2($U,$1K);if($A.$hb()){var $G={};$G.resource=e;$G.row=e;$G.x=$2d;$G.newText=$29;$G.canceled=$2c;$G.preventDefault=function(){this.preventDefault.value=true;};$G.async=false;$G.loaded=function(){$2e();};var $2e=function(){if(!$2c){switch($A.rowEditHandling){case 'PostBack':$A.rowEditPostBack(e,$G.newText);break;case 'CallBack':$A.rowEditCallBack(e,$G.newText);break;case 'Update':$A.$k1($U,$G.newText,$2d);break;};if(typeof $A.onRowEdited==='function'){$A.onRowEdited($G);}}};if(typeof $A.onRowEdit==='function'){$A.onRowEdit($G);if($G.preventDefault.value){return;}};if(!$G.async){$2e();}}else{switch($A.rowEditHandling){case 'PostBack':$A.rowEditPostBack(e,$29);break;case 'CallBack':$A.rowEditCallBack(e,$29);break;case 'JavaScript':$A.onrowEdit(e,$29);break;}}};this.rowCreatePostBack=function($29,$I){var $1t={};$1t.text=$29;this.$ik("RowCreate",$1t,$I);};this.rowCreateCallBack=function($29,$I){var $1t={};$1t.text=$29;this.$il("RowCreate",$1t,$I);};this.rowEditPostBack=function(e,$29,$I){var $1t={};$1t.resource=e;$1t.newText=$29;this.$ik("RowEdit",$1t,$I);};this.rowEditCallBack=function(e,$29,$I){var $1t={};$1t.resource=e;$1t.newText=$29;this.$il("RowEdit",$1t,$I);};this.rowMovePostBack=function($2f,$2g,$O,$I){var $1t={};$1t.source=$2f;$1t.target=$2g;$1t.position=$O;this.$ik("RowMove",$1t,$I);};this.rowMoveCallBack=function($2f,$2g,$O,$I){var $1t={};$1t.source=$2f;$1t.target=$2g;$1t.position=$O;this.$il("RowMove",$1t,$I);};this.rowMoveNotify=function($2f,$2g,$O,$I){var $1t={};$1t.source=$2f;$1t.target=$2g;$1t.position=$O;this.$il("RowMove",$1t,$I,"Notify");};this.rowClickPostBack=function(e,$I){var $1t={};$1t.resource=e;this.$ik("RowClick",$1t,$I);};this.resourceHeaderClickPostBack=this.rowClickPostBack;this.rowClickCallBack=function(e,$I){var $1t={};$1t.resource=e;this.$il("RowClick",$1t,$I);};this.resourceHeaderClickCallBack=this.rowClickCallBack;this.$k6=function(e,ev,$2a){if($A.rowDoubleClickHandling==="Disabled"){$A.$k7(e,ev,$2a);return;};if(!$A.$in.resClick){$A.$in.resClick=[];};var $2h=function(e,ev){return function(){$A.$k7(e,ev,$2a);};};$A.$in.resClick.push(window.setTimeout($2h(e,ev),$A.doubleClickTimeout));};this.$k7=function(e,ev,$2a){var $2i=$A.resourceHeaderClickHandling||$A.rowClickHandling;if($A.$hb()){var $G={};$G.resource=e;$G.row=e;$G.x=$2a;$G.ctrl=ev.ctrlKey;$G.shift=ev.shiftKey;$G.meta=ev.metaKey;$G.originalEvent=ev;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onRowClick==='function'){$A.onRowClick($G);if($G.preventDefault.value){return;}};if(typeof $A.onResourceHeaderClick==='function'){$A.onResourceHeaderClick($G);if($G.preventDefault.value){return;}};switch($2i){case 'PostBack':$A.rowClickPostBack(e);break;case 'CallBack':$A.rowClickCallBack(e);break;case 'Select':$A.$k8(e.$.row,ev.ctrlKey,ev.shiftKey,ev.metaKey);break;case 'Edit':$A.$k9.$ka(e.$.row,$2a);break;};if(typeof $A.onRowClicked==='function'){$A.onRowClicked($G);};if(typeof $A.onResourceHeaderClicked==='function'){$A.onResourceHeaderClicked($G);}}else{switch($2i){case 'PostBack':$A.rowClickPostBack(e);break;case 'CallBack':$A.rowClickCallBack(e);break;case 'JavaScript':$A.onRowClick(e);break;case 'Select':$A.$k8(e.$.row,ev.ctrlKey,ev.shiftKey);break;case 'Edit':$A.$k9.$ka(e.$.row,$2a);break;}}};this.timeHeaderClickPostBack=function(e,$I){var $1t={};$1t.header=e;this.$ik("TimeHeaderClick",$1t,$I);};this.timeHeaderClickCallBack=function(e,$I){var $1t={};$1t.header=e;this.$il("TimeHeaderClick",$1t,$I);};this.$kb=function(e){if($A.$hb()){var $G={};$G.header=e;$G.control=$A;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onTimeHeaderClick==='function'){$A.onTimeHeaderClick($G);if($G.preventDefault.value){return;}};switch(this.timeHeaderClickHandling){case 'PostBack':$A.timeHeaderClickPostBack(e);break;case 'CallBack':$A.timeHeaderClickCallBack(e);break;};if(typeof $A.onTimeHeaderClicked==='function'){$A.onTimeHeaderClicked($G);}}else{switch(this.timeHeaderClickHandling){case 'PostBack':$A.timeHeaderClickPostBack(e);break;case 'CallBack':$A.timeHeaderClickCallBack(e);break;case 'JavaScript':$A.onTimeHeaderClick(e);break;}}};this.resourceCollapsePostBack=function(e,$I){var $1t={};$1t.resource=e;this.$ik("ResourceCollapse",$1t,$I);};this.resourceCollapseCallBack=function(e,$I){var $1t={};$1t.resource=e;this.$il("ResourceCollapse",$1t,$I);};this.$kc=function(e){if($A.$hb()){var $G={};$G.resource=e;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onResourceCollapse==='function'){$A.onResourceCollapse($G);if($G.preventDefault.value){return;}};switch(this.resourceCollapseHandling){case 'PostBack':$A.resourceCollapsePostBack(e);break;case 'CallBack':$A.resourceCollapseCallBack(e);break;}}else{switch(this.resourceCollapseHandling){case 'PostBack':$A.resourceCollapsePostBack(e);break;case 'CallBack':$A.resourceCollapseCallBack(e);break;case 'JavaScript':$A.onResourceCollapse(e);break;}}};this.resourceExpandPostBack=function(e,$I){var $1t={};$1t.resource=e;this.$ik("ResourceExpand",$1t,$I);};this.resourceExpandCallBack=function(e,$I){var $1t={};$1t.resource=e;this.$il("ResourceExpand",$1t,$I);};this.$kd=function(e){if($A.$hb()){var $G={};$G.resource=e;$G.row=e;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onResourceExpand==='function'){$A.onResourceExpand($G);if($G.preventDefault.value){return;}};switch(this.resourceExpandHandling){case 'PostBack':$A.resourceExpandPostBack(e);break;case 'CallBack':$A.resourceExpandCallBack(e);break;}}else{switch(this.resourceExpandHandling){case 'PostBack':$A.resourceExpandPostBack(e);break;case 'CallBack':$A.resourceExpandCallBack(e);break;case 'JavaScript':$A.onResourceExpand(e);break;}}};this.eventEditPostBack=function(e,$29,$I){var $1t={};$1t.e=e;$1t.newText=$29;this.$ik("EventEdit",$1t,$I);};this.eventEditCallBack=function(e,$29,$I){var $1t={};$1t.e=e;$1t.newText=$29;this.$il("EventEdit",$1t,$I);};this.eventEditNotify=function(e,$29,$I,$z){var $2j=new DayPilot.Event(e.copy(),this);e.text($29);$A.events.update(e,null,$z);var $1t={};$1t.e=$2j;$1t.newText=$29;this.$il("EventEdit",$1t,$I,"Notify");};this.$ke=function(e,$29,$2c){$1W.$kf();if($A.$hb()){var $G={};$G.e=e;$G.control=$A;$G.newText=$29;$G.canceled=$2c;$G.preventDefault=function(){this.preventDefault.value=true;};$G.async=false;$G.loaded=function(){$2e();};var $2e=function(){$G.loaded=function(){};if(!$2c){switch($A.eventEditHandling){case 'PostBack':$A.eventEditPostBack(e,$G.newText);break;case 'CallBack':$A.eventEditCallBack(e,$G.newText);break;case 'Update':e.text($G.newText);$A.events.update(e,null,{"inplace":true});break;}};if(typeof $A.onEventEdited==='function'){$A.onEventEdited($G);}};if(typeof $A.onEventEdit==='function'){$A.onEventEdit($G);if($G.preventDefault.value){return;}};if(!$G.async){$2e();}}else{switch($A.eventEditHandling){case 'PostBack':$A.eventEditPostBack(e,$G.newText);break;case 'CallBack':$A.eventEditCallBack(e,$G.newText);break;case 'Notify':$A.eventEditNotify(e,$G.newText,null,{"inplace":true});break;case 'JavaScript':$A.onEventEdit(e,$G.newText);break;}}};this.commandCallBack=function($20,$I){this.$kg("CallBack",$20,$I);};this.commandPostBack=function($20,$I){this.$kg("PostBack",$20,$I);};this.$kg=function($0m,$20,$I){var $1t={};$1t.command=$20;this.$iB($0m,"Command",$1t,$I);};this.$ik=function($1I,$2k,$I){var $2l={};$2l.action=$1I;$2l.type="PostBack";$2l.parameters=$2k;$2l.data=$I;$2l.header=this.$kh();var $2m="JSON"+JSON.stringify($2l);__doPostBack($A.uniqueID,$2m);};this.$il=function($1I,$2k,$I,$0m){if(!$A.$hQ()){$A.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");return;};if(typeof $0m==='undefined'){$0m="CallBack";};this.$ki();$A.$kj({"delay":100});var $2l={};$2l.action=$1I;$2l.type=$0m;$2l.parameters=$2k;$2l.data=$I;$2l.header=this.$kh();var $2n=JSON.stringify($2l);var $2m;if(typeof Iuppiter!=='undefined'&&Iuppiter.compress){$2m="LZJB"+Iuppiter.Base64.encode(Iuppiter.compress($2n));}else{$2m="JSON"+$2n;};this.$kk($2l);var $C=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$kl,$2m,this.$km);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$2m,this.$gy,$C,this.callbackError,true);}};this.$kk=function($2l){var $G={};if(typeof $A.onCallBackStart==='function'){$A.onCallBackStart($G);}};this.$gB=function(){var $G={};if(typeof $A.onCallBackEnd==='function'){setTimeout(function(){$A.onCallBackEnd($G);},0);}};this.$hQ=function(){return($A.$gx!=="javasc"&&$A.$gx.indexOf("DCODE")===-1)||$A.devsb;};this.$kn=function(){if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$km=function($2o){if(typeof $A.onAjaxError==='function'){var $G={};$G.request=$2o;$A.onAjaxError($G);}else if(typeof $A.ajaxError==='function'){$A.ajaxError($2o);}};this.$kl=function($2p){$A.$gy($2p.responseText);};this.callbackProps=[];this.$kh=function(){var h={};h.v=this.v;h.control="dps";h.id=this.id;h.startDate=$A.startDate;h.days=$A.days;h.cellDuration=$A.cellDuration;h.cellGroupBy=$A.cellGroupBy;h.cellWidth=$A.cellWidth;h.cellWidthSpec=$A.cellWidthSpec;h.viewType=$A.viewType;h.showNonBusiness=$A.showNonBusiness;h.businessBeginsHour=$A.businessBeginsHour;h.businessEndsHour=$A.businessEndsHour;h.weekStarts=$A.weekStarts;h.treeEnabled=$A.treeEnabled;h.locale=$A.locale;h.timeZone=$A.timeZone;h.tagFields=$A.tagFields;h.timeHeaders=$A.timeHeaders;h.cssClassPrefix=$A.cssClassPrefix;h.durationBarMode=$A.durationBarMode;h.rowHeaderColumns=$A.rowHeaderColumns;h.rowMarginBottom=$A.rowMarginBottom;h.rowMarginTop=$A.rowMarginTop;h.rowMinHeight=$A.rowMinHeight;h.scale=$A.scale;h.clientState=$A.clientState;if(this.nav.scroll){h.scrollX=$p(0,this.nav.scroll.scrollLeft);h.scrollY=$p(0,this.nav.scroll.scrollTop);};h.selected=$A.multiselect.events();h.selectedRows=$2q.$ko();h.hashes=$A.hashes;var $08=$A.$kp(h.scrollX,h.scrollY);if($08){var $23=$A.$kq($08);var $2r=$A.$kr($08);h.rangeStart=$23.start;h.rangeEnd=$23.end;h.resources=$2r;}else{h.rangeStart=$A.startDate;h.rangeEnd=$A.startDate;h.resources=[];};h.dynamicLoading=$A.dynamicLoading;h.separators=this.separators;if(this.syncResourceTree&&this.viewType!="Days"){h.tree=this.$ks();};if(this.syncLinks){h.links=this.$kt();};if(this.scale==="Manual"){h.timeline=this.$ku();};if(typeof $A.onCallBackHeader==="function"){var $G={};$G.header=h;$A.onCallBackHeader($G);};var $0v=$A.callbackProps;if(DayPilot.isArray($0v)){h.props={};$0v.forEach(function(name){h.props[name]=$A[name];});};return h;};this.$ku=function(){var $0n=[];$v($A.timeline).forEach(function($0p){var $2n={};$2n.start=$0p.start;$2n.end=$0p.end;$2n.width=$0p.width;$0n.push($2n);});return $0n;};this.$kt=function(){var $0n=[];var $2s=function(link){var $B={};if(link.tags){for(var name in link.tags){$B[name]=""+link.tags[name];}};return $B;};if(!DayPilot.isArray($A.links.list)){return $0n;};for(var i=0;i<$A.links.list.length;i++){var link=$A.links.list[i];var $2n={};$2n.id=link.id;$2n.from=link.from;$2n.to=link.to;$2n.type=link.type;$2n.tags=$2s(link);$0n.push($2n);};return $0n;};this.getViewPort=function(){var scrollX=this.nav.scroll.scrollLeft-$0a.$hq;var scrollY=this.nav.scroll.scrollTop;var $0f={};if($A.viewType!=="Days"){var $08=$A.$kp(scrollX,scrollY);var $23=$A.$kq($08);var $2r=$A.$kr($08);var $2t=$A.itline[$08.start.x];var $2u=$A.itline[$08.end.x];$0f.start=$A.getDate(scrollX,true);$0f.end=$A.getDate(scrollX+$A.nav.scroll.clientWidth,true,true);$0f.resources=$2r;if($2t){$0f.topLeft={"start":$2t.start,"end":$2t.end,x:$08.start.x,y:$08.start.y,"resource":$2r[0]};};if($2u){$0f.bottomRight={"start":$2u.start,"end":$2u.end,x:$08.end.x,y:$08.end.y,"resource":$2r[$2r.length-1]};}}else{var $08=$A.$kp(scrollX,scrollY);var $23=$A.$kv($08);$0f.start=$23.start;$0f.end=$23.end;$0f.resources=[];};$0f.rows=function(){return $0f.resources.map(function(r){return $A.rows.find(r)});};$0f.events=function(){if($A.viewType==="Days"){return $A.events.forRange($0f.start,$0f.end);};var $0o=[];$0f.rows().forEach(function(r){$0o=$0o.concat(r.events.forRange($0f.start,$0f.end));});return $0o;};return $0f;};this.$kp=function(scrollX,scrollY){var $08={};$08.start={};$08.end={};var $09=$A.$id(scrollX);var end=$A.$id(scrollX+$A.nav.scroll.clientWidth);if($09){$08.start.x=$09.x;};if(end){$08.end.x=end.x;};var $2v=scrollY+$A.$hi.top.height;var $2w=scrollY+$A.nav.scroll.clientHeight-$A.$hi.bottom.height;$08.start.y=$A.$kw($2v).i;$08.end.y=$A.$kw($2w).i;$08.start.x=$p($08.start.x,0);var $2x=this.itline.length;if($08.end.x>=$2x){$08.end.x=$2x-1;};return $08;};this.$kx=function(){var scrollX=this.nav.scroll.scrollLeft-$0a.$hq;var scrollY=this.nav.scroll.scrollTop;return $A.$kp(scrollX,scrollY);};this.$kq=function($08){var $B={};if(this.itline.length<=0){$B.start=this.startDate;$B.end=this.startDate;return $B;};if(!this.itline[$08.start.x]){throw new DayPilot.Exception('Internal error: area.start.x is null.');};$B.start=this.itline[$08.start.x].start;$B.end=this.itline[$08.end.x].end;return $B;};this.$kr=function($08){if(!$08){var $08=this.$kp(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);};var $2r=[];$2r.ignoreToJSON=true;for(var i=$08.start.y;i<=$08.end.y;i++){var r=$A.rowlist[i];if(r&&!r.hidden){$2r.push(r.id);}};return $2r;};this.$kv=function($08){if(!$08){var $08=this.$kp(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);};var $2r={};if($A.rowlist.length===0){return $2r;};var $2y=$A.itline[$A.itline.length-1].end.getTime()-$A.itline[0].start.getTime();$2r.start=$A.rowlist[$08.start.y]&&$A.rowlist[$08.start.y].start;$2r.end=$A.rowlist[$08.end.y]&&$A.rowlist[$08.end.y].start.addTime($2y);return $2r;};this.$ks=function(){var $2z=[];$2z.ignoreToJSON=true;for(var i=0;i<this.rowlist.length;i++){var $U=this.rowlist[i];if($U.level>0){continue;};if($U.isNewRow){continue;};var $2A=this.$ky(i);$2z.push($2A);};return $2z;};this.$kz=function($2B){var $2C=[];$2C.ignoreToJSON=true;for(var i=0;i<$2B.length;i++){var $1K=$2B[i];var $U=$A.rowlist[$1K];if($U.isNewRow){continue;};$2C.push($A.$ky($1K));};return $2C;};this.$ky=function(i){var $U=this.rowlist[i];if(typeof $A.onGetNodeState==="function"){var $G={};$G.row=$U;$G.preventDefault=function(){$G.preventDefault.value=true;};$G.result={};$A.onGetNodeState($G);if($G.preventDefault.value){return $G.result;}};var $2A={};$2A.Value=$U.id;$2A.BackColor=$U.backColor;$2A.Name=$U.name;$2A.InnerHTML=$U.html;$2A.ToolTip=$U.toolTip;$2A.Expanded=$U.expanded;$2A.Children=this.$kz($U.children);$2A.Loaded=$U.loaded;$2A.IsParent=$U.isParent;$2A.Columns=this.$kA($U);$2A.Tags=$U.tags;if($U.start.getTime()!==$A.$i1().getTime()){$2A.Start=$U.start;};if($U.minHeight!==$A.rowMinHeight){$2A.MinHeight=$U.minHeight;};if($U.marginBottom!==$A.rowMarginBottom){$2A.MarginBottom=$U.marginBottom;};if($U.marginTop!==$A.rowMarginTop){$2A.MarginTop=$U.marginTop;};if($U.eventHeight!==$A.eventHeight){$2A.EventHeight=$U.eventHeight;};return $2A;};this.$kA=function($U){if(!$U.columns||$U.columns.length===0){return null;};var $2D=[];$2D.ignoreToJSON=true;for(var i=0;i<$U.columns.length;i++){var c={};c.InnerHTML=$U.columns[i].html;$2D.push(c);};return $2D;};this.$hy=function($2E){var $2F=this.theme||this.cssClassPrefix;if($2F){return $2F+$2E;}else{return "";}};this.$jm=function(){var $2G=$A.nav.top.className!==$A.$hy("_main");if(!$2G){return;};$A.nav.top.className=$A.$hy("_main");$A.nav.dh1.className=$A.$hy("_divider_horizontal");$A.nav.dh2.className=$A.$hy("_divider_horizontal");$A.divResScroll.className=$A.$hy("_rowheader_scroll");$A.nav.divider.className=$A.$hy("_divider")+" "+$A.$hy("_splitter");$A.nav.scroll.className=$A.$hy("_scrollable");$A.$hj.className=$A.$hy("_matrix")+" "+$A.$hy("_grid_main");$A.nav.loading.className=$A.$hy("_loading");};this.$kB=function(){this.nav.top.dispose=this.dispose;this.nav.limit;};this.dispose=function(){var c=$A;if(!c.$hc){return;};if(c.$gp){return;};c.$gp=true;if(c.$kC){c.$kC.disconnect();};c.$ki();clearInterval(c.$kD);clearInterval(c.$kE);for(var name in c.$in){var $0p=c.$in[name];if(DayPilot.isArray($0p)){$v($0p).forEach(function(t){clearTimeout(t);});}else{clearTimeout($0p);}};c.$gX();c.$gW();c.$kF();c.$kG("main");c.$kG("top");c.$kG("bottom");c.$kH();c.$kI();c.divBreaks=null;c.divCells=null;c.divCorner=null;c.divCrosshair=null;c.divEvents=null;if(c.divHeader){c.divHeader.rows=null;};c.divHeader=null;c.divLines=null;c.divNorth=null;c.divRange=null;c.divResScroll=null;c.divSeparators=null;c.divSeparatorsAbove=null;c.divStretch=null;c.divTimeScroll=null;c.$hN=null;c.$gz=null;c.$hj.calendar=null;c.$hj=null;c.nav.loading=null;c.nav.top.onmousemove=null;c.nav.top.onmouseout=null;c.nav.top.dispose=null;DayPilot.ue(c.nav.top,"touchstart",$2H.$kJ);DayPilot.ue(c.nav.top,"touchmove",$2H.$kK);DayPilot.ue(c.nav.top,"touchend",$2H.$kL);$1W.$kM();c.nav.top.removeAttribute('style');c.nav.top.removeAttribute('class');var $2I=!($A.$hh.reactDOM&&DayPilot.browser.ie);if($2I){c.nav.top.innerHTML="";};c.nav.top.dp=null;c.nav.top=null;DayPilot.ue(c.nav.scroll,"wheel",$A.$kN);c.nav.scroll.onscroll=null;c.nav.scroll.root=null;c.nav.scroll=null;clearTimeout(c.refreshTimeout);if(c.$kO){c.$kO.dispose();c.$kO=null;};if(c.daypilot){delete c.daypilot;};DayPilot.ue(window,'resize',c.$kP);DayPilot.ue(document,'keydown',c.$kQ);DayPilot.ue(document,'keyup',c.$kR);DayPilotScheduler.$kS(c);$2J=null;if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.cancelShowing();DayPilot.Bubble.hide({"calendar":c});};if(typeof DayPilot.Menu!=="undefined"){DayPilot.Menu.hide({"calendar":c});};(function clearProps(){return;for(var name in c){c[name]=null;}})();};this.$kG=function($2K){if(typeof $A.onBeforeRowHeaderDomAdd!=="function"&&typeof $A.onBeforeRowHeaderDomRemove!=="function"){return;};var gi=$A.$kT($2K);var $2L=gi.divHeader;var $2M=gi.rowlist;var $2N=typeof $A.onBeforeRowHeaderDomAdd==="function"&&$A.$hh.reactDOM;if($2N||typeof $A.onBeforeRowHeaderDomRemove==="function"){for(var i=0;i<$2M.length;i++){if($2L.rows[i]){$A.$kU(i,$2K);}}}};this.$kH=function(){if(typeof $A.onBeforeTimeHeaderDomAdd!=="function"&&typeof $A.onBeforeTimeHeaderDomRemove!=="function"){return;};$A.elements.timeHeader.forEach(function($0r){var $2O=$0r.domArgs;$0r.domArgs=null;if(typeof $A.onBeforeTimeHeaderDomRemove==="function"){$A.onBeforeTimeHeaderDomRemove($2O);};if(typeof $A.onBeforeTimeHeaderDomAdd==="function"&&$A.$hh.reactDOM){var $2g=$2O&&$2O.$kV;if($2g){var $2P=$s($2O.element);if($2P){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$kW($2g);}}}});};this.$kX=function($2Q){var event=null;if($2Q.nodeType){event=$2Q.event;}else{event=$2Q;};var ev=event;var $2R=(ev.cache&&typeof ev.cache.moveVDisabled!=='undefined')?!ev.cache.moveVDisabled:!ev.data.moveVDisabled;var $2S=(ev.cache&&typeof ev.cache.moveHDisabled!=='undefined')?!ev.cache.moveHDisabled:!ev.data.moveHDisabled;var $2T=$A.$kY(event);var $2K=$A.$hi[$2T.grid];if(!$2R&&DayPilotScheduler.$ii){$2K=$A.$hi[event.part.grid];};var $2M=$2K.rowlist;if($A.$kZ($2T.rowIndex,$2T.grid)){return null;};var $0g=event.part.height||$A.$jh.$l0();var top=(event.part&&event.part.top&&$2M[event.part.dayIndex])?(event.part.top+$2M[event.part.dayIndex].top):$2T.top;var $0c=$2T.left;var $Y=$2T.width;if(!$2R&&DayPilotScheduler.$ii){top=$2M[ev.part.dayIndex].top;};if(!$2S&&DayPilotScheduler.$ii){$0c=event.part.left;if(typeof $0c==="undefined"){var $1l=DayPilot.DateUtil.diff(event.start(),event.end());$1l=$p($1l,1);$0c=$0B.$l1($1l)?$A.getPixels(event.start()).boxLeft:$A.getPixels(event.start()).left;var $0d=$0B.$l1($1l)?$A.getPixels(event.end()).boxRight:$A.getPixels(event.end()).left;$Y=$0d-$0c;}};var $2U=document.createElement('div');$2U.setAttribute('unselectable','on');$2U.style.position='absolute';$2U.style.width=$Y+'px';$2U.style.height=$0g+'px';$2U.style.left=$0c+'px';$2U.style.top=top+'px';$2U.style.overflow='hidden';var $0u=$k();$2U.appendChild($0u);$2U.className=this.$hy("_shadow");$0u.className=this.$hy("_shadow_inner");$2K.divShadow.appendChild($2U);$2U.calendar=$A;$2U.grid=$2T.grid;return $2U;};this.$kw=function(y,$2V,$2W){$2V=$2V||"main";var $2K=$A.$hi[$2V];var $2M=$2K.rowlist;var $B={};var element;var top=0;var $2X=0;if($2V==="main"){top=$A.$hi.top.height;$2X=top;};var $2Y=$2M.length;for(var i=0;i<$2Y;i++){var $U=$2M[i];if($U.hidden){continue;};var $0g=$U.height;if($2W&&$U.split&&$U.split.parent){$0g=$U.split.parent.split.totalHeight();};$2X+=$0g;top=$2X-$0g;element=$U;$B.top=top;$B.bottom=$2X;$B.i=i;$B.element=element;$B.grid=$2V;if($2W&&$U.split&&$U.split.parent){i+=$U.split.parent.split.list.length-1;};if(y<$2X){break;}};return $B;};this.links={};this.links.list=[];this.links.add=function(link){if(!link){return;};var $I=link;if(link instanceof DayPilot.Link){$I=link.data;};$A.links.list.push(link);$1Q.$j8();};this.links.remove=function(link){if(typeof link==="number"||typeof link==="string"){var $2Z=$A.links.find(link);if($2Z){$1Q.$l2($2Z.data);};return;};var $0v=link.data;if(!link.isLink){$0v=link;};$1Q.$l2($0v);};this.links.find=function(id){if(!DayPilot.isArray($A.links.list)){return null;};var $I=$A.links.list.find(function($0p){return $0p.id===id;});if($I){return new DayPilot.Link($I,$A);};return null;};this.links.findByFromTo=function($1h,to){if(!DayPilot.isArray($A.links.list)){return null;};var $I=$A.link.list.find(function($0p){return $0p.from===$1h&&$0p.to===to;});if($I){return new DayPilot.Link($I,$A);};return null;};this.links.load=function($30,$31,$32,$z){if(!$30){throw new DayPilot.Exception("links.load(): 'url' parameter required");};$z=$z||{};var $33=function($G){var $34={};$34.exception=$G.exception;$34.request=$G.request;if(typeof $32==='function'){$32($34);}};var $35=function($G){var r=$G.request;var $I;try{$I=JSON.parse(r.responseText);}catch(e){var $36={};$36.exception=e;$33($36);return;};if(DayPilot.isArray($I)){var $37={};$37.preventDefault=function(){this.preventDefault.value=true;};$37.data=$I;if(typeof $31==="function"){$31($37);};if($37.preventDefault.value){return;};$A.links.list=$I;if($A.$hc){$1Q.$j8();}}};var $38=$A.linksLoadMethod&&$A.linksLoadMethod.toUpperCase()==="POST";if($38){DayPilot.ajax({"method":"POST","contentType":"application/json","data":{"start":$A.visibleStart().toString(),"end":$A.visibleEnd().toString()},"url":$30,"success":$35,"error":$33});}else{var $39=$30;if(!$z.dontAddStartEnd){var $3a="start="+$A.visibleStart().toString()+"&end="+$A.visibleEnd().toString();if($39.indexOf("?")>-1){$39+="&"+$3a;}else{$39+="?"+$3a;}};DayPilot.ajax({"method":"GET","url":$39,"success":$35,"error":$33});}};var $1Q={};this.$l3=$1Q;$1Q.$l4=[];$1Q.$l5=function(){$A.divLinksAbove.innerHTML='';$A.divLinksBelow.innerHTML='';$A.elements.links=[];$1Q.$l4=[];};$1Q.$l2=function($0v){var $0p=$1Q.$l6($0v);DayPilot.rfa($A.links.list,$0v);if(!$0p){return;};$0p.clear();DayPilot.rfa($1Q.$l4,$0p);};$1Q.$l6=function($0v){for(var i=0;i<$1Q.$l4.length;i++){var $0p=$1Q.$l4[i];if($0p.props===$0v){return $0p;}};return null;};$1Q.$l7=function(){var $0o=$0f.$hv();$0o.forEach(function($0r){$1Q.$l8($0r);});};$1Q.$l8=function($0r){var event=$0r.event;var $0x=event.cache||event.data;var $3b=$0x.linkCreateDisabled;if($3b){return;};var $Y=$A.linkPointSize;var $3c=$Y/2;var $0c=$0r.event.part.left;var top=$A.rowlist[$0r.event.part.dayIndex].top+$0r.event.part.top;var $0g=$0r.event.part.height;var $0d=$0r.event.part.right;var $09=$o($A.divLinkpoints,$0c-$3c,top-$3c+$0g/2,$Y,$Y);$09.className=$A.$hy("_linkpoint");$09.style.boxSizing="border-box";$09.coords={x:$0c,y:top+$0g/2};$09.type="Start";$09.event=$0r.event;$1Q.$l9($09);$A.elements.linkpoints.push($09);var end=$o($A.divLinkpoints,$0d-$3c,top-$3c+$0g/2,$Y,$Y);end.className=$A.$hy("_linkpoint");end.style.boxSizing="border-box";end.coords={x:$0d,y:top+$0g/2};end.type="Finish";end.event=$0r.event;$1Q.$l9(end);$A.elements.linkpoints.push(end);};$1Q.$l9=function($0r){$0r.onmousedown=function(ev){$3d.source=$0r;$3d.calendar=$A;$1Q.$l7();ev.preventDefault();ev.stopPropagation();return false;};$0r.onmousemove=function(ev){$n($0r,$A.$hy("_linkpoint_hover"));$1Q.$la();};$0r.onmouseout=function(ev){if(!$3d.source||$3d.source.event!==$0r.event){$m($0r,$A.$hy("_linkpoint_hover"));}};$0r.onmouseup=function(ev){if($3d.source){var $0m=$3d.source.type+"To"+$0r.type;var $1h=$3d.source.event.id();var to=$0r.event.id();var $G={};$G.from=$1h;$G.to=to;$G.type=$0m;$G.id=null;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onLinkCreate==="function"){$A.onLinkCreate($G);if($G.preventDefault.value){return;}};var $3e=function(){if(!DayPilot.isArray($A.links.list)){$A.links.list=[];};$A.links.list.push({"from":$1h,"to":to,"type":$0m,"id":$G.id});$1Q.$j8();};switch($A.linkCreateHandling){case "Update":$3e();break;case "CallBack":$A.$lb($G);break;case "PostBack":$A.$lc($G);break;case "Notify":$3e();$A.$ld($G);break;};if(typeof $A.onLinkCreated==="function"){$A.onLinkCreated($G);}}};};$1Q.$jo=function(){$A.divLinkpoints.innerHTML='';$A.elements.linkpoints=[];};$1Q.$le=null;$1Q.$lf=function(){$1Q.$le=setTimeout(function(){$1Q.$jo();},100);};$1Q.$la=function(){if($1Q.$le){clearTimeout($1Q.$le);$1Q.$le=null;}};$1Q.$j8=function(){$1Q.$l5();if(!DayPilot.isArray($A.links.list)){return;};for(var i=0;i<$A.links.list.length;i++){var link=$A.links.list[i];$1Q.$lg(link.from,link.to,link);}};$1Q.$lg=function($1h,to,$0v){var $3f=$A.events.find($1h);var $09=$A.events.$lh($3f&&$3f.data);var $3g=$A.events.find(to);var end=$A.events.$lh($3g&&$3g.data);if(($09&&$09.rendered)||(end&&end.rendered)){$1Q.$li($09,end,$0v);}};$1Q.$lj=function($3h,$3i){var $3j=$3h&&$3h.tagName&&$3h.tagName.toLowerCase()==="div";if($3j){var $0r=$3h;return{"top":$0r.offsetTop,"right":$0r.offsetLeft+$0r.offsetWidth,"left":$0r.offsetLeft,"height":$0r.offsetHeight};}else if($3h instanceof DayPilot.Event){var e=$3h;var $U=$A.rowlist[e.part.dayIndex];var $3k=$3i?$U.absTop:$U.top;return{"top":$3k+(e.part.top||0),"right":e.part.left+e.part.width,"left":e.part.left,"height":e.part.height};}else{return null;}};$1Q.$lk=function($0v){return $1Q.$l4.some(function($0p){return $0p.props===$0v;});};$1Q.$li=function($1h,to,$0v){if($1Q.$lk($0v)){return null;};var $3l=$1Q.$ll($1h,to,$0v);if(!$3l){return null;};var $0p=$1Q.$lm($3l,$0v);if(!$0p){return null;};$1Q.$l4.push($0p);return $0p;};$1Q.$lm=function($3l,$0v){if(!$3l){return null;};var $B={"divs":[],"props":$0v,"clear":function(){var link=this;$x(link.divs);link.divs.forEach(function($0r){DayPilot.rfa($A.elements.links,$0r);});}};var $3m=$A.eventHeight/2;var $Y=$0v.width||1;var $3n=$0v.color;var style=$0v.style;var $3o=$0v.layer||"Above";var $3p=$3o==="Above";var $3q=$3p?$A.divLinksAbove:$A.divLinksBelow;var $3r=function($0r,$3s){if($3n){$0r.style["border"+$3s+"Color"]=$3n;};if(style){$0r.style["border"+$3s+"Style"]=style;}};var $3t=[];var $3u=function($0r,$3v){$A.elements.links.push($0r);$3w($0r);$3x($0r);$3y($0r);$0r.divs=$3t;if(!$3v){$3t.push($0r);};$B.divs.push($0r);};var $3x=function($0r){$0r.onmousedown=function(ev){ev.cancelBubble=true;};$0r.onmouseup=function(ev){ev.cancelBubble=true;};$0r.oncontextmenu=function(ev){if($A.contextMenuLink){var link=new DayPilot.Link($0v,$A);$A.contextMenuLink.show(link);};ev.cancelBubble=true;ev.preventDefault();};};var $3w=function($0r){$0r.onmouseenter=function(){$n($0r.divs,$A.$hy("_link_hover"));if($A.linkBubble){$A.linkBubble.showLink(new DayPilot.Link($0v,$A));}};$0r.onmouseleave=function(){$m($0r.divs,$A.$hy("_link_hover"));if($A.linkBubble){$A.linkBubble.hideOnMouseOut();}};};var $3y=function($0r){$0r.onclick=function(ev){var $G={};$G.link=$0v;if(typeof $A.onLinkClick==="function"){$A.onLinkClick($G);};if(typeof $A.onLinkClicked==="function"){$A.onLinkClicked($G);}};};$3l.forEach(function(s){switch(s.type){case "Dot":var w=10;var a;if($3n){a=$o($3q,s.endX-w/2, s.endY - w/2,w,w);a.style.borderRadius=w+"px";a.style.backgroundColor=$3n;}else{a=$o($3q,s.endX-w/2, s.endY - w/2,w,w);a.className=$A.$hy("_link_dot");$n(a,$0v.cssClass);};$3u(a,true);break;case "HorizontalLine":var h1=$o($3q,s.startX,s.startY,s.endX-s.startX,$Y);h1.style.boxSizing="border-box";h1.style.borderBottomWidth=$Y+"px";h1.className=$A.$hy("_link_horizontal");$n(h1,$0v.cssClass);$3r(h1,"Bottom");$3u(h1);break;case "VerticalLine":var v1=$o($3q,s.startX,s.startY,$Y,s.endY-s.startY);v1.style.boxSizing="border-box";v1.style.borderRightWidth=$Y+"px";v1.className=$A.$hy("_link_vertical");$n(v1,$0v.cssClass);$3r(v1,"Right");$3u(v1);break;case "ArrowUp":var a;if($3n){a=$o($3q,s.endX-5+Math.floor($Y/2),s.endY-5,0,0);a.style.borderColor="transparent transparent "+$3n+" transparent";a.style.borderStyle="solid";a.style.borderWidth="5px";}else{a=$o($3q,s.endX-6+Math.floor($Y/2),s.endY-6,6,6);a.className=$A.$hy("_link_arrow_up");$n(a,$0v.cssClass);};$3u(a,true);break;case "ArrowDown":var a;if($3n){a=$o($3q,s.endX-5+Math.floor($Y/2),s.endY-5,0,0);a.style.borderColor=$3n+" transparent transparent transparent";a.style.borderStyle="solid";a.style.borderWidth="5px";}else{a=$o($3q,s.endX-5+Math.floor($Y/2),s.endY-6,6,6);a.className=$A.$hy("_link_arrow_down");$n(a,$0v.cssClass);};$3u(a,true);break;case "ArrowRight":var a;if($3n){a=$o($3q,s.endX-6,s.endY-5,0,0);a.style.borderWidth="6px";a.style.borderColor="transparent transparent transparent "+$3n;a.style.borderStyle="solid";}else{a=$o($3q,s.endX-6,s.endY-5,6,6);a.className=$A.$hy("_link_arrow_right");$n(a,$0v.cssClass);};$3u(a,true);break;case "ArrowLeft":var a;if($3n){a=$o($3q,s.endX-6,s.endY-5,0,0);a.style.borderColor="transparent "+$3n+" transparent transparent";a.style.borderStyle="solid";a.style.borderWidth="6px";}else{a=$o($3q,s.endX-6,s.endY-5,6,6);a.className=$A.$hy("_link_arrow_left");$n(a,$0v.cssClass);};$3u(a,true);break;default:throw new DayPilot.Exception("Invalid segment type");}});return $B;};$1Q.$ll=function($1h,to,$0v,$3i){var $3z=$1Q.$lj($1h,$3i);var $3A=$1Q.$lj(to,$3i);if(!$3z){return null;};if(!$3A){return null;};var $0m=$0v.type||"FinishToStart";var $Y=$0v.width||1;var $0g=$A.eventHeight;var $0l=$A.linkBottomMargin;var $3m=$A.eventHeight/2;var $09,end;switch($0m){case "FinishToStart":$09={x:$3z.right,y:$3z.top};end={x:$3A.left,y:$3A.top};if($09.y>end.y){if($3A.top+$3A.height>$3z.top){end.y=$09.y;}else if($09.x<=end.x){end.y+=$3A.height;end.bottom=true;}};break;case "StartToFinish":$09={x:$3z.left,y:$3z.top};end={x:$3A.right,y:$3A.top};break;case "StartToStart":$09={x:$3z.left,y:$3z.top};end={x:$3A.left,y:$3A.top};break;case "FinishToFinish":$09={x:$3z.right,y:$3z.top};end={x:$3A.right,y:$3A.top};break;};var $3l=[];if($0m==="FinishToStart"){if($09.y===end.y&&$09.x===end.x&&!end.bottom){var $3B=$09.x;var $3C=$09.y+$0g-$0l;$3l.push({"type":"Dot","startX":$3B,"startY":$3C,"endX":$3B,"endY":$3C});}else if($09.y>end.y||($09.y==end.y&&end.bottom)){if($09.x<=end.x){var $3D=$09.x;var $3E=$09.y+$0g-$0l;var $3B=end.x+$3m;var $3C=end.y;$3l.push({"type":"HorizontalLine","startX":$3D,"startY":$3E,"endX":$3B,"endY":$3E});$3l.push({"type":"VerticalLine","startX":$3B,"startY":$3E,"endX":$3B,"endY":$3C});$3l.push({"type":$09.y<end.y?"ArrowDown":"ArrowUp","startX":$3B,"startY":$3C,"endX":$3B,"endY":$3C});}else{var $3F=5;var $3G=end.y+$0g+$3F;$3l.push({"type":"HorizontalLine","startX":$09.x,"startY":$09.y+$0g-$0l,"endX":$09.x+$3m+$Y,"endY":$09.y+$0g-$0l});$3l.push({"type":"VerticalLine","startX":$09.x+$3m,"startY":$09.y+$0g-$0l,"endX":$09.x+$3m,"endY":$3G});$3l.push({"type":"HorizontalLine","startX":end.x-$3m,"startY":$3G,"endX":$09.x+$3m+$Y,"endY":$3G});$3l.push({"type":"VerticalLine","startX":end.x-$3m,"startY":$3G,"endX":end.x-$3m,"endY":end.y+$0g-$0l});$3l.push({"type":"HorizontalLine","startX":end.x-$3m,"startY":end.y+$0g-$0l,"endX":end.x-$3m+$3m,"endY":end.y+$0g-$0l});$3l.push({"type":"ArrowRight","startX":end.x,"startY":end.y+$0g-$0l,"endX":end.x,"endY":end.y+$0g-$0l});}}else if($09.y===end.y){if($09.x<end.x){var $3D=$09.x;var $3E=$09.y+$0g-$0l;var $3B=end.x;$3l.push({"type":"HorizontalLine","startX":$3D,"startY":$3E,"endX":$3B,"endY":$3E});$3l.push({"type":"ArrowRight","startX":end.x,"startY":end.y+$0g-$0l,"endX":end.x,"endY":end.y+$0g-$0l});}else{var $3F=5;var $3G=end.y+$0g+$3F;$3l.push({"type":"HorizontalLine","startX":$09.x,"startY":$09.y+$0g-$0l,"endX":$09.x+$3m+$Y,"endY":$09.y+$0g-$0l});$3l.push({"type":"VerticalLine","startX":$09.x+$3m,"startY":$09.y+$0g-$0l,"endX":$09.x+$3m,"endY":$3G});$3l.push({"type":"HorizontalLine","startX":end.x-$3m,"startY":$3G,"endX":$09.x+$3m+$Y,"endY":$3G});$3l.push({"type":"VerticalLine","startX":end.x-$3m,"startY":$3G,"endX":end.x-$3m,"endY":end.y+$0g-$0l});$3l.push({"type":"HorizontalLine","startX":end.x-$3m,"startY":end.y+$0g-$0l,"endX":end.x,"endY":end.y+$0g-$0l});$3l.push({"type":"ArrowRight","startX":end.x,"startY":end.y+$0g-$0l,"endX":end.x,"endY":end.y+$0g-$0l});}}else{if($09.x>end.x){var $3p=5;var $3G=end.y-$3p;$3l.push({"type":"HorizontalLine","startX":$09.x,"startY":$09.y+$0g-$0l,"endX":$09.x+$3m,"endY":$09.y+$0g-$0l});$3l.push({"type":"VerticalLine","startX":$09.x+$3m,"startY":$09.y+$0g-$0l,"endX":$09.x+$3m,"endY":$3G});$3l.push({"type":"HorizontalLine","startX":end.x-$3m,"startY":$3G,"endX":$09.x+$3m,"endY":$3G});$3l.push({"type":"VerticalLine","startX":end.x-$3m,"startY":$3G,"endX":end.x-$3m,"endY":end.y+$0g-$0l});$3l.push({"type":"HorizontalLine","startX":end.x-$3m,"startY":end.y+$0g-$0l,"endX":end.x-$3m+$3m,"endY":end.y+$0g-$0l});$3l.push({"type":"ArrowRight","startX":end.x,"startY":end.y+$0g-$0l,"endX":end.x,"endY":end.y+$0g-$0l});}else{var $3D=$09.x;var $3E=$09.y+$0g-$0l;var $3B=end.x+$3m;var $3C=end.y;$3l.push({"type":"HorizontalLine","startX":$3D,"startY":$3E,"endX":$3B,"endY":$3E});$3l.push({"type":"VerticalLine","startX":$3B,"startY":$3E,"endX":$3B,"endY":$3C});$3l.push({"type":$09.y<end.y?"ArrowDown":"ArrowUp","startX":$3B,"startY":$3C,"endX":$3B,"endY":$3C});}}}else if($0m==="StartToFinish"){var $3p=5;var $3G=end.y-$3p;$3l.push({"type":"HorizontalLine","startX":end.x,"startY":end.y+$0g-$0l,"endX":end.x+$3m+$Y,"endY":end.y+$0g-$0l});$3l.push({"type":"VerticalLine","startX":end.x+$3m,"startY":end.y+$0g-$0l,"endX":end.x+$3m,"endY":$3G});$3l.push({"type":"HorizontalLine","startX":$09.x-$3m,"startY":$3G,"endX":end.x+$3m+$Y,"endY":$3G});$3l.push({"type":"VerticalLine","startX":$09.x-$3m,"startY":$3G,"endX":$09.x-$3m,"endY":$09.y+$0g-$0l});$3l.push({"type":"HorizontalLine","startX":$09.x-$3m,"startY":$09.y+$0g-$0l,"endX":$09.x,"endY":$09.y+$0g-$0l});$3l.push({"type":"ArrowLeft","startX":end.x,"startY":end.y+$0g-$0l,"endX":end.x,"endY":end.y+$0g-$0l});}else if($0m==="StartToStart"){var nx=Math.min($09.x,end.x)-$3m;$3l.push({"type":"HorizontalLine","startX":nx,"startY":$09.y+$0g-$0l,"endX":$09.x,"endY":$09.y+$0g-$0l});$3l.push({"type":"VerticalLine","startX":nx,"startY":$09.y+$0g-$0l,"endX":nx,"endY":end.y+$0g-$0l});$3l.push({"type":"HorizontalLine","startX":nx,"startY":end.y+$0g-$0l,"endX":end.x,"endY":end.y+$0g-$0l});$3l.push({"type":"ArrowRight","startX":end.x,"startY":end.y+$0g-$0l,"endX":end.x,"endY":end.y+$0g-$0l});}else if($0m==="FinishToFinish"){var fx=Math.max(end.x,$09.x)+$3m;$3l.push({"type":"HorizontalLine","startX":$09.x,"startY":$09.y+$0g-$0l,"endX":fx,"endY":$09.y+$0g-$0l});$3l.push({"type":"VerticalLine","startX":fx,"startY":$09.y+$0g-$0l,"endX":fx,"endY":$0g-$0l+end.y});$3l.push({"type":"HorizontalLine","startX":end.x,"startY":end.y+$0g-$0l,"endX":fx,"endY":end.y+$0g-$0l});$3l.push({"type":"ArrowLeft","startX":end.x,"startY":end.y+$0g-$0l,"endX":end.x,"endY":end.y+$0g-$0l});};return $3l;};$1Q.$ln=function(){$A.divLinkShadow.innerHTML='';$A.elements.linkshadow=[];};$1Q.$lo=function($1h,to){$1Q.$ln();var parent=$A.divLinkShadow;var $14=DayPilot.line($1h.x,$1h.y,to.x,to.y,{"arrow":true,"cssClass":$A.$hy("_link_shadow")});parent.appendChild($14);$A.elements.linkshadow.push($14);};this.$lb=function($G,$I){var $1t={};$1t.from=$G.from;$1t.to=$G.to;$1t.type=$G.type;$A.$il("LinkCreate",$1t,$I);};this.$ld=function($G,$I){var $1t={};$1t.from=$G.from;$1t.to=$G.to;$1t.type=$G.type;$A.$il("LinkCreate",$1t,$I,"Notify");};this.$lc=function($G,$I){var $1t={};$1t.from=$G.from;$1t.to=$G.to;$1t.type=$G.type;$A.$ik("LinkCreate",$1t,$I);};this.$lp=function(i,$2V){var top=0;var $0l=0;var $1K=0;var $2K=$A.$kT($2V);var $2M=$2K.rowlist;if(i>$2M.length-1){throw new DayPilot.Exception("Row index too high");};for(var j=0;j<=i;j++){var $U=$2M[j];if($U.hidden){continue;};$0l+=$U.height;$1K++;};top=$0l-$U.height;var $B={};$B.top=top;$B.height=$U.height;$B.bottom=$0l;$B.i=$1K-1;$B.data=$U;return $B;};this.$lq=function(){return !!this.backendUrl;};this.events.find=function(id){if(!$A.events.list||typeof $A.events.list.length==='undefined'){return null;};if(typeof id==="function"){return $A.$lr(id);};var $3H=$A.events.list.length;for(var i=0;i<$3H;i++){if($A.events.list[i].id===id){return new DayPilot.Event($A.events.list[i],$A);}};return null;};this.events.findAll=function(f){if(typeof f==="function"){var $3H=$A.events.list.length;var $B=[];for(var i=0;i<$3H;i++){var e=new DayPilot.Event($A.events.list[i],$A);if(f(e)){$B.push(e);}};return $B;};if(typeof f==="object"){return $A.events.findAll(function(e){for(var name in f){if(f[name]!==e.data[name]){return false;}};return true;});};throw new DayPilot.Exception("function or object argument expected");};this.$lr=function(f){var $3H=$A.events.list.length;for(var i=0;i<$3H;i++){var e=new DayPilot.Event($A.events.list[i],$A);if(f(e)){return e;}};return null;};this.events.focus=function(e){var $0r=$A.$ls(e);$0r&&$0r.focus();};this.events.scrollIntoView=function(e){var $0r=$A.$ls(e);if(!$0r){return;};var $2g=e.start();var $0f=$A.getViewPort();if(!$l($0f.start,$0f.end,e.start(),e.end())&&$l($A.$i1(),$A.$i7(),e.start(),e.end())){$A.scrollTo($2g,"fast","middle");};var r=e.resource();if($A.getViewPort().resources.indexOf(r)===-1){$A.scrollToResource(r);}};this.events.all=function(){var $0n=[];for(var i=0;i<$A.events.list.length;i++){var e=new DayPilot.Event($A.events.list[i],$A);$0n.push(e);};return $v($0n);};this.events.forRange=function($09,end){$09=$09?new DayPilot.Date($09):$A.visibleStart();end=end?new DayPilot.Date(end):$A.visibleEnd();var $0n=$v();for(var i=0;i<$A.events.list.length;i++){var e=new DayPilot.Event($A.events.list[i],$A);if($l(e.start(),e.rawend(),$09,end)){$0n.push(e);}};return $0n;};this.events.filter=function($G,$3I){$A.events.$lt=$G;if($3I){return;};$A.$iU({"eventsOnly":true});};this.events.edit=function(e){if(!(e instanceof DayPilot.Event)){e=new DayPilot.Event(e);};var $3J=DayPilotScheduler.$lu;if($3J){if($A.$j5($3J.event,e)){return;}else{$1W.$lv();$1W.$lw=true;DayPilotScheduler.$lu.blur();}};var $3K=!$v($A.events.$lx.rows).isEmpty();if($3K){$1W.$lw=true;$A.events.$jN({"dontResetFocus":true});};$1W.$lw=false;var $0r=$A.$j2(e);if(!$0r){$1W.$kf();return;}else{$1W.$lv();$A.$iq($0r);}};this.events.load=function($30,$31,$32){if(!$30){throw new DayPilot.Exception("events.load(): 'url' parameter required");};var $33=function($G){var $34={};$34.exception=$G.exception;$34.request=$G.request;if(typeof $32==='function'){$32($34);}};var $35=function($G){var r=$G.request;var $I;try{$I=JSON.parse(r.responseText);}catch(e){var $36={};$36.exception=e;$33($36);return;};if(DayPilot.isArray($I)){var $37={};$37.preventDefault=function(){this.preventDefault.value=true;};$37.data=$I;if(typeof $31==="function"){$31($37);};if($37.preventDefault.value){return;};$A.events.list=$37.data;if($A.$hc){$A.update();}}};var $38=$A.eventsLoadMethod&&$A.eventsLoadMethod.toUpperCase()==="POST";if($38){DayPilot.ajax({"method":"POST","contentType":"application/json","data":{"start":$A.visibleStart().toString(),"end":$A.visibleEnd().toString()},"url":$30,"success":$35,"error":$33});}else{var $39=$30;var $3a="start="+$A.visibleStart().toString()+"&end="+$A.visibleEnd().toString();if($39.indexOf("?")>-1){$39+="&"+$3a;}else{$39+="?"+$3a;};DayPilot.ajax({"method":"GET","url":$39,"success":$35,"error":$33});}};this.events.findRecurrent=function($3L,$1g){if(!$A.events.list||typeof $A.events.list.length==='undefined'){return null;};var $3H=$A.events.list.length;for(var i=0;i<$3H;i++){if($A.events.list[i].recurrentMasterId===$3L&&$A.events.list[i].start.getTime()===$1g.getTime()){return new DayPilot.Event($A.events.list[i],$A);}};return null;};this.events.$iJ=function($I){var $1J=[];var $2M=$A.$i0();$2M.forEach(function($U){if($U.isNewRow){return;};$A.$i2($U.index,$U.grid);for(var r=0;r<$U.events.length;r++){var rd=$U.events[r].data;if($A.$j5(rd,$I)){$1J.push($U);$U.events.splice(r,1);break;}}});return $1J;};this.events.$lh=function($I){if(!$I){return null;};var $2M=$A.$i0();for(var i=0;i<$2M.length;i++){var $U=$2M[i];if($U.hidden){continue;};if($U.isNewRow){continue;};$A.$i2($U.index,$U.grid);for(var r=0;r<$U.events.length;r++){var re=$U.events[r];if($A.$j5(re.data,$I)){return $U.events[r];}}};return null;};this.events.$iK=function($I){var $1J=[];var $3M=$A.$ly()||$A.viewType==="Days";var $1K=$y($A.events.list,$I);$A.$lz($1K);var $2M=$A.$i0();var $3N=false;$2M.forEach(function($U){if($3N){return;};if($U.isNewRow){return;};$A.$i2($U.index,$U.grid);var ep=$A.$lA($I,$U);if(ep){if(typeof $A.onBeforeEventRender==='function'){ep.cache=$A.$gt.events[$1K];};$1J.push($U);if(!$3M){$3N=true;}}});return $1J;};this.$j5=function($3O,$3P){return DayPilot.Util.isSameEvent($3O,$3P);};this.events.update=function(e,$I,$z){var $3Q=function($I){var fp=$1W.$lB;if(fp&&fp.type==="event"){var $3R=$A.$j5(fp.event.data,$I);if($3R){fp.event=$A.events.$lh($I);}}};if(typeof e==="object"&&!(e instanceof DayPilot.Event)){var ev=$A.events.find(e.id);$A.events.remove(ev);$A.events.add(e);$3Q(e);return;};var $1t={};$1t.oldEvent=new DayPilot.Event(e.copy(),$A);$1t.newEvent=new DayPilot.Event(e.temp(),$A);var $z=$z||{};var $1I=new DayPilot.Action($A,"EventUpdate",$1t,$I);var $3S=$v($A.events.list).find(function($0p){return $A.$j5($0p,e.data);});if(!$3S){return;};if($A.$jq.scope){$A.$jq.notify(function(){e.commit();});}else{if($A.$he.$lC){$A.$he.skip=true;};var $3T=$A.eventUpdateInplaceOptimization||$z.inplace;if($3T&&$1t.oldEvent.resource()===$1t.newEvent.resource()&&$1t.oldEvent.start()===$1t.newEvent.start()&&$1t.oldEvent.end()===$1t.newEvent.end()){e.commit();var $0r=$A.$j2(e);if($0r){var $3U=$0r.event.part;$A.$lD($0r);DayPilot.rfa($A.elements.events,$0r);e.part=$3U;}else{$e("Old div not found");};var $1J=$A.events.$iJ(e.data);$1J=$1J.concat($A.events.$iK(e.data));$A.$iL($1J);var ue=$A.events.$lh(e.data);ue&&$A.$lE(ue);$A.$lF();}else{var $1J=$A.events.$iJ(e.data);e.commit();$1J=$1J.concat($A.events.$iK(e.data));$A.events.$lG($1J);}};$3Q(e.data);return $1I;};this.events.remove=function(e,$I){if(!e){return;};if(typeof e==="string"||typeof e==="number"){var $2Z=$A.events.find(e);$A.events.remove($2Z);return;};var $1t={};$1t.e=new DayPilot.Event(e.data,$A);var $1I=new DayPilot.Action($A,"EventRemove",$1t,$I);var $3S=$A.$lH(e.data);if($3S){$A.events.list.splice($3S.index,1);};if($A.$jq.scope){$A.$jq.notify();}else{if($A.$he.$lC){$A.$he.skip=true;};var $1J=$A.events.$iJ(e.data);var $3T=$A.eventUpdateInplaceOptimization;if($3T&&$1J.length===1&&!$A.events.$lI(e)){$A.$lJ($A.rowlist[$1J[0]]);var $0r=$A.$j2(e);if($0r){var $1K=$A.elements.events.indexOf($0r);$A.elements.events.splice($1K,1);$A.$lD($0r);$A.$lF();}}else{$A.events.$lG($1J);}};return $1I;};this.events.add=function(e,$I,$z){var $z=$z||{};var $3V=$z.renderOnly;if(!(e instanceof DayPilot.Event)){e=new DayPilot.Event(e);};e.calendar=$A;if(!$A.events.list){$A.events.list=[];};var $3S=$A.$lH(e);if($3V){if(!$3S){throw new DayPilot.Exception("Unexpected: event not found in list");}}else{if($3S&&!$A.temp.allowDuplicateEventIds){throw new DayPilot.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");};if(!$3S){$A.events.list.push(e.data);}};var $1I=new DayPilot.Action($A,"EventAdd",$1t,$I);if(!$A.$hc){return $1I;};if($A.$jq.scope){$A.$jq.notify();}else{if($A.$he.$lC){$A.$he.skip=true;};var $1t={};$1t.e=e;var $1J=$A.events.$iK(e.data);var $0g=e.data.height||$A.eventHeight;var $3T=$A.eventUpdateInplaceOptimization;if($3T&&$1J.length===1&&!$A.events.$lI(e)&&$0g<=$A.eventHeight&&!$A.eventVersionsEnabled){var $U=$A.rowlist[$1J[0]];$A.$lJ($U);var ep=$U.events.find(function($0p){return $0p.data===e.data;});ep.part.top=0;ep.part.height=$0g;ep.part.line=0;$A.$lE(ep);$A.$lF();$1W.$jv();}else{$A.events.$lG($1J);}};return $1I;};this.events.$lI=function(e){var $I=e instanceof DayPilot.Event?e.data:e;var $09=new DayPilot.Date($I.start);var end=new DayPilot.Date($I.end);var $3W=$v($A.events.list).find(function($0p){if($A.$j5($I,$0p)){return false;};if($I.resource!==$0p.resource){return false;};var $3X=new DayPilot.Date($0p.start);var $3Y=new DayPilot.Date($0p.end);return $l($09,end,$3X,$3Y);});return !!$3W;};this.events.addByData=function($I){$A.events.add(new DayPilot.Event($I));};this.events.removeByData=function($I){var e=$A.events.find($I.id);if(!e){throw new DayPilot.Exception("The event to be removed was not found");};$A.events.remove(e);};this.events.updateByData=function($I){var e=$A.events.find($I.id);if(!e){throw new DayPilot.Exception("The event to be updated was not found");};$A.events.remove(e);$A.events.add(new DayPilot.Event($I));};this.events.removeById=function(id){var e=$A.events.find(id);if(!e){throw new DayPilot.Exception("The event to be removed was not found");};$A.events.remove(e);};this.events.$lx={"rows":[]};this.events.$lK=null;this.events.$jg=function(){clearTimeout($A.events.$lK);$A.events.$lK=null;$A.events.$lx.rows=[];};this.events.$lL=0;this.events.$lG=function($1J){var $3e=$A.events.$lx.rows;$v($1J).forEach(function($U){$3e.push($U);});$A.events.$lx.rows=DayPilot.ua($3e);var $2e=$A.events.$jN;if(!$A.events.$lK){$A.events.$lK=setTimeout($2e,$A.events.$lL);}};this.events.$jN=function($z){$z=$z||{};clearTimeout($A.events.$lK);$A.events.$lK=null;var $1J=$A.events.$lx.rows;$A.events.$lx.rows=[];$A.$iL($1J);$A.$iM();if($A.$hc){if($A.viewType==="Gantt"){$A.update();}else{if($A.$jB){$A.$gQ();};$A.$gV();$A.$iN($1J);$A.$lF();if(!$z.dontResetFocus){$1W.$jv();}}}};this.$he={};this.$he.enabled=false;this.$he.skip=false;this.$he.skipUpdate=function(){return $A.$he.skip;};this.$he.skipped=function(){$A.$he.skip=false;};this.$he.$lM=false;this.$he.$lC=false;this.$hh={};this.$hh.reactDOM=null;this.$hh.react=null;this.$hh.$lN=function($3Z,$2g){var rd=$A.$hh.reactDOM;if(typeof rd.createRoot==="function"){var $40=$2g.$lO;if(!$40){$40=rd.createRoot($2g);$2g.$lO=$40;};$40.render($3Z);}else{rd.render($3Z,$2g);}};this.$hh.$kW=function($2g){var rd=$A.$hh.reactDOM;if(typeof rd.createRoot==="function"){var $40=$2g.$lO;setTimeout(function(){$40.unmount();$2g.$lO=null;},0);}else{rd.unmountComponentAtNode($2g);}};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($1I){if(!$1I){return;};if($1I.isAction){$A.queue.list.push($1I);}else{throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");}};this.queue.notify=function($I){var $1t={};$1t.actions=$A.queue.list;$A.$il('Notify',$1t,$I,"Notify");$A.queue.list=[];};this.queue.clear=function(){$A.queue.list=[];};this.queue.pop=function(){return $A.queue.list.pop();};this.cells.find=function($09,$22){var $0e=$A.$jp($09,$22);if(!$0e){return $41();};return this.findXy($0e.x,$0e.y,$0e.grid);};this.cells.findByPixels=function(x,y){var $1f=$A.$id(x);if(!$1f){return $41();};var x=$1f.x;var $U=$A.$kw(y);if(!$U){return $41();};var y=$U.i;return this.findXy(x,y);};this.cells.all=function(){var $0n=[];var $2x=$A.itline.length;var $42=$A.rowlist.length;for(var x=0;x<$2x;x++){for(var y=0;y<$42;y++){var $0e=$A.cells.findXy(x,y);$0n.push($0e[0]);}};return $41($0n);};this.cells.$lP=function(x,y,$2V){$2V=$2V||"main";var $2K=$A.$hi[$2V];var $2M=$2K.rowlist;var $1f=$A.$io(x);var $U=$2M[y];if(!$1f){return null;};if(!$U){return null;};var $27=$U.start.getTime()-$A.$i1().getTime();var $09=$1f.start.addTime($27);var end=$1f.end.addTime($27);var $0e={};$0e.x=x;$0e.y=y;$0e.grid=$2V;$0e.displayY=$U.displayY;$0e.i=$2V+"_"+x+"_"+y;if(!$U.id){};$0e.resource=$U.id;(function(){var $43;Object.defineProperty($0e,"row",{get:function(){if(!$43){$43=new DayPilot.Row($U,$A);};return $43;},});})();$0e.start=$09;$0e.end=end;$0e.calendar=$A;$0e.isParent=!!($U.children&&$U.children.length);$0e.update=function(){if(!$2M[$0e.y].hidden){var $2j=$A.$gt.cells[$0e.i];$A.$lQ($2j);var $08=$A.$ho();if($08.xStart<=$0e.x&&$0e.x<=$08.xEnd){if($08.yStart<=$0e.y&&$0e.y<=$08.yEnd){$A.$lR($0e.x,$0e.y,$0e.grid);}}}};$0e.utilization=function(name){if($U.isNewRow){return 0;};if(!$U.sections){$U.$lS();};return $U.sections.forRange($09,end).maxSum(name);};$0e.events=function(){return $U.events.forRange($09,end);};$0e.div=$A.$gt.cells[$0e.i];var p=$A.$lT(x,y,$2V);$0e.properties=p;return $0e;};this.cells.findXy=function(x,y,$2V){$2V=$2V||"main";if(DayPilot.isArray(x)){var $0b=[];for(var i=0;i<x.length;i++){var o=x[i];$0b.push($A.cells.$lP(o.x,o.y,$2V));};return $41($0b);}else if(x===null||y===null){return $41();};var $0e=$A.cells.$lP(x,y,$2V);return $41($0e);};this.$jp=function($09,$22){var $U;if($22 instanceof DayPilot.Row){$U=$22.$.row;}else if($22.isRow){$U=$22;}else{$U=$A.$hm($22);};if(!$U){return null;};if(!$A.itline||$A.itline.length===0){return null;};var offset=$U.start.getTime()-$A.$i1().getTime();var $44=new DayPilot.Date($09).addTime(-offset);var $W=$A.getPixels($44);if(!$W){return null;};if($W.i===null){return null;};var $B={};$B.x=$W.i;$B.y=$U.index;$B.grid=$U.grid;return $B;};this.$lU=function(a){var $0n=$v();if(DayPilot.isArray(a)){for(var i=0;i<a.length;i++){$0n.push(a[i]);}}else if(typeof a==='object'&&a){$0n.push(a);};$0n.cssClass=function($45){this.forEach(function($0p){$0p.properties.cssClass=DayPilot.Util.addClassToString($0p.properties.cssClass,$45);$0p.update();});return this;};$0n.removeClass=function($45){this.forEach(function($0p){$0p.properties.cssClass=DayPilot.Util.removeClassFromString($0p.properties.cssClass,$45);$0p.update();});return this;};$0n.addClass=$0n.cssClass;$0n.html=function($0F){this.forEach(function($0p){$0p.properties.html=$0F;$0p.update();});return this;};$0n.invalidate=function(){this.forEach(function($0p){delete $A.$i4[$0p.i];});return this;};return $0n;};var $41=this.$lU;this.$jq={};this.$jq.scope=null;this.$jq.notify=function(f){if($A.$jq.scope){DayPilot.Util.safeApply($A.$jq.scope,f);}};this.debug=new DayPilot.Debug(this);this.$lV=function($M){if($A.viewType!=='Days'){throw new DayPilot.Exception("Checking row start when viewType !== 'Days'");};if($M.getTime()<$A.visibleStart().getTime()){return $A.visibleStart();};for(var i=0;i<$A.rowlist.length;i++){var $U=$A.rowlist[i];var $I=$U.element?$U.element.data:$U.data;var $09=$I.start;if($M.getTime()>=$09.getTime()&&$M.getTime()<$09.addDays(1).getTime()){return $09;}};return null;};this.$lW=function($M){var $09=$A.$i1();if($M.ticks===$09.ticks){return $M;};var $19=$09;if($M.ticks<$09.ticks){var $46=this.itline[0].end.ticks-this.itline[0].start.ticks;while($19.ticks>$M.ticks){$19=$19.addTime(-$46);};return $19;};if($A.viewType==='Days'){var offset=0;var $0e=this.$if($M.addTime(-offset));if($0e.current){return $0e.current.start.addTime(offset);};if($0e.past){return $0e.previous.end.addTime(offset);};throw new DayPilot.Exception("getBoxStart(): time not found");}else{var $0e=this.$if($M);if($0e.current){return $0e.current.start;};if($0e.past){return $0e.previous.end;};if($0e.hidden){var $05=$0e.next.start.getTime()-$M.getTime();var $47=$0e.next.end.getTime()-$0e.next.start.getTime();var $48=Math.ceil($05/$47)*$47;var $B=$0e.next.start.addTime(-$48);return $B;};throw new DayPilot.Exception("getBoxStart(): time not found");}};this.$kY=function(e){var $U=this.$kw($A.coords.y,$A.coords.grid);var $49=$A.scaleManualLimitBeyond;if(typeof e.end !=='function'){throw new DayPilot.Exception("e.end function is not defined");};if(!e.end()){throw new DayPilot.Exception("e.end() returns null");};var $1l=DayPilot.DateUtil.diff(e.rawend(),e.start());$1l=$p($1l,1);var $4a=$0B.$l1($1l);var $4b=e.data&&e.data.type==="Milestone";var $4c=$A.eventHeight;var $4d=0;var x=$A.coords.x;if($4b){x+=$4c/2;};if($49&&$A.scale==="Manual"&&!$A.eventMoveSkipNonBusiness){var $4e=(function(){var end=$A.getDate($A.coords.x,true,true);var $09=end.addTime(-$1l);var $4f=$A.getPixels($09).boxLeft;var $4g=$A.getPixels(end).boxRight;var end=Math.min($4g,$A.coords.x);return end -$4f;})();var offset=Math.min(DayPilotScheduler.$lX?DayPilotScheduler.$lX:0,$4e);x=$A.coords.x-offset;};var $4h=DayPilotScheduler.$lY?DayPilotScheduler.$lY.calendar:$A;var $27=0;var $4i=this.viewType==='Days'||this.$lZ();var $4j=!e.part.external&&$4h===$A;if($4i&&$4j){$27=this.rowlist[e.part.dayIndex].start.getTime()-this.$i1().getTime();};if($4a&&!$4b&&$4h===$A){var $0e=$A.$if(e.start());var $4k=!$0e.hidden&&!$0e.past;$4d=e.start().getTime()-this.$lW(e.start().addTime(-$27)).addTime($27).getTime();if($4k){$4d=(function($4l,offset){var $4m=$A.$m0($A.$if($4l).current);var $4n=$A.$m0($A.$id(x).cell);if($4m>$4n*1.2){var $4o=offset>0?1:-1;var offset=Math.abs(offset);while(offset>=$4n){offset-=$4n;};offset*=$4o;};return offset;})(e.start(),$4d);}};if($4h&&$4h!==$A){if($4h.$m1()!==$A.$m1()){$4d=0;}};var $4p=0;if(DayPilotScheduler.$m2&&($A.scale!=="Manual"||!$49)&&$4h===$A){if($4a){var $4q=e.start().addTime(-$27);var $4r=this.$lW($4q);$4p=DayPilotScheduler.$m2.getTime()-$4r.getTime();var $4s=$A.$m1()*60*1000;$4p=Math.floor($4p/$4s)*$4s;}else{$4p=DayPilotScheduler.$m2.getTime()-e.start().addTime(-$27).getTime();}}else{$4p=0;};if(this.eventMoveToPosition){$4p=0;};if($4b){var $4t=$A.getDate(x,true);var $4u=$A.getDate(x+$4c/2,true);var $4v=($4u.getTime()-$4t.getTime())/2;$4p=-$4v;};var $09=this.getDate(x,true).addTime(-$4p).addTime($27);if(DayPilotScheduler.$m3){$09=e.start();};var $4w=$A.snapToGrid;if(DayPilotScheduler.$ii){$4w=$4w&&$A.snapToGridEventMoving;}else if(DayPilotScheduler.$m3){$4w=$4w&&$A.snapToGridEventResizing;}else if(DayPilotScheduler.$m4){$4w=$4w&&$A.snapToGridTimeRangeSelecting;};if($4w){$09=this.$lW($09.addTime(-$27)).addTime($27);};$09=$09.addTime($4d);var end=$09.addTime($1l);var $0W=$09;var $0X=end;if($4i){$0W=$09.addTime(-$27);$0X=$0W.addTime($1l);var $4x=$U.element.data.start.getTime()-this.$i1().getTime();$09=$0W.addTime($4x);end=$09.addTime($1l);};if($49&&$A.scale==="Manual"){var $2X=$U.element.$m5();if(end>$2X){var $4y=end.getTime()-$2X.getTime();$09=$09.addTime(-$4y);end=end.addTime(-$4y);};$0W=$09.addTime(-$27);$0X=end.addTime(-$27);};if(DayPilotScheduler.$ii&&$A.eventMoveSkipNonBusiness){var y=$U.i;var $3c=0;if(DayPilotScheduler.$m2){$3c=DayPilotScheduler.$m2.addTime($27);if($4w){$3c=this.$lW($3c.addTime(-$27)).addTime($27);}};var $4z=!e.part.dayIndex;var $4A=0;if(!$4z){$4A=$A.$m6(e.start(),$3c,e.part.dayIndex);};var $1l=$A.$m7(e);var $4B=$A.getDate(x,true);if($4w){$4B=$A.getDate(x);};var offset=$A.$m8($4B,$4A,y,$U.grid);$09=$4B.addTime(-offset).addTime($27);if($4w){$09=this.$lW($09.addTime(-$27)).addTime($27);};if(!$4z){$4d=$A.$m6(this.$lW(e.start().addTime(-$27)).addTime($27),e.start(),y,$U.grid);}else{$4d=0;};$09=$09.addTime($4d);if($09<=$A.visibleStart()){$09=$A.$m9($A.visibleStart(),y,$U.grid).start;};end=$A.$ma($09,$1l,y,$U.grid);if(end>=$A.visibleEnd()){end=$A.$mb($A.visibleEnd(),y,$U.grid).end;$09=end.addTime(-$A.$m8(end,$1l,y));};$0W=$09.addTime(-$27);$0X=end.addTime(-$27);};var $4C=this.getPixels($0W);var $4D=this.getPixels($0X);var $0c=($4w)?$4C.boxLeft:$4C.left;var $Y=($4w&&$4a)?($4D.boxRight-$0c):($4D.left-$0c);if($4b){$Y=$4c;$0c-=$Y/2;};var $2T={};$2T.top=$U.top;$2T.left=$0c;$2T.row=$U.element;$2T.rowIndex=$U.i;$2T.grid=$A.coords.grid;$2T.width=$Y;$2T.start=$09;$2T.end=end;$2T.relativeY=$A.coords.y-$U.top;return $2T;};this.$mc=function($09,end){var $0h=$A.$if($09);var $0i=$A.$if(end);var $0V=null;var $4E=0;if($0h.hidden){$0V=$09;};for(var x=$0h.i;x<=$0i.i;x++){var $0e=$A.itline[x];if($0V&&$0V<$0e.start){$4E+=$0e.start.getTime()-$0V.getTime();};$0V=$0e.end;};return $4E;};this.$ma=function($09,$1l,y,$2V){$2V=$2V||"main";var $4F=$1l;var $U=$A.rowlist[y];var $27=$U.data.start.getTime()-$A.$i1().getTime();var $0W=$09.addTime(-$27);var $4G=$A.$m9($0W,y,$2V);if(!$4G){throw new DayPilot.Exception("No next cell found");};var x=$y($A.itline,$4G);if($4G.start>$09){}else{$4F-=$4G.end.getTime()-$0W.getTime();if($4F<=0){return $09.addTime($1l);};x+=1;};for(var i=x;i<$A.itline.length;i++){var $0e=$A.$lT(i,y,$2V);var $1f=$A.itline[i];if($0e.business){var $4H=$1f.start.addTime($27);var $4I=$1f.end.addTime($27);var $4J=$4I.getTime()-$4H.getTime();if($4F<=$4J){return $4H.addTime($4F);};$4F-=$4J;}};return $A.itline[$A.itline.length-1].end.addTime($4F);};this.$m6=function($09,end,y,$2V){$2V=$2V||"main";var $2K=$A.$kT($2V);var $2M=$2K.rowlist;var $U=$2M[y];var $27=$U.data.start.getTime()-$A.$i1().getTime();var $0e=$A.$if($09);var $0W=$09.addTime(-$27);var $0X=end.addTime(-$27);var $4G=$A.$m9($0W,y,$2V);if(!$4G){throw new DayPilot.Exception("No next cell found");};var $1l=0;var x=$y($A.itline,$4G);if($4G.start<=$0X){if(end<$4G.end.addTime($27)){if($4G.start>$0W){return end.getTime()-$4G.start.addTime($27).getTime();}else{return end.getTime()-$09.getTime();}};if($0W>$4G.start){$1l+=$4G.end.getTime()-$0W.getTime();}else{$1l+=$4G.end.getTime()-$4G.start.getTime();};x+=1;};for(var i=x;i<$A.itline.length;i++){var $0e=$A.$lT(i,y,$2V);if($0e.business){var $1f=$A.itline[i];var $4H=$1f.start.addTime($27);var $4I=$1f.end.addTime($27);var $4J=$4I.getTime()-$4H.getTime();if(end<$4H){return $1l;};if(end<=$4I){$1l+=end.getTime()-$4H.getTime();return $1l;};$1l+=$4J;}};var $4K=end.getTime()-$A.itline.last().end.addTime($27).getTime();$1l+=$p(0,$4K);return $1l;};this.$m7=function(e){if(e.part.duration){if(isNaN(e.part.duration)){throw new DayPilot.Exception("Unable to get calculated duration");};return e.part.duration;};var y=e.part.dayIndex;return $A.$m6(e.start(),e.rawend(),y);};this.$m8=function($09,offset,y,$2V){$2V=$2V||"main";var $B=0;var $4F=offset;var $0e=$A.$if($09);if(!$0e.current){throw new DayPilot.Exception("Current cell not found.");};var x=$y($A.itline,$0e.current);if($A.$lT(x,y,$2V).business){if($09.addTime(-offset)>=$0e.current.start){return offset;}}else{if(offset===0||$09.addTime(-offset)>=$0e.current.start){var $4L=$A.$m9($09,y,$2V);if($4L){return $09.getTime()-$4L.start.getTime();}else{var $17=$A.$mb($09,y,$2V);return $09.getTime()-$17.start.getTime();}}};$B+=$09.getTime()-$0e.current.start.getTime();$4F-=$09.getTime()-$0e.current.start.getTime();x-=1;var $4M=$0e.current.start;while(x>=0){var $0e=$A.itline[x];if($4M>$0e.end){$B+=$4M.getTime()-$0e.end.getTime();};$4M=$0e.start;var $4J=$0e.end.getTime()-$0e.start.getTime();if($A.$lT(x,y,$2V).business){if($4F<=$4J){$B+=$4F;return $B;};$B+=$4J;$4F-=$4J;}else{$B+=$4J;};x-=1;};return $B+$4F;};this.$mb=function($1g,y,$2V){$2V=$2V||"main";var $0e=$A.$if($1g);var i=0;if($0e.past){return null;};if($0e.current){i=$0e.i;}else if($0e.previous){i=$y($A.itline,$0e.previous);}else{return null;};for(var x=i;x>=0;x--){var $4N=$A.$md(x,y,$2V);if($4N){return $A.itline[x];}};return null;};this.$m9=function($1g,y,$2V){$2V=$2V||"main";var $0e=$A.$if($1g);var i=0;if($0e.past){return null;};if($0e.current){i=$0e.i;}else if($0e.next){i=$y($A.itline,$0e.next);}else{return null;};for(var x=i;x<$A.itline.length;x++){var $4N=$A.$md(x,y,$2V);if($4N){return $A.itline[x];}};return null;};this.$md=function(x,y,$2V){$2V=$2V||"main";var $0v=$A.$lT(x,y,$2V);return $0v.business;};this.$m1=function(){switch(this.scale){case "CellDuration":return this.cellDuration;case "Minute":return 1;case "Hour":return 60;case "Day":return 60*24;case "Week":return 60*24*7;case "Month":return 60*24*30;case "Year":return 60*24*365;case "Manual":if($A.itline.length>0){var $0e=$A.itline[0];return($0e.end.getTime()-$0e.start.getTime())/(60*1000);}else{return $A.cellDuration;}};throw new DayPilot.Exception("can't guess cellDuration value");};this.$m0=function($1f){return $1f.end.ticks-$1f.start.ticks;};this.$kZ=function(y,$2V){$2V=$2V||"main";if($2V==="main"&&this.treePreventParentUsage&&this.$me(y,$2V)){return true;};if(this.$mf(y,$2V)){return true;};return false;};this.$me=function(y,$2V){$2V=$2V||"main";var $2K=$A.$hi[$2V];var $2M=$2K.rowlist;var $U=$2M[y];if($U.isParent){return true;};if(this.treeEnabled){if($U.children&&$U.children.length>0){return true;}};return false;};this.$mf=function(y,$2V){$2V=$2V||"main";var $2K=$A.$hi[$2V];var $2M=$2K.rowlist;var $U=$2M[y];if($U.isNewRow){return true;};if($U.resource.preventUsage){return true;};return false;};this.$mg={};this.$mh=function(){if(!$A.treeAutoExpand){return;};var $2T=this.$kY(DayPilotScheduler.$lY);var y=$2T.rowIndex;var $4O=this.$me(y);var $4P=this.$mg;if($4P.timeout&&$4P.y!==y){clearTimeout($4P.timeout);$4P.timeout=null;$4P.y=null;};if($4O){$4P.y=y;var $4Q=!$A.rowlist[$4P.y].expanded;if(!$4P.timeout&&$4Q){$4P.timeout=setTimeout(function(){var $4Q=!$A.rowlist[$4P.y].expanded;if($4Q){$A.$mi($4P.y,{"notAnimated":true});$A.$mj();};$4P.timeout=null;$4P.y=null;},500);}}};this.$mk=function(){clearTimeout($A.$mg.timeout);$A.$mg.timeout=null;$A.$mg.y=null;};this.$ml=function(){var $4R=DayPilotScheduler.$mm.width;var $4S=DayPilotScheduler.$mm.left;var e=DayPilotScheduler.$mn;var $4T=DayPilotScheduler.$m3.dpBorder;var $U=$A.rowlist[e.part.dayIndex];var $27=0;$27=$U.start.getTime()-$A.$i1().getTime();var $0S=null;var $1y=null;var $4w=$A.snapToGrid&&$A.snapToGridEventResizing;var $4U=!$4w;if($4T==='left'){$0S=$A.getDate($4S,$4U).addTime($27);$1y=e.rawend();}else if($4T==='right'){$0S=e.start();$1y=$A.getDate($4S+$4R,$4U,true).addTime($27);};DayPilotScheduler.$mm.start=$0S;DayPilotScheduler.$mm.end=$1y;};this.exportAs=function($13,$z){if(!$A.$mo()){throw new DayPilot.Exception("DayPilot.Scheduler.exportAs(): The instance must be visible during export.");};var $4V=$4W.generate($13,$z);return new DayPilot.Export($4V);};this["export"]=this.exportAs;this.$mp={};var $4W=this.$mp;$4W.$mq=function(){var $4X=$4W.$mr;switch($4X){case "viewport":return $A.nav.top.offsetWidth;case "full":return $A.$hC()+$4W.getRowHeaderWidth();case "range":return $A.getPixels($4W.getRangeEnd()).boxRight-$A.getPixels($4W.getRangeStart()).boxLeft+$4W.getRowHeaderWidth();default:throw new DayPilot.Exception("Unsupported export mode: "+$4X);}};$4W.$ms=function(){var $4X=$4W.$mr;switch($4X){case "viewport":return $A.nav.top.offsetHeight-DayPilot.sh($A.nav.scroll)-1;case "full":return $A.$mt()+$A.$hH()-DayPilot.sh($A.nav.scroll);case "range":var $1J=$4W.getRows();if($1J.length===0){return $A.$hH();}else{var $1h=$1J.first();var to=$1J.last();var $0g=$4W.$mu(to)-$4W.$mu($1h)+to.height+$A.$hH();$0g+=$A.$hi.top.height;$0g+=$A.$hi.bottom.height;return $0g;};default:throw new DayPilot.Exception("Unsupported export mode: "+$4X);}};$4W.$mu=function($U){var top=$4W.$mv.includeHiddenRows?$U.absTop:$U.top;if($U.grid==="bottom"){if($4W.$mr==="viewport"){top+=$A.$hi.bottom.top-$A.$hH();}else if($4W.$mr==="full"){top+=$A.$gq;}else if($4W.$mr==="range"){top+=$4W.$ms()-$A.$hH()-$A.$hi.bottom.height;}};return top;};$4W.$mw=function($U){var offset=$4W.getViewportOffsetTop();if($U.grid!=="main"){offset=0;};return offset;};$4W.getRangeStart=function(){var $1h=$4W.$mv.dateFrom||$A.$i1();return new DayPilot.Date($1h);};$4W.getRangeEnd=function(){var to=$4W.$mv.dateTo||$A.$i7();return new DayPilot.Date(to);};$4W.getRangeResStart=function(){if(!$4W.$mv.resourceFrom){return $A.rowlist.find(function($U){return !$U.hidden});};return $A.$hm($4W.$mv.resourceFrom);};$4W.getRangeResEnd=function(){if(!$4W.$mv.resourceTo){return $A.rowlist.last();};return $A.$hm($4W.$mv.resourceTo);};$4W.getRowHeaderWidth=function(){return $A.$hF();};$4W.getTimeHeaderHeight=function(){return $A.$hH();};$4W.getCanvas=function(){return $4W.canvas();};$4W.getRectangles=function(){var $4Y=$4W.getRowHeaderWidth();var $4Z=$4W.getTimeHeaderHeight();var $50={};$50.main={"x":0,"y":0,"w":$4W.$mq(),"h":$4W.$ms()};$50.corner={"x":0,"y":0,"w":$4Y,"h":$4Z};$50.grid={"x":$4Y,"y":$4Z,"w":$4W.$mq()-$4Y,"h":$4W.$ms()-$4Z};var $Y=$50.grid.w;var $51=$A.itline.last();if($51&&($51.left+$51.width)<$50.grid.w){$Y=$51.left+$51.width;};var $0g=$50.grid.h;var $52=$A.rowlist.last();if($52&&($52.top+$52.height)<$50.grid.h){$0g=$52.top+$52.height;};$50.gridContent={"x":$4Y,"y":$4Z,"w":$Y,"h":$0g};return $50;};$4W.getRows=function(){var $4X=$4W.$mr;var $B=$v();var top,$0l,$53,$54;switch($4X){case "viewport":top=$A.$mx;$0l=top+$A.nav.scroll.offsetHeight;$53=$A.$kw(top).i;$54=$A.$kw($0l).i;break;case "full":top=0;$53=0;$54=$A.rowlist.length;break;case "range":var $1h=$4W.getRangeResStart();var to=$4W.getRangeResEnd();if(!$1h){throw new DayPilot.Exception("Resource specified using resourceFrom option not found during export.");};if(!to){throw new DayPilot.Exception("Resource specified using resourceTo option not found during export.");};$53=$1h.index;$54=to.index;break;};if($54<$A.rowlist.length){$54+=1;};for(var y=$53;y<$54;y++){var $U=$A.rowlist[y];if(!$4W.$mv.includeHiddenRows&&$U.hidden){continue;};$B.push($U);};$B.offset=$53;return $B;};$4W.getRowsTop=function(){return $A.$hi.top.rowlist;};$4W.getRowsBottom=function(){return $A.$hi.bottom.rowlist;};$4W.getRowsAll=function(){var $1J=$4W.getRows();$1J=$1J.concat($4W.getRowsTop());$1J=$1J.concat($4W.getRowsBottom());return $1J;};$4W.getRowsTopAndBottom=function(){var $1J=[];$1J=$1J.concat($4W.getRowsTop());$1J=$1J.concat($4W.getRowsBottom());return $1J;};$4W.bottomFrozenY=function(){if($A.$hi.bottom.enabled()){if($4W.$mr==="viewport"){return $A.$hi.bottom.top;}else if($4W.$mr==="full"){return $4W.$ms()-$A.$hi.bottom.height;}else if($4W.$mr==="range"){return $4W.$ms()-$A.$hi.bottom.height;}};return $4W.$ms();};$4W.getEvents=function(){var $4X=$4W.$mr;switch($4X){case "full":var $55=$v();$v($A.rowlist).forEach(function($U){if($U.hidden){return;};$v($U.events).forEach(function(e){$55.push(e);});});return $55;case "viewport":return $0f.$hv().filter(function($0r){return $0r.event.part.grid==="main";}).map(function($0r){return $0r.event;});case "range":var $55=$v();var $09=$4W.getRangeStart();var end=$4W.getRangeEnd();$4W.getRows().forEach(function($U){$v($U.events).filter(function($0p){return $l($0p.start(),$0p.end(),$09,end)}).forEach(function(e){$55.push(e);});});return $55;default:throw new DayPilot.Exception("Unsupported export mode: "+$4X);}};$4W.getEventsFrozen=function(){var $4X=$4W.$mr;switch($4X){case "full":var $55=$v();var $1J=$4W.getRowsTopAndBottom();$1J.forEach(function($U){if($U.hidden){return;};$v($U.events).forEach(function(e){$55.push(e);});});return $55;case "viewport":return $0f.$hv().filter(function($0r){return $0r.event.part.grid!=="main";}).map(function($0r){return $0r.event;});case "range":var $55=$v();var $09=$4W.getRangeStart();var end=$4W.getRangeEnd();$4W.getRowsTopAndBottom().forEach(function($U){$v($U.events).filter(function($0p){return $l($0p.start(),$0p.end(),$09,end)}).forEach(function(e){$55.push(e);});});return $55;default:throw new DayPilot.Exception("Unsupported export mode: "+$4X);}};$4W.getLinks=function(){if(!DayPilot.isArray($A.links.list)){return;};var $56=[];for(var i=0;i<$A.links.list.length;i++){var link=$A.links.list[i];var $3f=$A.events.find(link.from);var $09=$A.events.$lh($3f&&$3f.data);var $3g=$A.events.find(link.to);var end=$A.events.$lh($3g&&$3g.data);var $57=$1Q.$ll($09,end,link,$4W.$mv.includeHiddenRows);if($57){$56.push($57);}};return $56;};$4W.getTimeline=function(){var $4X=$4W.$mr;switch($4X){case "full":return $v($A.itline).addProps({"offset":0});case "viewport":return $4W.getViewportTimeline();case "range":return $4W.getRangeTimeline();default:throw new DayPilot.Exception("Unsupported export mode: "+$4X);}};$4W.getRangeTimeline=function(){var $B=$v();if($A.itline&&$A.itline.length>0){var $09=$A.$if($4W.getRangeStart()).i;var end=$A.$if($4W.getRangeEnd()).i;var $58=$A.$my();end=Math.min(end,$58-1);$09=$p($09,0);for(var x=$09;x<=end;x++){var $0e=$A.itline[x];$B.push($0e);};$B.offset=$09;};return $B;};$4W.getViewportTimeline=function(){var $B=$v();if($A.itline&&$A.itline.length>0){var $0c=$A.$mz;var $0d=$0c+$A.nav.scroll.offsetWidth;var $09=$A.$id($0c).x;var end=$A.$id($0d,true).x;var $58=$A.$my();end=Math.min(end,$58);$09=$p($09,0);for(var x=$09;x<=end;x++){var $0e=$A.itline[x];$B.push($0e);};$B.offset=$09;};return $B;};$4W.getTimeHeader=function(y){var $4X=$4W.$mr;if($4X==="full"){return $v($A.timeHeader[y]);}else{var $B=$v();var $59,$5a;$59=$4W.getViewportOffsetStart();$5a=$59+$4W.getViewportOffsetWidth();var $5b=$A.$mA(y,$59);var $5c=$A.$mA(y,$5a);if(!$5c){$5c={"x":$A.timeHeader[y].length-1};};for(var x=$5b.x;x<=$5c.x;x++){var $0e=$A.timeHeader[y][x];$B.push($0e);};return $B;}};$4W.getSeparators=function(){return $v($A.separators).map(function($5d){var $1g=new DayPilot.Date($5d.location);if($1g.getTime()<$A.$i1().getTime()){return null;};if($1g.getTime()>=$A.$i7().getTime()){return null;};var $W=$A.getPixels($1g);if($W.cut){return null;};if($W.left<0){return null;};if($W.left>$A.$hC()){return null;};return{"left":$W.left,"color":$5d.color,"width":$5d.width||1};}).filter(function($5d){return !!$5d;});};$4W.fakeDurationBar=function(){var $0r=$k();$0r.style.display="none";$0r.className=$A.$hy($0w.event);var $5e=$k();$5e.className=$A.$hy($0w.eventBar);var $0u=$k();$0u.className=$A.$hy($0w.eventBarInner);$j().appendChild($0r);$5e.appendChild($0u);$0r.appendChild($5e);return $0r;};$4W.fakeEventLeft=function(){var $0r=$k();$0r.style.display="none";$0r.className=$A.$hy("_event_left");$j().appendChild($0r);return $0r;};$4W.fakeGroup=function(){var $0r=$k();$0r.style.display="none";$0r.className=$A.$hy($0w.event)+" "+$A.$hy("_task_group");var $0u=$k();$0u.className=$A.$hy($0w.eventInner);$0r.appendChild($0u);$A.divEvents.appendChild($0r);return $0r;};$4W.fakeMilestone=function(){var $0r=$k();$0r.style.display="none";$0r.className=$A.$hy($0w.event)+" "+$A.$hy("_task_milestone");var $0u=$k();$0u.className=$A.$hy($0w.eventInner);$0r.appendChild($0u);$A.divEvents.appendChild($0r);return $0r;};$4W.fakeCell=function(){var $0r=$k();$0r.style.display="none";$0r.className=$A.$hy("_cell");$0r.style.position="absolute";$0r.style.top="-2000px";$0r.style.left="-2000px";var $0u=$k();$0u.className=$A.$hy("_cell_inner");$0r.appendChild($0u);$A.divCells.appendChild($0r);return $0r;};$4W.fakeRowHeader=function(){var $0r=$k();$0r.style.display="none";$0r.className=$A.$hy("_rowheader");$0r.style.position="absolute";$0r.style.top="-2000px";$0r.style.left="-2000px";var $0u=$k();$0u.className=$A.$hy("_rowheader_inner");$0r.appendChild($0u);$A.divResScroll.appendChild($0r);return $0r;};$4W.$mB=function(){var $0r=$k();$0r.style.display="none";$0r.className=$A.$hy("_corner");$0r.style.position="absolute";$0r.style.top="-2000px";$0r.style.left="-2000px";var $0u=$k();$0u.className=$A.$hy("_corner_inner");$0r.appendChild($0u);$A.nav.top.appendChild($0r);return $0r;};$4W.fakeExpand=function(){var $0r=$k();$0r.style.display="none";$0r.className=$A.$hy('_tree_image_expand');$j().appendChild($0r);return $0r;};$4W.fakeIcon=function($5f){var $0r=document.createElement("i");$0r.className=$5f;$0r.style.position="absolute";$0r.style.top="-2000px";$0r.style.left="-2000px";return $0r;};$4W.extractUrl=function($5g){var $5h=/url\((")?([^"].*[^"])\1\)/.exec($5g);if(!$5h){return null;};return $5h[2];};$4W.getImages=function(){var $B={};var $2A=$4W.fakeExpand();$B.expand=$4W.extractUrl(new DayPilot.StyleReader($2A).get("background-image"));$2A.className=$A.$hy("_tree_image_collapse");$B.collapse=$4W.extractUrl(new DayPilot.StyleReader($2A).get("background-image"));$2A.className=$A.$hy("_tree_image_no_children");$B.nochildren=$4W.extractUrl(new DayPilot.StyleReader($2A).get("background-image"));$x($2A);return $B;};$4W.getFont=function(element){return new DayPilot.StyleReader(element).getFont();};$4W.getViewportOffsetStart=function(){var $4X=$4W.$mr;switch($4X){case "full":return 0;case "viewport":return $A.nav.scroll.scrollLeft;case "range":return $A.getPixels($4W.getRangeStart()).boxLeft;}};$4W.getViewportOffsetTop=function(){var $4X=$4W.$mr;switch($4X){case "full":return 0;case "viewport":return $A.nav.scroll.scrollTop;case "range":return $4W.$mu($4W.getRangeResStart())-$A.$hi.top.height;}};$4W.getViewportOffsetWidth=function(){var $4X=$4W.$mr;switch($4X){case "full":return $A.$hC();case "viewport":return $A.nav.scroll.offsetWidth;case "range":return $A.getPixels($4W.getRangeEnd()).boxRight-$4W.getViewportOffsetStart();}};$4W.excelBoard=function(){var $5i=new DayPilot.Excel();var $5j=$5i.worksheets.create("Scheduler");var $5k=new DayPilot.StyleReader($A.nav.corner).get("background-color");var $5l=new DayPilot.StyleReader($A.nav.top).get("border-top-color");var $5m=$v($A.elements.events).filter(function($0r){return !$0r.event.data.type;}).map(function($0p){return $0p.firstChild;}).last();var $5n=new DayPilot.StyleReader($5m).get("border-right-color");$5i.styles.getDefault().setBackColor("#ffaaaa");var $5o=$5i.styles.create();$5o.setHorizontalAlignment("Center");$5o.setBackColor($5k);$5o.setBorderColor($5l);var $5p=$5i.styles.create();$5p.setVerticalAlignment("Top");$5p.setBackColor($5k);$5p.setBorderColor($5l);var $5q=$5i.styles.create();$5q.setVerticalAlignment("Top");$5q.setBackColor("#ff0000");$5q.setBorderColor($5n);$5j.enableGridlines(false);$5j.cell(0,0).setRowspan($A.timeHeader.length).setStyle($5o);$5j.cell(10,10).setText("hi there");$v($A.timeHeader).forEach(function($0p,y){var offset={"x":1,"y":0};$4W.getTimeHeader(y,"full").forEach(function($0e,x){var $5r=$0e.colspan;$5j.cell(x+offset.x,y+offset.y).setText($0e.innerHTML).setColspan($5r).setStyle($5o);});});$v($A.rowlist).forEach(function($U,y){var offset={"x":0,"y":1};var $2F="";for(var i=0;i<$U.level;i++){$2F+="  ";};$5j.cell(offset.x,y+offset.y).setText($2F+$U.html).setRowspan($U.lines.length).setStyle($5p);});var offset={"x":0,"y":$A.timeHeader.length};var $5s=offset.y;$v($A.rowlist).forEach(function($U,y){$v($U.lines).forEach(function($14,i){var $5t=offset.x;$v($14).forEach(function(e){var $09=$A.$if(e.start()).i;var end=$A.$if(e.end()).i;var $5r=1+end -$09;$5j.cell($09+$5t,y+$5s).setText(e.client.html()).setColspan($5r).setStyle($5q);$5t+=$5r-1;});});$5s+=$U.lines.length-1;});return $5i;};$4W.$mv=null;$4W.$mr=null;$4W.generate=function($13,$z){if(typeof $13==="object"){$z=$13;$13=null;};var $z=$z||{};var $13=$13||$z.format||"svg";var $5u=$z.scale||1;if($13==="xls"){return $4W.excelBoard();};if($13.toLowerCase()==="jpg"){$13="jpeg";};var $4X=$z.area||"viewport";$4W.$mv=$r($z);$4W.$mr=$4X;$4W.$mv.includeHiddenRows=$4W.$mv.includeHiddenRows&&($4X==="range");$4W.getRows().forEach(function($U){$A.$mC($U);});var $Y=$4W.$mq();var $0g=$4W.$ms();var $4V;switch($13.toLowerCase()){case "svg":$4V=new DayPilot.Svg($Y,$0g);break;case "png":$4V=new DayPilot.Canvas($Y,$0g,"image/png",$5u);break;case "jpeg":$4V=new DayPilot.Canvas($Y,$0g,"image/jpeg",$5u,$z.quality);break;default:throw new DayPilot.Exception("Export format not supported: "+$13);};var $50=$4W.getRectangles();var $5v=$4W.getImages();var $5w=new DayPilot.StyleReader($A.nav.top).get("background-color");var $5k=new DayPilot.StyleReader($A.nav.corner).get("background-color");var $5l=new DayPilot.StyleReader($A.nav.top).get("border-top-color");var $5x=new DayPilot.StyleReader($A.nav.divider).get("background-color");var $5m=$v($A.elements.events).filter(function($0r){return !$0r.event.data.type;}).map(function($0r){return $0r.firstChild;}).last();var $5n=new DayPilot.StyleReader($5m).get("border-right-color");var $5y=$4W.getFont($5m);var $5z=new DayPilot.StyleReader($5m).get("color");var $5A=new DayPilot.StyleReader($5m).get("background-color");$5A=DayPilot.Util.isTransparentColor($5A)?"white":$5A;var $5B=$4W.fakeMilestone();var $5C=new DayPilot.StyleReader($5B.firstChild).get("background-color");$x($5B);var $5D=$4W.fakeGroup();var $5E=new DayPilot.StyleReader($5D.firstChild).get("background-color");$x($5D);var $5e=$4W.fakeDurationBar();var $5F=new DayPilot.StyleReader($5e.firstChild).get("background-color");var $5G=new DayPilot.StyleReader($5e.firstChild.firstChild).get("background-color");$x($5e);var $5H=$4W.fakeEventLeft();var $5I=new DayPilot.StyleReader($5H).get("color");$x($5H);var $0e=$4W.fakeCell();var $5J=new DayPilot.StyleReader($0e).get("background-color");$n($0e,$A.$hy("_cell_business"));var $5K=new DayPilot.StyleReader($0e).get("background-color");var $5L=$4W.getFont($0e);var $5M=new DayPilot.StyleReader($0e).get("color");$x($0e);var $5N=DayPilot.Util.firstPropValue($A.$gt.$gv);var $5O=new DayPilot.StyleReader($5N).get("background-color");var $5P=DayPilot.Util.firstPropValue($A.$gt.$gu);var $5Q=new DayPilot.StyleReader($5P).get("background-color");var $5R=$A.$gt.timeHeader["0_0"];var $5S=$4W.getFont($5R);var $5T=new DayPilot.StyleReader($5R).get("color");var $5U=new DayPilot.StyleReader($5R).get("background-color");var $5V=$4W.fakeRowHeader();var $5W=$4W.getFont($5V);var $5X=new DayPilot.StyleReader($5V).get("color");var $5Y=new DayPilot.StyleReader($5V).get("background-color");$x($5V);var $5Z=$4W.$mB();var $60=$4W.getFont($5Z);var $61=new DayPilot.StyleReader($5Z).get("color");var $5k=new DayPilot.StyleReader($5Z).get("background-color");if($A.rowHeaderColumns&&$A.$kO&&$A.$kO.blocks[0]){var $62=$A.$kO.blocks[0].section.firstChild;var $63=new DayPilot.StyleReader($62).getFont();var $64=new DayPilot.StyleReader($62).get("color");};var $59=$4W.getViewportOffsetStart();var $65=$4W.getViewportOffsetTop();$4V.fillRect($50.main,"white");$4V.fillRect($50.main,$5w);(function exportCorner(){var $G={};$G.backColor=$5k;$G.text=$A.cornerText;$G.fontSize=$60.size;$G.fontFamily=$60.family;$G.fontStyle=$60.style;$G.fontColor=$61;$G.horizontalAlignment="left";$G.verticalAlignment="top";if(typeof $A.onBeforeCornerExport==="function"){$A.onBeforeCornerExport($G);};var $66={"size":$G.fontSize,"family":$G.fontFamily,"style":$G.fontStyle};$4V.fillRect($50.corner,$G.backColor);$4V.text($50.corner,$G.text,$66,$G.fontColor,$G.horizontalAlignment,0,$G.verticalAlignment);})();var $67=$50.corner.x;$0B.$mD().forEach(function exportRowHeaderColumn($68,i){var $Y=$A.rowHeaderCols[i];var $69={};$69.x=$67;$69.w=$Y+1;$69.y=$50.corner.h-$A.$kO.height;$69.h=$A.$kO.height+1;var $6a=3;var $6b=$r($69);$6b.x+=$6a;$6b.w-=$6a;var $0C=$68.name||$68.title||"";$4V.fillRect($69,$5k);$4V.text($6b,$0C,$63,$64,"left",0,"center");$4V.rect($69,$5l);$67+=$Y;});var $6c=typeof $A.onBeforeTimeHeaderExport==="function";var $6d=typeof $A.onBeforeRowHeaderRender==="function";var $6e=typeof $A.onBeforeRowHeaderExport==="function";var $6f=typeof $A.onBeforeCellExport==="function";$4W.getRows().forEach(exportRow);$4W.getRowsTop().forEach(exportRow);$4W.getRowsBottom().forEach(exportRow);function exportRow($U){var top=$50.grid.y+$4W.$mu($U)-$4W.$mw($U);var $6g=$p(0,$50.grid.y-top);top+=$6g;var $6h=$A.treeEnabled&&!$U.isNewRow;var $6i=10;var $6j=10;var $0c=$6h?$U.level*$A.treeIndent+$A.treeImageMarginLeft+5:5;if($A.rowMoveHandling!=="Disabled"){$0c+=$6j;};var $69={"x":0,"y":top,"w":$50.grid.x+1,"h":$U.height+1};var $0v=$U;if($6d){var $6k=$A.$mE($U);$0v=$6k.row;};var $2D=$A.rowHeaderCols?$A.rowHeaderCols.length:0;var $6l=$A.$jw();var $6m=$A.internalUseStandardColumns&&!$U.isNewRow;var $6n=$6m||($6l&&DayPilot.isArray($A.rowHeaderColumns));var $G={};$G.text=$0v.html;var $6o=$0B.$mD();if($6o.length>0&&$6n){var $6p=$0v.columns.find(function($68,i){return !$A.rowHeaderColumns[i].hidden;});$G.text=$6p.text||$6p.html;};$G.backColor=$0v.backColor||$5Y;$G.fontSize=$5W.size;$G.fontFamily=$5W.family;$G.fontStyle=$5W.style;$G.fontColor=$0v.fontColor||$5X;$G.borderColor=$5l;$G.horizontalAlignment="left";$G.verticalAlignment="center";$G.row=$A.$k2($U);$G.columns=[];$G.row.columns=$G.columns;$0v.columns&&$0v.columns.forEach(function(c){var $2a=$r(c,{},["text","html","backColor","horizontalAlignment","verticalAlignment"]);$2a.text=c.text||c.html;$2a.fontSize=$G.fontSize;$2a.fontFamily=$G.fontFamily;$2a.fontStyle=$G.fontStyle;$2a.fontColor=$G.fontColor;$2a.horizontalAlignment=$2a.horizontalAlignment||$G.horizontalAlignment;$2a.verticalAlignment=$2a.verticalAlignment||$G.verticalAlignment;$2a.backColor=$2a.backColor||$G.backColor;$G.columns.push($2a);});if($U.isNewRow){$G.text=$A.rowCreateText;};if($6e){$A.onBeforeRowHeaderExport($G);};var $6q=10;var $6r=$6q/2;var $6s={"x":$0c,"y":top+$A.treeImageMarginTop+2,"w":10,"h":$6q};var $6t={"size":$G.fontSize,"family":$G.fontFamily,"style":$G.fontStyle};if($G.verticalAlignment==="center"){$6s.y=top+$69.h/2-$6r;};var $6u=$6h?$0c+$6i+3:$0c;var $6v=$6h?$69.w-$6u:$69.w;var $6b={"x":$6u,"y":top,"w":$6v,"h":$U.height+1};if($A.rowHeaderCols){$6b.w=$A.rowHeaderCols[0]-$6u;};$4V.fillRect($69,$G.backColor);$4V.text($6b,$G.text,$6t,$G.fontColor,$G.horizontalAlignment,0,$G.verticalAlignment);$4V.rect($69,$G.borderColor);if($6h){var $6w=null;if($v($U.children).isEmpty()){$6w=$5v.nochildren;}else if($U.expanded||$4W.$mv.includeHiddenRows){$6w=$5v.collapse;}else{$6w=$5v.expand;};$4V.image($6s,$6w);};var $6x=$v($G.row.columns);if($6n){$6x=$6x.filter(function($68,i){return !$A.rowHeaderColumns[i].hidden;});$2D=$6x.length;};if($A.rowHeaderCols){var $0c=$69.x;$v($A.rowHeaderCols).forEach(function(w,i){var $6y=(i===0);if(!$6y){var $6z=($6m||$A.$jw())?0:1;var x=i-$6z;var $68=$6x[x]||{};var $6A=$r($69);$6A.x=$0c;$6A.w=w+1;var $6a=3;var $6B=$r($6A);$6B.x+=$6a;$6B.w-=$6a;var $5w=$68.backColor||$G.backColor;$4V.fillRect($6A,$5w);if($68.text){$4V.text($6B,$68.text,{"size":$68.fontSize,"family":$68.fontFamily,"style":$68.fontStyle},$68.fontColor,$68.horizontalAlignment,0,$68.verticalAlignment);};$4V.rect($6A,$G.borderColor);};$0c+=w;});}};$4W.getRows().forEach(function($U,y,$1J){var y=$U.index;$4W.getTimeline().forEach(function($0e,x,$6C){var x=$6C.offset+x;exportCell(x,y,$U.grid);});});function exportCell(x,y,$2V){$2V=$2V||"main";var $0e=$A.itline[x];var $U=$A.$hi[$2V].rowlist[y];var $0v=$A.$lT(x,y,$2V);var $6D=$0v.business;var $G=$A.$mF(x,y,$2V);if(!$G){$G={};$G.cell=$A.cells.findXy(x,y,$2V)[0];};var $0C=$0v.html;var $6E=$0v.horizontalAlignment||"left";var $5w=$0v.backColor||($6D?$5K:$5J);$G.areas=$G.cell&&$G.cell.properties&&$G.cell.properties.areas||[];$G.text=$0C;$G.horizontalAlignment=$6E;$G.backColor=$5w;$G.fontSize=$5L.size;$G.fontFamily=$5L.family;$G.fontStyle=$5L.style;$G.fontColor=$G.cell&&$G.cell.properties&&$G.cell.properties.fontColor||$5M;if($6f){$A.onBeforeCellExport($G);$0C=$G.text;$6E=$G.horizontalAlignment;$5w=$G.backColor;};var top=$50.grid.y+$4W.$mu($U)-$4W.$mw($U);var $6g=$p(0,$50.grid.y-top);top+=$6g;var $0c=$50.grid.x+$0e.left-$59;var $6F=$p(0,$50.grid.x-$0c);$0c+=$6F;var $69={"x":$0c,"y":top,"w":$0e.width,"h":$U.height};$4V.fillRect($69,$5w);var $6G={};$6G.x=$69.x+1;$6G.y=$69.y+1;$6G.w=$69.w-2;$6G.h=$69.h-2;var $66={"size":$G.fontSize,"family":$G.fontFamily,"style":$G.fontStyle};if($0C){$4V.text($6G,$0C,$66,$G.fontColor,$6E);};var $0y=$G.areas;$v($0y).forEach(function($08){if(!DayPilot.Areas.isVisible($08)){return;};var $6H={"type":"cell-area",};if(typeof $08.id!=="undefined"){$6H.id=$08.id;};$4V.groupStart($6H);var $6I=0;if(typeof $08.left==="number"){$6I=$08.left;}else if($08.start){$6I=$A.getPixels(new DayPilot.Date($08.start)).left-$0e.left;}else if(typeof $08.right==="number"){$6I=$0e.width-$08.right-$08.width;};var $Y=$08.width||$08.w;if(typeof $08.right==="number"){$Y=($0e.width-$08.right)-$6I;}else if($08.end){$Y=$A.getPixels(new DayPilot.Date($08.end)).left-$08.left-$0e.left+1;};var $6J=$08.top||0;var $0g=$08.height||$08.h;if(typeof $08.bottom==="number"){$0g=($0e.height-$08.bottom)-$6J;};if(!$0g){$0g=$0e.height-$6J;};var $69={"x":$0c+$6I,"y":top+$6J,"w":$Y,"h":$0g};if($08.backColor){$4V.fillRect($69,$08.backColor);};if($08.icon){var $6K=$A.$mp.areaIcon($08.icon);$4V.text($69,$6K.text,$6K.font,$08.fontColor||$G.fontColor,$08.horizontalAlignment,$08.padding,$08.verticalAlignment);}else if($08.image){var $4W=new Image();$4W.src=$08.image;$4V.image($69,$4W);}else if($08.symbol){$4V.symbol($69,$08.symbol,{$3n:$08.fontColor||$G.fontColor});}else if($08.text||$08.html){$4V.text($69,$08.text||$08.html,{"size":$08.fontSize||$G.fontSize,"family":$08.fontFamily||$G.fontFamily,"style":$08.fontStyle||$G.fontStyle},$08.fontColor||$G.fontColor,$08.horizontalAlignment,$08.padding,$08.verticalAlignment);};$4V.groupEnd();});};var $6L=typeof $A.onBeforeGridLineRender==="function";$4W.getRows().forEach(exportMatrixHorizontal);function exportMatrixHorizontal($U){var top=$50.grid.y+$4W.$mu($U)-$4W.$mw($U);var $6g=$p(0,$50.grid.y-top);top+=$6g;if(top===$50.grid.y){return;};if($U.grid==="main"&&top>$4W.bottomFrozenY()){return;};var $3n=$5O;var $G={};if($6L){$G.row=$A.$k2($U);$G.hidden=false;$G.cssClass=null;$G.type="HorizontalLine";$G.color=null;$A.onBeforeGridLineRender($G);if($G.hidden){return;};$3n=$G.color||$5O;};$4V.line($50.gridContent.x+1,top,$50.gridContent.x+$50.gridContent.w-1,top,$3n);if($U.grid==="top"){if($U===$A.$hi.top.rowlist.last()){$4V.line($50.gridContent.x+1,top+$U.height,$50.gridContent.x+$50.gridContent.w-1,top+$U.height,$5O);}}};$4W.getTimeline().forEach(function($0e){exportMatrixVertical($0e,"main");});function exportMatrixVertical($0e,$2K){var $0c=$50.grid.x+$0e.left-$59;var $6F=$p(0,$50.grid.x-$0c);$0c+=$6F;if($0c===$50.grid.x){return;};var top=$50.grid.y+1;var $0l=$50.grid.y+$50.grid.h-2;if($2K==="top"){$0l=top+$A.$hi.top.height;};if($2K==="bottom"){top=$4W.bottomFrozenY();};var $3n=$5Q;var $G={};if($6L){$G.start=$0e.start;$G.end=$0e.end;$G.hidden=false;$G.cssClass=null;$G.type="VerticalLine";$G.color=null;$A.onBeforeGridLineRender($G);if($G.hidden){return;};$3n=$G.color||$5Q;};$4V.line($0c,top,$0c,$0l,$3n);};var $6M=$4W.getTimeline().last();(function($0e){if(!$0e){return;};var $3n=$5Q;var $G={};if($6L){$G.start=$0e.end;$G.end=$0e.end;$G.hidden=false;$G.cssClass=null;$G.type="VerticalLine";$G.color=null;$A.onBeforeGridLineRender($G);if($G.hidden){return;};$3n=$G.color||$5Q;};var $0c=$50.grid.x+$0e.left-$59+$0e.width;$4V.line($0c,$50.grid.y+1,$0c,$50.grid.y+$50.grid.h-2,$3n);})($6M);$4W.getSeparators().forEach(function($5d){var $0c=$50.grid.x+$5d.left-$59;if($0c<$4W.getRowHeaderWidth()){return;};$4V.line($0c,$50.grid.y+1,$0c+$5d.width,$50.grid.y+$50.grid.h-2,$5d.color);});$4W.getLinks().forEach(function exportLink(link){if(!link){return;};link.map(function($6N){return $4W.shiftableSegment($6N).shift($50.grid.x-$59,$50.grid.y-$65);}).forEach(function($6N){switch($6N.type){case "HorizontalLine":$4V.line($6N.startX,$6N.startY,$6N.endX,$6N.endY,"red");break;case "VerticalLine":$4V.line($6N.startX,$6N.startY,$6N.endX,$6N.endY,"red");break;case "ArrowRight":$4V.triangle({x:$6N.startX-10,y:$6N.startY-4.5,w:10,h:10},"red");break;case "ArrowDown":$4V.triangle({x:$6N.startX-4.5,y:$6N.startY-10,w:10,h:10},"red",90);break;case "ArrowLeft":$4V.triangle({x:$6N.startX,y:$6N.startY-4.5,w:10,h:10},"red",180);break;case "ArrowUp":$4V.triangle({x:$6N.startX-4.5,y:$6N.startY,w:10,h:10},"red",-90);break;}});});$4W.getEvents().forEach(exportEvent);function exportEvent(e){var $U=$A.$hi[e.part.grid].rowlist[e.part.dayIndex];var $3k=$4W.$mu($U);var $Y=e.part.width;var $6O=e.client&&e.client.barVisible&&e.client.barVisible();var top=$50.grid.y+$3k+e.part.top-$4W.$mw($U);var $0c=$50.grid.x+e.part.left-$59+1;var $6F=$p(0,$50.grid.x-$0c);$0c+=$6F;$Y-=$6F;var $0x=e.cache||e.data;var $6P=$0x.barColor||$5G;var $6Q=$0x.barBackColor||$5F;var $5w=$0x.backColor||$5A;var $6R=$0x.fontColor||$5z;var $6S=e.part.barLeft;var $6T=e.part.barWidth;if($A.durationBarMode==="PercentComplete"){$6S=0;$6T=$p(0,Math.floor(e.part.width*($0x.complete||0)/100));};if(e.data.type==="Milestone"){$5w=$5C;};var $6U=4;var $6V=2;var $6W=2;var $G={};$G.e=e;$G.text=e.text?e.text():e.client.html();$G.areas=DayPilot.Util.createArrayCopy($0x.areas);$G.fontSize=$5y.size;$G.fontFamily=$5y.family;$G.fontStyle=$5y.style;$G.fontColor=$6R;$G.backColor=$5w;$G.borderColor=$5n;$G.horizontalAlignment="left";$G.verticalAlignment="center";$G.barHeight=$6U;$G.textPadding=$6W;$G.textLeft=$0x.textLeft||$0x.htmlLeft;$G.textRight=$0x.textRight||$0x.htmlRight;if(typeof $A.onBeforeEventExport==="function"){$A.onBeforeEventExport($G);};var $69={"x":$0c,"y":top,"w":$Y,"h":e.part.height};$4V.groupStart({"type":"event","id":e.id()});if(e.data.type==="Milestone"){drawMilestone();}else if(e.data.type==="Group"){drawGroup();}else{drawEvent();};var $6X=$G.textLeft;if($6X){var $6Y={"size":$G.fontSize,"family":$G.fontFamily,"style":$G.fontStyle};var $6Z=$4V.textWidth($6X,$6Y);var $70={"x":$0c-($A.eventHtmlLeftMargin+$6Z),"y":top,"w":$6Z,"h":e.part.height};$4V.text($70,$6X,$6Y,$5I,null,0,"center");};var $71=$G.textRight;if($71){var $72={"size":$G.fontSize,"family":$G.fontFamily,"style":$G.fontStyle};var $73=$4V.textWidth($71,$72);var $74={"x":$0c+$Y+$A.eventHtmlRightMargin,"y":top,"w":$73,"h":e.part.height};$4V.text($74,$71,$72,$5I,null,0,"center");};$4V.groupEnd();var $75=e.versions||[];$75.forEach(drawVersion);function drawMilestone(){var $3n=$G.backColor;$4V.diamond($69,$3n);};function drawGroup(){var $76={"x":$0c,"y":top,"w":$Y,"h":$G.barHeight};var $77={"x":$0c+$6S,"y":top,"w":$6T,"h":$G.barHeight};var $3n=$0x.backColor||$5E;var $78={x:$0c,y:top+5,h:$69.h-6-5,w:$69.w};$4V.fillRect($78,$3n);var $0C=$0x.text||$0x.html;$4V.text($78,$0C,{"size":$G.fontSize,"family":$G.fontFamily,"style":$G.fontStyle},$G.fontColor,$G.horizontalAlignment,$G.textPadding,$G.verticalAlignment);$4V.upperRightCorner({x:$0c+$69.w-6,y:$78.y+$78.h,w:6,h:6},$3n);$4V.upperLeftCorner({x:$0c,y:$78.y+$78.h,w:6,h:6},$3n);if($6O){$4V.fillRect($76,$6Q);if($6T>0){$4V.fillRect($77,$6P);}}};function drawVersion($2E,i){var $79=$0x.versions[i];$4V.groupStart({"type":"event-version","event-id":e.id()});var $Y=$2E.width;var top=$50.grid.y+$3k+$2E.top-$65;var $6g=$p(0,$50.grid.y-top);top+=$6g;var $0c=$50.grid.x+$2E.left-$59+1;var $6F=$p(0,$50.grid.x-$0c);$0c+=$6F;$Y-=$6F;var $0g=$A.eventVersionHeight;var $6O=$A.durationBarVisible&&!$79.barHidden;var $6U=$6O?$0B.$mG():0;var $69={"x":$0c,"y":top,"w":$Y,"h":$0g};$4V.fillRect($69,$79.backColor||$G.backColor);var $7a={"x":$0c+$6V,"y":top+$6U,"w":$p(0,$Y-$6V),"h":$0g-$6U};$4V.text($7a,$79.text,{"size":$G.fontSize,"family":$G.fontFamily,"style":$G.fontStyle},$G.fontColor,$G.horizontalAlignment,$G.textPadding,$G.verticalAlignment);$4V.rect($69,$79.borderColor||$G.borderColor);if($6O){var $6Q=$79.barBackColor||$5F;var $6P=$79.barColor||$5G;var $6S=100*$2E.barLeft/($Y);var $6T=Math.ceil(100*$2E.barWidth/($Y));var $76={"x":$0c,"y":top+1,"w":$Y,"h":$6U};var $77={"x":$0c+$6S,"y":top+1,"w":$6T,"h":$6U};$4V.fillRect($76,$6Q);if($6T>0){$4V.fillRect($77,$6P);}};$4V.groupEnd();};function drawEvent(){var $76={"x":$0c,"y":top,"w":$Y,"h":$G.barHeight};var $77={"x":$0c+$6S,"y":top,"w":$6T,"h":$G.barHeight};var $7a={"x":$0c+$6V,"y":top+$G.barHeight,"w":$Y-$6V,"h":e.part.height-$G.barHeight};$4V.fillRect($69,$G.backColor);$4V.text($7a,$G.text,{"size":$G.fontSize,"family":$G.fontFamily,"style":$G.fontStyle},$G.fontColor,$G.horizontalAlignment,$G.textPadding,$G.verticalAlignment);$4V.rect($69,$G.borderColor);if($6O){$4V.fillRect($76,$6Q);if($6T>0){$4V.fillRect($77,$6P);}};$v($G.areas).forEach(function($08){if(!DayPilot.Areas.isVisible($08)){return;};var $6H={"type":"event-area",};if(typeof $08.id!=="undefined"){$6H.id=$08.id;};$4V.groupStart($6H);var $6I=0;if(typeof $08.left==="number"){$6I=$08.left;}else if($08.start){$6I=$A.getPixels(new DayPilot.Date($08.start)).left-e.part.left;}else if(typeof $08.right==="number"){$6I=e.part.width-$08.right-$08.width;};var $Y=$08.width||$08.w;if(typeof $08.right==="number"){$Y=(e.part.width-$08.right)-$6I;}else if($08.end){$Y=$A.getPixels(new DayPilot.Date($08.end)).left-$08.left-e.part.left+1;};var $6J=$08.top||0;var $0g=$08.height||$08.h;if(typeof $08.bottom==="number"){$0g=(e.part.height-$08.bottom)-$6J;};if(!$0g){$0g=e.part.height-$6J;};var $69={"x":$0c+$6I,"y":top+$6J,"w":$Y,"h":$0g};if($08.backColor){$4V.fillRect($69,$08.backColor);};if($08.icon){var $6K=$A.$mp.areaIcon($08.icon);$4V.text($69,$6K.text,$6K.font,$08.fontColor||$G.fontColor,$08.horizontalAlignment,$08.padding,$08.verticalAlignment);}else if($08.image){var $4W=new Image();$4W.src=$08.image;$4V.image($69,$4W);}else if($08.symbol){$4V.symbol($69,$08.symbol,{$3n:$08.fontColor||$G.fontColor});}else if($08.text||$08.html){$4V.text($69,$08.text||$08.html,{"size":$08.fontSize||$G.fontSize,"family":$08.fontFamily||$G.fontFamily,"style":$08.fontStyle||$G.fontStyle},$08.fontColor||$G.fontColor,$08.horizontalAlignment,$08.padding,$08.verticalAlignment);};$4V.groupEnd();});}};$4W.getRowsTopAndBottom().forEach(function($U,y,$1J){var y=$U.index;$4W.getTimeline().forEach(function($0e,x,$6C){var x=$6C.offset+x;exportCell(x,y,$U.grid);});exportMatrixHorizontal($U);});$4W.getTimeline().forEach(function($0e){exportMatrixVertical($0e,"top");exportMatrixVertical($0e,"bottom");});$4W.getEventsFrozen().forEach(exportEvent);$v($A.timeHeader).forEach(function($0p,y){$4W.getTimeHeader(y,$4X).forEach(function exportTimeHeaderCell($0e){var $0c=$50.grid.x+$0e.left-$59;var $Y=$0e.width;var $7b=$7c.$mH(y);var top=$7b.top;var $0g=$7b.height;var $G={};$G.header={};$G.header.start=$0e.start;$G.header.end=$0e.end;$G.header.level=y;$G.header.text=$0e.text;$G.header.html=$0e.innerHTML;$G.text=$0e.text;$G.backColor=$0e.backColor;$G.verticalAlignment="center";$G.horizontalAlignment="center";$G.fontColor=$5T;$G.fontSize=$5S.size;$G.fontFamily=$5S.family;$G.fontStyle=$5S.style;if($6c){$A.onBeforeTimeHeaderExport($G);};var $6F=$p(0,$50.grid.x-$0c);$0c+=$6F;$Y-=$6F;var $6F=$p(0,$0c+$Y-($50.grid.x+$50.grid.w));$Y-=$6F;var $6A={"x":$0c,"y":top,"w":$Y+1,"h":$0g+1};var $66={"size":$G.fontSize,"family":$G.fontFamily,"style":$G.fontStyle};$4V.fillRect($6A,$G.backColor||$5U);$4V.rect($6A,$5l);$4V.text($6A,$G.text,$66,$G.fontColor,$G.horizontalAlignment,0,$G.verticalAlignment);});});$4V.rect($50.main,$5l);$4V.line($50.grid.x,0,$50.grid.x,$50.main.h,$5x);$4V.line(0,$50.grid.y,$50.main.w,$50.grid.y,$5x);return $4V;};$4W.areaIcon=function($7d){var el=$4W.fakeIcon($7d);$j().appendChild(el);var $0C=window.getComputedStyle(el,":before").content.replace(/"/g,"");var $66=new DayPilot.StyleReader(el).getFont();$j().removeChild(el);return{"text":$0C,"font":$66}};$4W.shiftableSegment=function($6N){return{"startX":$6N.startX,"endX":$6N.endX,"startY":$6N.startY,"endY":$6N.endY,"type":$6N.type,"shift":function(x,y){return $4W.shiftableSegment({"startX":$6N.startX+x,"endX":$6N.endX+x,"startY":$6N.startY+y,"endY":$6N.endY+y,"type":$6N.type,});}};};this.$mI={};var $7e=this.$mI;$7e.findJointDivs=function(e){var id=e.data.join;if(!id){return $v();};var $3t=$v($A.elements.events).filter(function($0p){return $0p.event.data.join===id&&$0p.event!==e;});return $3t;};this.$mJ={};var $1D=this.$mJ;$1D.divs=[];$1D.list=[];$1D.forbidden=false;$1D.additional=function(){var $0n=$v();var $7f=$A.multiselect.isSelected(DayPilotScheduler.$m3.event);var $7g=$A.allowMultiResize;var $0n=$v();if($7f&&$7g){$0n=$v($A.multiselect.$iR).filter(function($0p){return $0p!==DayPilotScheduler.$m3;});};if($A.jointEventsResize){var j=$7e.findJointDivs(DayPilotScheduler.$mn);$0n=$0n.concat(j);};return $0n;};$1D.update=function(){$1D.clear();$1D.draw();};$1D.clear=function(){$x($1D.divs);$1D.divs=[];};$1D.isInvalid=function(){return $1D.divs.some(function($0r){return $0r.info.invalid;});};$1D.$mK=function(){return $A.$mL($1D.list);};$1D.$mM=function(){if(!DayPilotScheduler.$m3){return;};var e=DayPilotScheduler.$mn;var $2U=DayPilotScheduler.$mm;var $7h=$2U.start.getTime()-e.start().getTime();var $7i=$2U.end.getTime()-e.end().getTime();var $7j=0;$1D.list=[];$1D.forbidden=false;$1D.invalid=false;$1D.rowoffset=$7j;$1D.additional().forEach(function($0p){if(!$0p.event){return;};var event=$0p.event;var $U=$A.rowlist[event.part.dayIndex+$7j];if(!$U){$1D.invalid=true;return;};var $0W=event.start().addTime($7h);var $0X=event.end().addTime($7i);var $1E={};$1E.$={};if($0W>=$0X){$1E.invalid=true;if($7h>0){$1E.$.$mN=$0W;$1E.$.$mO=$0X.addSeconds(-1);}else if($7i<0){$1E.$.$mP=$0X;$1E.$.$mQ=$0W.addSeconds(1);}};$1E.event=event;$1E.start=$0W;$1E.end=$0X;$1E.$.$mR=$U;$1D.list.push($1E);});};$1D.$mS=function(){var $7j=0;$1D.list.forEach(function($1E){var event=$1E.event;var $U=$1E.$.$mR;var top=event.part.top+$U.top;var $0g=event.part.height;if($7j){top=$U.top;$0g=$U.height;};var $09=new DayPilot.Date($1E.start);var end=new DayPilot.Date($1E.end);var $4C=$A.getPixels($09);var $4D=$A.getPixels(end);if($1E.$.$mN===$09&&$1E.$.$mO){$4C=$A.getPixels($1E.$.$mO);};if($1E.$.$mP===end&&$1E.$.$mQ){$4D=$A.getPixels($1E.$.$mQ);};var $1l=DayPilot.DateUtil.diff(event.rawend(),event.start());$1l=$p($1l,1);var $4a=$0B.$l1($1l);var $0c=($4a)?$4C.boxLeft:$4C.left;var $Y=($4a)?($4D.boxRight-$0c):($4D.left-$0c);var $0r=$k();$0r.style.position="absolute";$0r.style.left=$0c+"px";$0r.style.top=top+"px";$0r.style.height=$0g+"px";$0r.style.width=$Y+"px";$0r.style.zIndex=101;$0r.style.overflow="hidden";$0r.className=$A.$hy("_shadow");$0r.info=$1E;var $0u=$k();$0u.className=$A.$hy("_shadow_inner");$0r.appendChild($0u);$A.$hj.appendChild($0r);$1D.divs.push($0r);});if($1D.invalid){var $5f=$A.$hy("_shadow_overlap");$v($1D.divs).forEach(function($0p){$n($0p,$5f);});return;};$v($1D.divs).forEach(function($0p){if(!$0p.info){return;};var $0r=$0p;var $1E=$0p.info;var event=$0p.info.event;var $U=$A.rowlist[event.part.dayIndex+$7j];var $4C=$A.getPixels($1E.start);var $4D=$A.getPixels($1E.end);var $0c=$4C.left;var $Y=$4D.left-$0c;if($0p.info.invalid){$n($0p,$A.$hy("_shadow_invalid"));};var $7k=$v($1D.list).map(function($0p){return $0p.event.data;}).add(DayPilotScheduler.$m3.event.data);$A.$mT($0r,$U,$0c,$Y,$7k);$A.$mU($0r,$1E.start,$1E.end,event.resource());if($0r.overlapping){$1E.overlapping=true;$1D.forbidden=true;}});};$1D.draw=function(){$1D.$mM();$1D.$mS();};this.$mV={};var $7l=this.$mV;$7l.modifiedProps=function(){var $7m=new DayPilot.Scheduler();var $7n=DayPilot.Util.members($A,2);var $B=[];$B.push("<div id='dp'></div>");$B.push("<script>");$B.push("var dp = new DayPilot.Scheduler('dp');");$7n.properties.forEach(function($0p){var name=$0p.name;var $57=name.split(".");var $7o=$57.length>1;var $7p,$7q;if($7o){var $7r=$57[0];var $7s=$57[1];$7p=JSON.stringify($7m[$7r][$7s]);$7q=JSON.stringify($A[$7r][$7s]);}else{$7p=JSON.stringify($7m[name]);$7q=JSON.stringify($A[name]);};if($7p!==$7q){$B.push("dp."+name+" = "+$7q+";");}});$7n.events.forEach(function($0p){var name=$0p.name;if(typeof $A[name]==="function"){$B.push("dp."+name+" = "+$A[name].toString()+";");}});$B.push("dp.init();");$B.push("</script>");return $B.join("\n");};this.$mW={};var mm=this.$mW;mm.divs=[];mm.list=[];mm.forbidden=false;mm.$mX=0;mm.verticalAll=function(){return $A.multiMoveVerticalMode==="All";};mm.additional=function(){var $0n=$v();var $7t=$A.$ii;var $7f=$A.multiselect.isSelected(DayPilotScheduler.$lY);var $7g=$A.allowMultiMove;if($7f&&$7g){$0n=$v($A.multiselect.$iR).filter(function($0p){return $0p!==DayPilotScheduler.$ii&&$0p!==$7t.$ii;});};if($A.jointEventsMove){var j=$7e.findJointDivs(DayPilotScheduler.$lY);$0n=$0n.concat(j);};return $0n;};mm.update=function(){mm.clear();mm.draw();};mm.$mK=function(){return $A.$mL(mm.list);};mm.$mM=function(){mm.list=[];mm.rowoffset=0;if(!DayPilotScheduler.$ii){return;};var e=DayPilotScheduler.$lY;var $7u=!!DayPilotScheduler.$mY;var $09=$7u?DayPilotScheduler.$mY.start:e.start();var offset=$09.getTime()-e.start().getTime();var $7v=e.part.dayIndex;var $7w=$7u?$y($A.rowlist,DayPilotScheduler.$mY.row):$7v;var $7j=$7w-$7v;if(!mm.verticalAll()){$7j=0;};mm.forbidden=false;mm.invalid=false;mm.rowoffset=$7j;mm.additional().forEach(function($0p){if(!$0p.event){return;};var event=$0p.event;var $U=$A.rowlist[event.part.dayIndex+$7j];if(!$U){mm.invalid=true;return;};var $0W=event.start().addTime(offset);var $0X=event.end().addTime(offset);var $1E={};$1E.event=event;$1E.start=$0W;$1E.end=$0X;$1E.resource=$U.id;mm.list.push($1E);});};mm.$mS=function(){var $7j=mm.rowoffset;mm.list.forEach(function($1E){var $0W=$1E.start;var $0X=$1E.end;var event=$1E.event;var $4C=$A.getPixels($0W);var $4D=$A.getPixels($0X);var $1l=DayPilot.DateUtil.diff(event.rawend(),event.start());$1l=$p($1l,1);var $4a=$0B.$l1($1l);var $U=$A.$hm($1E.resource);if(!$U){mm.invalid=true;return;};$1E.$={};$1E.$.$mR=$U;var $0c=($4a)?$4C.boxLeft:$4C.left;var $Y=($4a)?($4D.boxRight-$0c):($4D.left-$0c);var top=event.part.top+$U.top;var $0g=event.part.height;if($1E.resource!==$1E.event.data.resource){top=$U.top;$0g=$U.height;};var $0r=$k();$0r.style.position="absolute";$0r.style.left=$0c+"px";$0r.style.top=top+"px";$0r.style.height=$0g+"px";$0r.style.width=$Y+"px";$0r.style.overflow="hidden";$0r.className=$A.$hy("_shadow");$0r.info=$1E;var $0u=$k();$0u.className=$A.$hy("_shadow_inner");$0r.appendChild($0u);$A.$hj.appendChild($0r);mm.divs.push($0r);});if(mm.invalid){var $5f=$A.$hy("_shadow_overlap");$v(mm.divs).forEach(function($0p){$n($0p,$5f);});return;};$v(mm.divs).forEach(function($0p){if(!$0p.info){return;};var $0r=$0p;var $1E=$0p.info;var event=$0p.info.event;var $U=$0p.info.$.$mR;var $4C=$A.getPixels($1E.start);var $4D=$A.getPixels($1E.end);var $0c=$4C.left;var $Y=$4D.left-$0c;var $7k=$v(mm.list).map(function($0p){return $0p.event.data;}).add(DayPilotScheduler.$lY.data);$A.$mT($0r,$U,$0c,$Y,$7k);$A.$mU($0r,$1E.start,$1E.end,$1E.resource);$1E.overlapping=false;if($0r.overlapping){$1E.overlapping=true;mm.forbidden=true;}});};mm.draw=function(){mm.$mM();mm.$mS();};mm.clear=function(){$x(mm.divs);mm.divs=[];};this.$mL=function($0n,$7x){$7x=["$"].concat($7x||[]);return $0n.map(function($1E){var $2f=$1E;var $2g={};for(var name in $2f){var $7y=$7x&&$y($7x,name)!==-1;if($2f.hasOwnProperty(name)&&typeof $2f[name]!=='undefined'){if(!$7y){$2g[name]=$2f[name];}else{Object.defineProperty($2g,name,{"value":$2f[name]});}}};return $2g;});};this.$mZ=function(){var $2T=$A.coords;var $4T=DayPilotScheduler.$m3.dpBorder;var e=DayPilotScheduler.$m3.event;var $7z=e.part.left;if($4T=="right"){$7z+=e.part.width;};var $7A=DayPilotScheduler.$m3.event.calendar.cellWidth;var $7B=DayPilotScheduler.$m3.event.part.width;var $7C=DayPilotScheduler.$m3.event.part.left;var $7D=0;var $7E=($2T.x-$7z);var $7F,$7G;var $4w=$A.snapToGrid&&$A.snapToGridEventResizing;if($4T==='right'){$7F=$7C;if($4w){var $1f=$A.$id($7B+$7C+$7E).cell;var $7H=$A.$id($7C).cell;var $7I=($7H.left+$7H.width)-$7C;var $7J=$1f.left+$1f.width;$7G=$7J-$7C;if($7G<$7I){$7G=$7I;}}else{$7G=$7B+$7E;};var $X=$A.$hC();if($7C+$7G>$X){$7G=$X-$7C;};DayPilotScheduler.$mm.left=$7C;DayPilotScheduler.$mm.width=$7G;}else if($4T==='left'){if($4w){if($7E>=$7B){$7E=$7B;};$7F=Math.floor((($7C+$7E)+0)/$7A)*$7A;if($7F<$7D){$7F=$7D;}}else{$7F=$7C+$7E;};$7G=$7B-($7F-$7C);var $0d=$7C+$7B;var $7K=$7A;if(!$4w){$7K=1;}else if($A.useEventBoxes==="Never"){if($7B<$7A){$7K=$7B;}else{$7K=1;}};if($7G<$7K){$7G=$7K;$7F=$0d-$7G;};DayPilotScheduler.$mm.left=$7F;DayPilotScheduler.$mm.width=$7G;}else{throw new DayPilot.Exception("Invalid dpBorder.");};(function checkOverlap(){DayPilotScheduler.$mm.overlapping=false;var ev=DayPilotScheduler.$m3.event;var $U=$A.rowlist[ev.part.dayIndex];var $0c=$7F;var $Y=$7G;$A.$mT(DayPilotScheduler.$mm,$U,$0c,$Y,ev.data);var $2U=DayPilotScheduler.$mm;if($2U.start){var $O={"start":$2U.start,"end":$A.$iD($2U.end)};$A.$mU(DayPilotScheduler.$mm,$O.start,$O.end,$U.id);}})();$A.$n0();};this.$mj=function(){var scroll=this.nav.scroll;if(!$A.coords){return;};if(!DayPilotScheduler.$lY){return;};$A.$hJ();var $2U=DayPilotScheduler.$mY;var $2T=this.$kY(DayPilotScheduler.$lY);if($A.$kZ($2T.rowIndex,$2T.grid)){return;};var ev=DayPilotScheduler.$lY;var $2R=(ev.cache&&typeof ev.cache.moveVDisabled!=='undefined')?!ev.cache.moveVDisabled:!ev.data.moveVDisabled;var $2S=(ev.cache&&typeof ev.cache.moveHDisabled!=='undefined')?!ev.cache.moveHDisabled:!ev.data.moveHDisabled;var $7L=!mm.additional().isEmpty();if($7L&&$A.multiMoveVerticalMode==="Disabled"){$2R=false;};if($2R&&$2T.grid!==$2U.grid){$2U.parentNode.removeChild($2U);$A.$hi[$2T.grid].divShadow.appendChild($2U);$2U.grid=$2T.grid;};var $7M=0;var $7N=0;(function calculatePosition(){if($A.$gl){var y=$2T.relativeY;var $7O=$A.$id($2T.left).x;var $U=$2T.row;var $2a=$U.evColumns[$7O];var e=$2a.events.find(function(e){return y<e.part.top+e.part.height+$A.eventMarginBottom;});if(!e){e=$2a.events.last();};if(e){$7N=e.part.top;$7M=$y($2a.events,e);if((y-e.part.top)>e.part.height/2){$7N=e.part.top+e.part.height+$A.eventMarginBottom/2;$7M+=1;}}}else{var y=$2T.relativeY;var $U=$2T.row;var top=0;var lh=$A.$jh.$l0();var $X=$U.lines.length;for(var i=0;i<$U.lines.length;i++){var $14=$U.lines[i];if($14.$n1($2T.left,$A.cellWidth)){$X=i;break;}};var $04=Math.floor((y-top+lh/ 2)/ lh);$04=Math.min($X,$04);$04=$p(0,$04);$7M=$04;$7N=$A.rowMarginTop+$7M*($A.$jh.$l0()+$A.eventMarginBottom)+$A.eventMarginBottom/2;}})();if($7N>0){$7N-=3;};if($2R){if(!this.$kZ($2T.rowIndex,$2T.grid)){$2U.row=$2T.row;$2U.style.top=($2U.row.top+$2U.row.marginTop)+'px';$2U.style.height=$p($2U.row.height-$2U.row.marginTop-$2U.row.marginBottom,0)+'px';if($A.eventMoveToPosition){$2U.style.top=($2T.top+$7N)+"px";$2U.style.height="3px";$2U.line=$7M;}}else{var $28=$2U.row;var $7P=1;if($28){$7P=$2T.rowIndex<$28.index?1:-1;}else{return;};for(var i=$2T.rowIndex;i!==$28.index;i+=$7P){var $U=this.rowlist[i];if(!this.$kZ(i,$2T.grid)&&!$U.hidden){$2U.row=$U;$2U.style.top=($2U.row.top+$2U.row.marginTop)+'px';$2U.style.height=$p($2U.row.height-$2U.row.marginTop-$2U.row.marginBottom,0)+'px';if($A.eventMoveToPosition){$7M=$7P>0?0:$U.lines.length-1;$2U.style.top=($2T.top+$7N)+"px";$2U.style.height="3px";$2U.line=$7M;};break;}}}}else{var $2M=$A.$hi[ev.part.grid].rowlist;var $28=$2M[ev.part.dayIndex];var $X=$28.lines.length;for(var i=0;i<$28.lines.length;i++){var $14=$28.lines[i];if($14.$n1($2T.left,$A.cellWidth)){$X=i;break;}};if(!$7L){$2U.style.height=$p($28.height,0)+'px';$2U.style.top=($28.top)+'px';};$2U.row=$28;if($A.eventMoveToPosition&&!$7L){if($2T.row===$28){$2U.style.top=($28.top+$7N)+"px";$2U.style.height="3px";$2U.line=$7M;}else{var $04=($2T.rowIndex>$28.index&&$X>0)?$X*$A.$jh.$l0()-3:0;$2U.style.top=($28.top+$04)+"px";$2U.style.height="3px";$2U.line=0;}}};if($2S){$2U.style.left=$2T.left+'px';if($A.eventMoveToPosition){$2U.style.width=($A.cellWidth)+'px';}else{$2U.style.width=($2T.width)+'px';};$2U.start=$2T.start;$2U.end=$2T.end;}else{$2U.style.left=ev.part.left+"px";$2U.start=ev.start();$2U.end=ev.rawend();$2T.left=ev.part.left;};(function checkOverlap(){$2U.overlapping=false;var $U=$2U.row;var $I=ev.data;var $Y=$2T.width;var $0c=$2T.left;var $7k=$v(mm.list).map(function($0p){return $0p.event.data;}).add($I);$A.$mT($2U,$U,$0c,$Y,$7k);$A.$mU(DayPilotScheduler.$mY,$2U.start,$2U.end,$2U.row.id);})();$A.$n2();};this.$n2=function(){var $2U=DayPilotScheduler.$mY;var mm=$A.$mW;var $1c=$A.$jL;var ev=DayPilotScheduler.$lY;if($1c){var $7Q=$1c.start.getTime()===$2U.start.getTime();var $7R=$1c.end.getTime()===$2U.end.getTime();var $7S=$1c.resource===$2U.row.id;var $7T=$1c.shift+"_"+$1c.ctrl+"_"+$1c.meta+"_"+$1c.alt===$A.coords.shift+"_"+$A.coords.ctrl+"_"+$A.coords.meta+"_"+$A.coords.alt;if($7Q&&$7R&&$7S&&$7T){return;}};if($1c){$m($2U,$1c.cssClass);$2U.firstChild.innerHTML="";};mm.clear();mm.$mM();var external=(DayPilotScheduler.$n3?true:false)&&ev.part.external;var $G={};$G.start=$2U.start;$G.end=$A.$iD($2U.end);$G.duration=new DayPilot.Duration($G.start,$G.end);$G.e=ev;$G.external=external;$G.control=$A;$G.resource=$2U.row.id;$G.html=null;$G.row=$A.$k2($2U.row);$G.position=$2U.line;$G.overlapping=$2U.overlapping||mm.forbidden;$G.allowed=true;$G.left={};$G.left.html=$G.start.toString($A.eventMovingStartEndFormat,$0B.$i9());$G.left.enabled=$A.eventMovingStartEndEnabled;$G.left.space=5;$G.left.width=null;$G.left.height=$A.eventHeight;$G.right={};$G.right.html=$G.end.toString($A.eventMovingStartEndFormat,$0B.$i9());$G.right.enabled=$A.eventMovingStartEndEnabled;$G.right.space=5;$G.right.width=null;$G.right.height=$A.eventHeight;$G.multimove=mm.$mK();$G.shift=$A.coords.shift;$G.ctrl=$A.coords.ctrl;$G.meta=$A.coords.meta;$G.alt=$A.coords.alt;$G.areaData=$u.movingAreaData;$G.link=null;$G.cssClass=null;$G.html=null;var $1E={};$1E.event=ev;$1E.start=$G.start;$1E.end=$G.end;$1E.overlapping=$G.overlapping;$1E.resource=$G.resource;$G.multimove.splice(0,0,$1E);$A.$jL=$G;var $0R={"start":$G.start,"end":$G.end,"resource":$G.resource};if(typeof $A.onEventMoving==='function'){$A.onEventMoving($G);};if(!DayPilotScheduler.$ii){return;};mm.list=$v($G.multimove,true);mm.list.splice(0,1);mm.$mS();$2U.allowed=$G.allowed;$n($2U,$G.cssClass);if($G.html){$2U.firstChild.innerHTML=$G.html;};if($G.start!==$0R.start||$G.end !==$0R.end){var $09=$G.start;var end=$A.$jI($G.end);$2U.start=$09;$2U.end=end;var $1l=DayPilot.DateUtil.diff($09,end);$1l=$p($1l,1);var $4a=$0B.$l1($1l);var $0c=$4a?$A.getPixels($09).boxLeft:$A.getPixels($09).left;var $0d=$4a?$A.getPixels(end).boxRight:$A.getPixels(end).left;$2U.style.left=$0c+"px";$2U.style.width=($0d-$0c)+"px";};if($G.resource!==$0R.resource){var $U=$A.$hm($G.resource);if($U){$2U.row=$U;$2U.style.height=$p($U.height,0)+'px';$2U.style.top=($U.top)+'px';if($A.eventMoveToPosition){var $7N=$A.rowMarginTop;var $7M=0;$2U.style.top=($U.top+$7N)+"px";$2U.style.height="3px";$2U.line=$7M;}}};if($G.html){$2U.firstChild.innerHTML=$G.html;}else{$2U.firstChild.innerHTML="";};$A.$n4($2U,$G);$A.$n5($2U,$G);if($u.movingLink){$u.movingLink.clear();};if($G.link){$u.movingLink=$1Q.$li($G.link.from,$2U,$G.link);}};this.$mT=function($2U,$U,$0c,$Y,$I){if($A.allowEventOverlap){return;};(function calculate(){$2U.overlapping=false;for(var i=0;i<$U.lines.length;i++){var $14=$U.lines[i];if(!$14.$n1($0c,$Y,$I)){$2U.overlapping=true;return;}};var $7U=$U.index;var $7V=$v(mr.list).some(function($0p){var $0r=$0p.div;var $7W=parseInt($0r.style.left);var $7X=parseInt($0r.style.width);var ry=$0p.start.y;if($2U===$0r){return false;};if(ry!==$7U){return false;};return $l($0c,$0c+$Y,$7W,$7W+$7X);});if($7V){$2U.overlapping=true;return;};var $7Y=$v(mm.divs).some(function($0r){var $0p=$0r.info;var $7W=parseInt($0r.style.left);var $7X=parseInt($0r.style.width);var ry=$0p.$.$mR.index;if($2U===$0r){return false;};if(ry!==$7U){return false;};return $l($0c,$0c+$Y,$7W,$7W+$7X);});if($7Y){$2U.overlapping=true;return;};var $7V=$v($1D.divs).some(function($0r){var $0p=$0r.info;var $7W=parseInt($0r.style.left);var $7X=parseInt($0r.style.width);var ry=$0p.$.$mR.index;if($2U===$0r){return false;};if(ry!==$7U){return false;};return $l($0c,$0c+$Y,$7W,$7W+$7X);});if($7V){$2U.overlapping=true;return;}})();var $3W=$2U.overlapping;var $5f=$A.$hy("_shadow_overlap");if($3W){$n($2U,$5f);}else{$m($2U,$5f);}};this.$mU=function($2U,$09,end,$22){var $3b=$A.$n6($09,end,$22);if($3b){$2U.overlapping=true;};var $5f=$A.$hy("_shadow_overlap");if($2U.overlapping){$n($2U,$5f);}else{$m($2U,$5f);}};this.$n6=function($09,end,$22){var $7Z=($A.cellConfig&&$A.cellConfig.hasDisabled)||$A.$i4.$n7;if(!$7Z){return false;};var $80=null;if($A.viewType==="Days"){$80=$A.$lV($09);};var $0b=$A.rows.find($22,$80).cells.forRange($09,end);if(!$0b){return false;};var $3b=$0b.some(function($0e){return $0e.properties.disabled;});return $3b;};this.$n4=function($2U,$G){var $5f=$A.$hy("_shadow_forbidden");if(!$G.allowed||mm.invalid){$n($2U,$5f);}else{$m($2U,$5f);}};this.$n5=function($2U,$G){var $81=5;this.$n8();if($2U.calendar!==$A){return;};var $2K=$A.$kT($2U.grid);var $04={};$04.left=parseInt($2U.style.left);$04.top=parseInt($2U.style.top);$04.right=$04.left+parseInt($2U.style.width);var $Y=$G.left.width||10;var $0c=$k();$0c.style.position="absolute";$0c.style.left=($04.left-$Y-$G.left.space)+"px";$0c.style.top=$04.top+"px";$0c.style.height=$G.left.height+"px";$0c.style.overflow="hidden";$0c.style.boxSizing="border-box";$0c.innerHTML=$G.left.html;$0c.className=$A.$hy("_event_move_left");$0c.onmousemove=$A.$n9;if(DayPilot.browser.ie){$0c.style.display="block";};if($G.left.enabled){$2K.divHover.appendChild($0c);if($G.left.width){$0c.style.width=$Y+"px";}else{$0c.style.whiteSpace="nowrap";var $82=$0c.offsetWidth;var $83=$04.left-$82-$G.left.space;$0c.style.width=$82+"px";$0c.style.left=$83+"px";var $84=$A.nav.scroll.scrollLeft;if($83<$84){$2K.divHover.removeChild($0c);};var $85=$A.$hF()+($83-$84);if($85>0){$0c.style.left=$85+"px";$0c.style.top=($04.top-$2K.div.scrollTop+$2K.top)+"px";$A.nav.top.appendChild($0c);$A.elements.hover.push($0c);}}};var $Y=$G.right.width||10;var $0d=$k();$0d.style.position="absolute";$0d.style.left=($04.right+$G.right.space)+"px";$0d.style.top=$04.top+"px";$0d.style.height=$G.right.height+"px";$0d.style.overflow="hidden";$0d.style.boxSizing="border-box";if($G.right.width){$0d.style.width=$G.right.width+"px";}else{$0d.style.whiteSpace="nowrap";};$0d.innerHTML=$G.right.html;$0d.className=this.$hy("_event_move_right");$0d.onmousemove=$A.$n9;if(DayPilot.browser.ie){$0d.style.display="block";};if($G.right.enabled){$2K.divHover.appendChild($0d);var $86=$A.nav.scroll.scrollWidth;var $87=$04.right+$G.right.space+$0d.offsetWidth;if($87>=$86){$2K.divHover.removeChild($0d);}}};this.$n8=function(){$A.divHover.innerHTML='';$A.$hi.top.divHover.innerHTML='';$A.$hi.bottom.divHover.innerHTML='';$x($A.elements.hover);$A.elements.hover=[];};this.$na=function(){var $88=$A.rowHeaderColumnDefaultWidth;if(this.rowHeaderColumns){var $89=$0B.$mD();this.rowHeaderCols=DayPilot.Util.propArray($89,"width",$88);}else{this.rowHeaderCols=null;}};this.$nb=function(){var $58=0;this.$na();if(this.rowHeaderCols){for(var i=0;i<this.rowHeaderCols.length;i++){$58+=this.rowHeaderCols[i];}}else{$58=this.rowHeaderWidth;};return $58;};this.$nc=function(){return this.$nd($A.progressiveRowRenderingPreload);};this.$nd=function($8a){var $8a=$8a||0;var $09=0;var end=$A.rowlist.length;var $8b=$A.progressiveRowRendering;if($8b){var $08=$A.$ho();$09=$08.yStart;(function adjustForSplit(){var $U=$A.rowlist[$09];var parent=$U&&$U.split&&$U.split.parent;if(parent){$09=parent.index;}})();end=$08.yEnd+1;$09=$p(0,$09-$8a);end=Math.min($A.rowlist.length,end +$8a);};return{"start":$09,"end":end}};this.$ne=function(){if(!this.$mo()){return;};var $2G=false;var $8c=0;if(this.rowHeaderWidthAutoFit){var $8d=this.divHeader;if(!$8d){return;};if(!$8d.rows){return;};var $X=[];this.$na();var $8e=$A.rowHeaderWidthAutoFitShrink;if($8e){if(!$A.rowHeaderScrolling){$A.rowHeaderWidth=0;};if($A.rowHeaderCols){$A.rowHeaderCols.forEach(function(c,i){$A.rowHeaderCols[i]=0;});}};var $23=$A.$nc();adjustTable("main",$23.start,$23.end);if($A.$hi.top.enabled()){adjustTable("top",0,$A.$hi.top.divHeader.rows.length);};if($A.$hi.bottom.enabled()){adjustTable("bottom",0,$A.$hi.bottom.divHeader.rows.length);};function adjustTable($2K,$09,end){var $8d=$A.$kT($2K).divHeader;for(var i=$09;i<end;i++){var $U=$8d.rows[i];if(!$U){continue;};var $1E={"row":$U,"grid":$2K,"i":i};$A.$nf($1E,$X);}};if(this.rowHeaderCols){for(var i=0;i<$X.length;i++){if(typeof this.rowHeaderCols[i]==="number"){if($X[i]>this.rowHeaderCols[i]){this.rowHeaderCols[i]=$X[i];$2G=true;};$8c+=this.rowHeaderCols[i];}}}else{$8c=this.rowHeaderWidth;var $8f=$0B.$hG();if(this.rowHeaderWidth<$X[0]+$A.rowHeaderWidthMarginRight+$8f){$8c=$X[0]+$A.rowHeaderWidthMarginRight+$8f;$2G=true;}}};if($2G){if(this.$kO){this.$kO.widths=this.rowHeaderCols;this.$kO.updateWidths();DayPilot.Util.updatePropsFromArray($0B.$mD(),"width",this.rowHeaderCols);};if(!this.rowHeaderCols){this.rowHeaderWidth=$8c;};this.$jb();this.$ng();}};this.$nf=function($1E,$X){var $8g=$1E.row;var $2K=$A.$kT($1E.grid);var $U=$2K.rowlist[$1E.i];var $8h=$A.rowHeaderColumns;if($U.hidden){return;};for(var j=0;j<$8g.cells.length;j++){if(!$8g.cells[j]){continue;};if(typeof $8g.cells[j]._w==="number"){continue;};var $0u=$8g.cells[j].firstChild.firstChild;if(!$0u||!$0u.style){continue;};var $8i=$0u.style.width;var $8j=$0u.style.right;var $8k=$0u.style.display;$0u.style.position="absolute";$0u.style.width="auto";$0u.style.right="auto";$0u.style.whiteSpace="nowrap";$0u.style.display="block";var w=$0u.offsetWidth+2;$8g.cells[j]._w=w;$0u.style.position="";$0u.style.width=$8i;$0u.style.right=$8j;$0u.style.display=$8k;$0u.style.whiteSpace="";};for(var j=0;j<$8g.cells.length;j++){if(!$8g.cells[j]){continue;};var w=$8g.cells[j]._w;if(typeof $X[j]==='undefined'){$X[j]=0;};if($8h&&$8h[j]){if(typeof $8h[j].maxAutoWidth==="number"){var $8l=$8h[j].maxAutoWidth;w=Math.min(w,$8l);}};$X[j]=Math.max($X[j],w);}};this.$gN=function(){this.$nh=true;this.$na();var $58=this.$nb();var $8m=this.divHeader;$8m.style.width=$58+"px";$8m.style.height=$A.$gq+"px";$A.$hi.main.divHeader=$8m;var $8b=$A.progressiveRowRendering;if($8b){$e();}else{var m=this.rowlist.length;for(var i=0;i<m;i++){$A.$ni(i);}};if($A.$hi.top.enabled()){for(var i=0;i<$A.$hi.top.rowlist.length;i++){$A.$ni(i,"top");}};if($A.$hi.bottom.enabled()){for(var i=0;i<$A.$hi.bottom.rowlist.length;i++){$A.$ni(i,"bottom");}};$A.$nj();this.divResScroll.appendChild($8m);if(this.rowHeaderWidthAutoFit){this.$ne();}};this.$gM=function(){clearGridHeader("main");clearGridHeader("top");clearGridHeader("bottom");function clearGridHeader($2K){var gi=$A.$kT($2K);var $2L=gi.divHeader;var $8n=$2L;if($2L._content){$8n=$2L._content;};$A.$kG($2K);if($8n){if(DayPilot.browser.ie){for(var i=0;i<$8n.childNodes.length;i++){$x($8n.childNodes[i]);}};$8n.innerHTML='';DayPilot.puc($8n);};if($2L){$2L.rows=[];}}};this.$jc=function(){if(!$A.progressiveRowRendering){return;};var $08=this.$nc();for(var i=0;i<$A.rowlist.length;i++){if($08.start<=i&&i<$08.end){$A.$ni(i);}else{$A.$kU(i);}};if(this.rowHeaderWidthAutoFit&&!DayPilotScheduler.$nk){var $7B=$A.$hF();this.$ne();var $7G=$A.$hF();if($7G!==$7B){var $8o=this.cellWidth;this.$gG();var $8p=this.cellWidth;if($8p!==$8o){$A.$gH();$A.$gO();$A.$gP();$A.$gV();$A.$gL();$A.$nl();}}}};this.$nj=function(){if($A.$jh.$nm()){return;};var $8m=$A.divHeader;var c=$k();c.style.position="absolute";$8m.appendChild(c);$A.nav.resScrollSpace=c;c.setAttribute("unselectable","on");var $0r=$k();$0r.style.position="relative";$0r.style.height="100%";$0r.className=this.$hy("_rowheader");c.appendChild($0r);var $58=this.$nb();var c=$A.nav.resScrollSpace;c.style.width=$58+"px";c.style.top=this.$gq+"px";};this.$kU=function(i,$2V){var $2K=$A.$kT($2V);var $U=$2K.divHeader.rows[i];if(!$U){return;};if($U){var $2O=$U.domArgs;$U.domArgs=null;if($2O&&typeof $A.onBeforeRowHeaderDomRemove==="function"){$A.onBeforeRowHeaderDomRemove($2O);};if($2O&&typeof $A.onBeforeRowHeaderDomAdd==="function"&&$A.$hh.reactDOM){var $2g=$2O&&$2O.$kV;if($2g){var $2P=$s($2O.element);if($2P){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$kW($2g);}}};if($2O){$2O.element=null;$2O.$kV=null;}};$x($U.cells);$2K.divHeader.rows[i]=null;};this.$jz=function(i,$2V){this.$kU(i,$2V);this.$ni(i,$2V);};this.$jw=function(){return $A.rowHeaderColumnsMode==="Standard"||$A.rowHeaderColumnsMode==="Tabular";};this.$nn=function($2r,$8q){var $8r=undefined;if($2r.tags){$8r=$2r.tags[$8q];};if(typeof $8r!=="undefined"){return $8r;};return $2r[$8q];};this.$k3=function($2r,$8q,$8s){if($2r.tags){if(typeof $2r.tags[$8q]!=="undefined"){$2r.tags[$8q]=$8s;return;}};$2r[$8q]=$8s;};this.$ni=function(i,$2V){var $2K=$A.$kT($2V);var $2M=$2K.rowlist;var $2L=$2K.divHeader;var $8m=$2L;if($2L._content){$8m=$2L._content;};if(!$2L){return;};if($2L.rows[i]){return;};var $8t=this.rowHeaderCols;var $U=$2M[i];if(!$U){return;};if($U.hidden){return;};var $8u=$8v.$gt[i];var $0g=$U.height;var $8w=$U.cells&&$U.cells[0];if($8w&&$8w.rowspan>1){$0g=$8w.row.split.totalHeight();};var $8x=null;if($U.split&&$U.split.parent&&$U.split.$no()){$8x=$A.$mE($U.split.parent);};var $G=this.$mE($U);var $8y=$8t&&$G.row.columns&&$G.row.columns.length>0;var $2D=$8y?this.rowHeaderCols.length:0;var $58=this.$nb();$2L.rows[i]={};$2L.rows[i].cells=[];var c=$k();c.style.position="absolute";c.style.top=$U.top+"px";c.row=$8x?$U.split.parent:$U;c.index=i;c.column=0;var $0v=$G.row;var $68=$8x?$8x.row:$0v;var $6l=$A.$jw();var $4O=$U.children.length>0;var $6m=$A.internalUseStandardColumns&&!$U.isNewRow;var $8z=DayPilot.isArray($A.rowHeaderColumns);var $6n=$6m||($6l&&$8z);var $6x=$v($G.row.columns);if($8x&&$8z&&$G.row.columns.length===$A.rowHeaderColumns.length){$A.rowHeaderColumns.forEach(function($8A,i){if(!$8A.split){$6x[i]=$8x.row.columns[i];}});};if($6n){$6x=$6x.filter(function($68,i){return !$A.rowHeaderColumns[i].hidden;});$2D=$6x.length;};var $8B=!($A.rowHeaderColumnsMergeParents&&$4O);if($6n&&$8B){$68=$6x[0]||$G.row;var $8C=$A.rowHeaderColumns.find(function($68){return !$68.hidden;});if($8C&&$8C.split){c.row=$U;}};if($A.$hQ()){$68=$G.row;};var $Y=$8y?$8t[0]:$58;c.style.width=($Y)+"px";c.style.border="0px none";var $8D=$68.toolTip||$0v.toolTip;if($8D){c.title=$8D;};c.setAttribute("unselectable","on");if(typeof $0v.ariaLabel!=="undefined"){c.setAttribute("aria-label",$0v.ariaLabel);}else{c.setAttribute("aria-label",$68.text||"");};c.onmouseenter=$A.$np;c.onmouseleave=$A.$nq;c.onmousemove=$A.$nr;c.onmouseout=$A.$ns;c.onmouseup=$A.$nt;c.oncontextmenu=$A.$nu;c.onclick=$A.$nv;c.ondblclick=$A.$nw;DayPilot.rePassive(c,"touchstart",$A.$nx.$ny);DayPilot.reNonPassive(c,"touchend",$A.$nx.$nz);var $0r=$k();$0r.style.width=($Y)+"px";$0r.setAttribute("unselectable","on");$0r.className=this.$hy('_rowheader');if($8u){$n($0r,$A.$hy("_rowheader_selected"));};if($0v.cssClass){$n($0r,$0v.cssClass);};if($68.cssClass){$n($0r,$68.cssClass);};var $5w=$68.backColor||$0v.backColor;if($5w){$0r.style.background=$5w;};var $6R=$68.fontColor||$0v.fontColor;if($6R){$0r.style.color=$6R;};var $8E=$68.horizontalAlignment||$0v.horizontalAlignment;if($A.treeEnabled){$8E=null;};if($8E){$0r.style.textAlign=$8E;};$0r.style.height=($0g)+"px";$0r.style.overflow='hidden';$0r.style.position='relative';var $0u=$k();$0u.setAttribute("unselectable","on");$0u.className=this.$hy('_rowheader_inner');switch($8E){case "right":$0u.style.justifyContent="flex-end";break;case "left":$0u.style.justifyContent="flex-start";break;case "center":$0u.style.justifyContent="center";break;};$0r.appendChild($0u);var $7t=this.rowMoveHandling!=="Disabled"&&$U.grid==="main";var $6j=$A.rowDragHandleWidth;var $0y=$68.areas||[];if($7t&&!$0v.moveDisabled){$0y.push({"v":"Hover","w":$6j,"bottom":0,"top":0,"left":0,"css":$A.$hy("_rowmove_handle"),"action":"Move"});};var ro=$A.$k2($U);DayPilot.Areas.attach($0r,ro,{"areas":$0y,"allowed":function(){return !$8F.row;}});var $4T=$k();$4T.style.position="absolute";$4T.style.bottom="0px";$4T.style.width="100%";$4T.style.height="0px";$4T.style.boxSizing="content-box";$4T.style.borderBottom="1px solid transparent";$4T.className=this.$hy($0w.resourcedivider);$0r.appendChild($4T);function drawText2(){var $8m=$k();if($A.treeEnabled&&!$U.isNewRow){var $0c=$U.level*$A.treeIndent+$A.treeImageMarginLeft;if($7t){$0c+=$6j;};var $Y=$A.treeImageWidth;var $0g=$A.treeImageHeight;$8m.style.marginLeft=$0c+'px';$8m.style.position="relative";$8m.className=$A.$hy("_rowheader_inner_indent");var $4P=$k();$4P.style.width=$Y+"px";$4P.style.height=$0g+"px";$4P.style.backgroundRepeat="no-repeat";$4P.style.position='absolute';$4P.style.top=$A.treeImageMarginTop+"px";if(!$U.loaded&&$U.children.length===0){$4P.className=$A.$hy('_tree_image_expand');$4P.style.cursor='pointer';$4P.index=i;$4P.onclick=function(ev){$A.$nA(this.index);ev.cancelBubble=true;};}else if($U.children.length>0){if($U.expanded){$4P.className=$A.$hy('_tree_image_collapse');}else{$4P.className=$A.$hy('_tree_image_expand');};$4P.style.cursor='pointer';$4P.index=i;$4P.onclick=function(ev){$A.$mi(this.index);ev.cancelBubble=true;};}else{$4P.className=$A.$hy('_tree_image_no_children');};$8m.appendChild($4P);};var $0C=$k();if($A.treeEnabled){var $0s=$A.treeImageMarginRight;$0C.style.marginLeft=($Y+$0s)+"px";};$0C.innerHTML=$A.$hz($68.text,$68.html);$0C.className=$A.$hy("_rowheader_inner_text");c.textDiv=$0C;c.cellDiv=$0r;$8m.appendChild($0C);$0u.appendChild($8m);var va=$68.verticalAlignment||$0v.verticalAlignment;if(va){$0u.style.display="flex";switch(va){case "center":$0u.style.alignItems="center";break;case "top":$0u.style.alignItems="flex-start";break;case "bottom":$0u.style.alignItems="flex-end";break;}}};drawText2();c.appendChild($0r);(function domAdd(){if(typeof $A.onBeforeRowHeaderDomAdd!=="function"&&typeof $A.onBeforeRowHeaderDomRemove!=="function"){return;};var $0r=c;var $G={};$G.control=$A;$G.row=$A.$k2($U);$G.element=null;$G.target="Cell";$2L.rows[i].domArgs=$G;if(typeof $A.onBeforeRowHeaderDomAdd==="function"){$A.onBeforeRowHeaderDomAdd($G);};if($G.element){var $2g=null;switch($G.target&&$G.target.toLowerCase()){case "text":$2g=$0C;break;case "cell":$2g=$0u;break;};if($2g){$G.$kV=$2g;$2g.innerHTML="";var $8G=$s($G.element);if($8G){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$lN($G.element,$2g);}else{$2g.appendChild($G.element);}}}})();var $8H=$8w&&$8w.refCell;if(!$8H){$8m.appendChild(c);$2L.rows[i].cells[0]=c;};var $8I=!$U.isNewRow&&$A.rowHeaderColumnsMergeParents&&$G.row.children().length>0;if(!$G.row.columns||$G.row.columns.length===0||$8I){c.colSpan="max";$0r.style.width=$58+"px";}else{var $0c=$Y;var $6z=($6m||$6l)?0:1;for(var j=1;j<$2D;j++){var $68=$6x[j-$6z]||{};var $8w=$U.cells[j-$6z];var $0g=$U.height;if($8w.rowspan>1){$0g=$8w.row.split.totalHeight();};var c=$k();c.style.position="absolute";c.style.top=$U.top+"px";c.style.left=$0c+"px";if(!$8w.refCell){$8m.appendChild(c);$2L.rows[i].cells[j]=c;};c.row=$U;c.index=i;c.column=j;var $8J=$68.toolTip||$0v.toolTip;if($8J){c.title=$8J;};c.setAttribute("unselectable","on");c.onmousemove=$A.$nr;c.onmouseout=$A.$ns;c.onmouseup=$A.$nt;c.oncontextmenu=$A.$nu;c.onclick=$A.$nv;c.ondblclick=$A.$nw;var $0r=$k();var w=$8t[j];$0c+=w;var $5w=$68.backColor||$0v.backColor;if($5w){$0r.style.backgroundColor=$5w;};var $6R=$68.fontColor||$0v.fontColor;if($6R){$0r.style.color=$6R;};$0r.style.width=w+"px";$0r.style.height=($0g)+"px";$0r.style.overflow='hidden';$0r.style.position='relative';$0r.setAttribute("unselectable","on");$n($0r,this.$hy("_rowheader"));$n($0r,this.$hy("_rowheadercol"));$n($0r,this.$hy("_rowheadercol"+j));if($8u){$n($0r,$A.$hy("_rowheader_selected"));};if($0v.cssClass){$n($0r,$0v.cssClass);};if($68.cssClass){$n($0r,$68.cssClass);};var $8K=$68.horizontalAlignment||$0v.horizontalAlignment;if($8K){$0r.style.textAlign=$8K;};var $0u=$k();$0u.setAttribute("unselectable","on");$0u.className=this.$hy("_rowheader_inner");switch($8K){case "right":$0u.style.justifyContent="flex-end";break;case "left":$0u.style.justifyContent="flex-start";break;case "center":$0u.style.justifyContent="center";break;};$0r.appendChild($0u);var $4T=$k();$4T.style.position="absolute";$4T.style.bottom="0px";$4T.style.width="100%";$4T.style.height="0px";$4T.style.boxSizing="content-box";$4T.style.borderBottom="1px solid transparent";$4T.className=this.$hy("_resourcedivider");$0r.appendChild($4T);var $0C=$k();var $8L=$A.$hz($68.text,$68.html);$0C.innerHTML=$8L;c.textDiv=$0C;c.cellDiv=$0r;$0u.appendChild($0C);DayPilot.Areas.attach($0r,ro,{"areas":$68.areas,"allowed":function(){return !$8F.row;}});c.appendChild($0r);}}};this.$nu=function(ev){if($A.rowRightClickHandling==="Disabled"){return false;};var $8M=this.row;var $U=$A.$k2($8M);var $G={};$G.ctrl=ev.ctrlKey;$G.shift=ev.shiftKey;$G.meta=ev.metaKey;$G.originalEvent=ev;$G.row=$U;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onRowRightClick==="function"){$A.onRowRightClick($G);if($G.preventDefault.value){return;}};switch($A.rowRightClickHandling){case "ContextMenu":if($8M.contextMenu){$8M.contextMenu.show($U);};break;};if(typeof $A.onRowRightClicked==="function"){$A.onRowRightClicked($G);};return false;};this.$nv=function(ev){if($2q.cancelClick){return;};var $U=this.row;var $2a=this.column;var r=$A.$k2($U,this.index);if($U.isNewRow){$A.$k9.$ka($U);return;};$A.$k6(r,ev,$2a);};this.$nw=function(ev){if($A.$in.resClick){for(var $1x in $A.$in.resClick){window.clearTimeout($A.$in.resClick[$1x]);};$A.$in.resClick=null;};var $U=this.row;var e=$A.$k2($U,this.index);var $2a=this.column;if($A.$hb()){var $G={};$G.resource=e;$G.row=e;$G.x=$2a;$G.ctrl=ev.ctrlKey;$G.shift=ev.shiftKey;$G.meta=ev.metaKey;$G.originalEvent=ev;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onRowDoubleClick==='function'){$A.onRowDoubleClick($G);if($G.preventDefault.value){return;}};switch($A.rowDoubleClickHandling){case 'PostBack':$A.rowDoubleClickPostBack(e);break;case 'CallBack':$A.rowDoubleClickCallBack(e);break;case 'Select':$A.$k8($U,ev.ctrlKey,ev.shiftKey,ev.metaKey);break;case 'Edit':$A.$k9.$ka($U,$2a);break;};if(typeof $A.onRowDoubleClicked==='function'){$A.onRowDoubleClicked($G);}}else{switch($A.rowDoubleClickHandling){case 'PostBack':$A.rowDoubleClickPostBack(e);break;case 'CallBack':$A.rowDoubleClickCallBack(e);break;case 'JavaScript':$A.onRowDoubleClick(e);break;case 'Select':$A.$k8($U,ev.ctrlKey,ev.shiftKey,ev.metaKey);break;case 'Edit':$A.$k9.$ka($U,$2a);break;}}};this.rowDoubleClickPostBack=function(e,$I){var $1t={};$1t.resource=e;this.$ik("RowDoubleClick",$1t,$I);};this.rowDoubleClickCallBack=function(e,$I){var $1t={};$1t.resource=e;this.$il("RowDoubleClick",$1t,$I);};this.$nB=function(ev){if($A.timeHeaderClickHandling==="Disabled"){return;};var $0e={};$0e.start=this.cell.start;$0e.level=this.cell.level;$0e.end=this.cell.end;if(!$0e.end){$0e.end=new DayPilot.Date($0e.start).addMinutes($A.cellDuration);};$A.$kb($0e);};this.$nC=function(ev){if($A.timeHeaderRightClickHandling==="Disabled"){return;};ev.cancelBubble=true;ev.preventDefault();var $0e={};$0e.start=this.cell.start;$0e.level=this.cell.level;$0e.end=this.cell.end;if(!$0e.end){$0e.end=new DayPilot.Date($0e.start).addMinutes($A.cellDuration);};if($A.$hb()){var $G={};$G.header=$0e;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onTimeHeaderRightClick==='function'){$A.onTimeHeaderRightClick($G);if($G.preventDefault.value){return;}};switch(this.timeHeaderRightClickHandling){case 'PostBack':$A.timeHeaderRightClickPostBack(e);break;case 'CallBack':$A.timeHeaderRightClickCallBack(e);break;};if(typeof $A.onTimeHeaderRightClicked==='function'){$A.onTimeHeaderRightClicked($G);}}};this.$nD=function(i){var $U=$A.rowlist[i];if($U.hidden){return 0;};var $8N=$U.height;if(typeof $U.forcedHeight==="number"){$8N=$U.forcedHeight;};return $8N;};this.$nE=function($1J,$2g,onComplete){var $8O=$A.divHeader;var $0b=$A.elements.cells;var $8P=$A.$gt.cells;if($2g==="show"){};$1J.forEach(function(i){});};this.$nF=function(i,$2g,onComplete){var $1l=200;var $1J=[];if(typeof i==="number"){addRow(i);}else if(DayPilot.isArray(i)){i.forEach(function($0p){addRow($0p);});}else{throw new DayPilot.Exception("Unexpected param (must be number/array).")};var $09=0;var scroll=$A.nav.scroll;var $8Q=scroll.style.overflowX;var $8R=scroll.style.overflowY;var $8S=DayPilot.sw(scroll)===0;if($8S){scroll.style.overflowY="hidden";};window.requestAnimationFrame(draw);function addRow(i){var $1h=$A.$nD(i);var to=$2g;if($2g==="hide"){to=0;}else if($2g==="show"){to=$A.rowlist[i].height;};var $8T=to-$1h;$1J.push({"i":i,"now":$1h,"dist":$8T});};function draw($8U){if(!$09){$09=$8U;};var $8V=$8U-$09;var $8W=Math.min(1,$8V/$1l);if($8W===0){$8W=0.1;};$1J.forEach(function(r){var h=r.now+r.dist*$8W;$A.rowlist[r.i].forcedHeight=h;});$A.$nG();if($8W<1){window.requestAnimationFrame(draw);}else{scroll.style.overflowX=$8Q;scroll.style.overflowY=$8R;if(typeof onComplete==="function"){onComplete();}}}};this.$k2=function($U){return new DayPilot.Row($U,$A);};this.$i2=function(i,$2V){$2V=$2V||"main";var $2K=$A.$hi[$2V];var $2M=$2K.rowlist;var $U=$2M[i];if(!$U.events){$U.$nH();};if($U.data){return;};$U.data={};$U.data.start=new DayPilot.Date($U.start);$U.data.startTicks=$U.data.start.getTime();var $1l=this.$i7().getTime()-this.$i1().getTime();$U.data.end=$0B.$nI()?$U.data.start.addTime($1l):$U.data.start.addDays(1);$U.data.endTicks=$U.data.end.getTime();$U.data.offset=$U.start.getTime()-this.$i1().getTime();$U.data.i=i;$U.data.grid=$2V;};this.$nJ={};this.$gL=function($0o){if($0o){this.events.list=$0o;}else if(!this.events.list){this.events.list=[];};if(this.events.list!=null&&!DayPilot.isArray(this.events.list)){throw new DayPilot.Exception("DayPilot.Scheduler.events.list expects an array object");};$2J.$nK(true);var $0n=this.events.list;var $8X=typeof this.onBeforeEventRender==='function';var $1J;var $8Y=$A.viewType==="Resources";$A.$nJ={};for(var j=0;j<$0n.length;j++){var $8Z=$0n[j];if(!$8Z){continue;};if(typeof $8Z!=="object"){throw new DayPilot.Exception("Event data item must be an object");};if(!$8Z.start){throw new DayPilot.Exception("Event data item must specify 'start' property");};if($8Z instanceof DayPilot.Event){throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");};var $90=typeof $8Z.id==="string"||typeof $8Z.id==="number";var $91=typeof $8Z.recurrentMasterId==="string"||typeof $8Z.recurrentMasterId==="number";if(!$90){var $91=typeof $8Z.recurrentMasterId==="string"||typeof $8Z.recurrentMasterId==="number";if(!$91){throw new DayPilot.Exception("All events must have an id property (string or number)");}};var $92=!$A.temp.allowDuplicateEventIds;if($92){var $93="_"+$8Z.id;if(!$90&&$91){$93="#"+$8Z.recurrentMasterId+"#"+new DayPilot.Date($8Z.start);};if($A.$nJ[$93]){throw new DayPilot.Exception("Duplicate event IDs are not allowed: "+$93);};$A.$nJ[$93]=true;};if($8Z.type==="Milestone"){$8Z.end=$8Z.start;};if($8X){this.$lz(j);};if($8Z.resource==="*"){$1J=$A.rowlist;}else if($8Y){$1J=$A.$nL($8Z.resource).concat($A.$nL("*"));}else if($A.viewType==="Days"){$1J=$A.rowlist;}else if($A.viewType==="Gantt"){$1J=$A.$nL($8Z.id);};for(var x=0;$1J&&x<$1J.length;x++){var $U=$1J[x];var ep=this.$lA($8Z,$U);if(!ep){continue;};if($8X){ep.cache=this.$gt.events[j];}}};var $2M=$A.$i0();$2M.forEach(function($U){$A.$lJ($U);});$A.$iM();};this.$nM={};var $2J=this.$nM;$2J.$nN={};$2J.$nK=function($94){$2J.$nN={};var $1J=$A.$i0();for(var i=0;i<$1J.length;i++){var $U=$1J[i];if($94){$U.$nH();};$A.$i2($U.index,$U.grid);if(!$U.id){continue;};var $95=typeof $U.id+"_"+$U.id;if(!$2J.$nN[$95]){$2J.$nN[$95]=$v();};$2J.$nN[$95].push($U);}};$2J.loadEvent=function($8Z){};this.$nL=function(id){var $95=typeof id+"_"+id;return $v($2J.$nN[$95]);};this.$ly=function(){var $96={};if($A.viewType!=="Resources"){return false;};for(var i=0;i<$A.rowlist.length;i++){var $U=$A.rowlist[i];var id=$U.id;if($96[id]){return true;};$96[id]=true;};return false;};this.$lz=function(i){var $0x=this.$gt.events;var $I=this.events.list[i];var $97={};if($I instanceof DayPilot.Event){$I=$I.data;};for(var name in $I){$97[name]=$I[name];};if(typeof $97.start==="string"){$97.start=new DayPilot.Date($97.start);};if(typeof $97.end==="string"){$97.end=new DayPilot.Date($97.end);};if(typeof this.onBeforeEventRender==='function'){var $G={};$G.e=$97;$G.data=$97;this.onBeforeEventRender($G);};$0x[i]=$97;};this.$nO=function(e){var cd=e.data.container;var $0m=typeof cd;if($0m!=="string"&&$0m!=="number"){return null;};return typeof cd+"_"+cd;};this.$lJ=function($U){$U.lines=[];$U.sections=null;if($U.isNewRow){return;};if(this.sortDirections){$U.events.sort(this.$nP);}else if(!$A.$gl){$U.events.sort(this.$nQ);};$U.containerCache={};$U.containers=[];$U.events.forEach(function(e){var $98=$A.$nO(e);if($98){var $99=$U.containerCache[$98];if(!$99){$99={"events":[],"line":null,"start":null,"end":null,"left":null,"width":null};$U.containerCache[$98]=$99;$U.containers.push($99);};e.part.container=$99;$99.events.push(e);}});$U.containers.forEach(function(c){var $1i=c.events[0];var $1c=c.events[c.events.length-1];c.start=$1i.part.start;c.end=$1c.part.end;c.left=$1i.part.left;c.width=$1c.part.right-$1i.part.left;c.right=$1c.part.right;});var $9a=$A.$gl;if($9a){$9b.$lJ($U);return;};var $9c=$A.groupConcurrentEvents;if($9c){for(var i=0;i<$U.blocks.length;i++){$U.blocks[i].clear();}};$v($U.events).forEach(function(e){if(e.part.height){return;};if($U.eventHeight){e.part.height=$U.eventHeight;return;};e.part.height=$0B.$l0();});var $9d=function(e){return typeof e.data.line==="number";};$U.events.filter($9d).forEach(function(e){$U.$nR(e);});for(var j=0;j<$U.events.length;j++){var e=$U.events[j];$U.$nR(e);if($9c){$U.$nS(e);}};var $9e=0;for(var i=0;i<$U.lines.length;i++){var $14=$U.lines[i];$14.top=$9e;$9e+=($14.height||$U.eventHeight)*$U.eventStackingLineHeight/100;};if($9c){for(var j=0;j<$U.blocks.length;j++){var $9f=$U.blocks[j];$9f.lines=[];$9f.events.sort(this.$nP);for(var k=0;k<$9f.events.length;k++){var e=$9f.events[k];$9f.$nR(e);};if($9f.lines.length<=$A.groupConcurrentEventsLimit){$9f.expanded=true;};var $9g=$v($9f.events).map(function(e){return e.id();}).some(function($0p){return $w($A.$nT,$0p);});if($9g){$9f.expanded=true;};var $9e=0;for(var i=0;i<$9f.lines.length;i++){var $14=$9f.lines[i];$14.top=$9e;$9e+=($14.height||$U.eventHeight)*$U.eventStackingLineHeight/100;}}}};this.$iL=function($1J){$1J=DayPilot.ua($1J);$1J=$A.$jA($1J);$1J.forEach(function($U){$A.$lJ($U);});if($A.$gl){$9b.$nU();}else{$1J.forEach(function($U){$A.$mC($U);});}};this.$lZ=function(){var $09=$A.scale==="Manual"?$A.itline[0].start:$A.startDate;return $v($A.rowlist).some(function($0p){if(!$0p.start){return false;};return $0p.start.getTime()!==new DayPilot.Date($09).getTime();});};this.$lA=function(e,$U){if($U.hideEvents){return;};var $9h=DayPilot.Util.isNullOrUndefined;var $09=new DayPilot.Date(e.start);var end=new DayPilot.Date(e.end);end=$A.$jI(end);var $9i=$09.ticks;var $9j=end.ticks;if($9j<$9i){return null;};var $0x=null;if(typeof $A.onBeforeEventRender==='function'){var $1K=$y($A.events.list,e);$0x=$A.$gt.events[$1K];};if($0x){if($0x.hidden){return null;}}else if(e.hidden){return null;};var $9k=false;switch(this.viewType){case 'Days':var $9l=!($9j<=$U.data.startTicks||$9i>=$U.data.endTicks)||($9i===$9j&&$9i===$U.data.startTicks);var $9m=($9h($U.id)&&$9h(e.resource))||($U.id===e.resource);$9k=$9l&&$9m;break;case 'Resources':$9k=($U.id===e.resource||$U.id==="*"||e.resource==="*")&&(!($9j<=$U.data.startTicks||$9i>=$U.data.endTicks)||($9i===$9j&&$9i===$U.data.startTicks));break;case 'Gantt':$9k=($U.id===e.id)&&!($9j<=$U.data.startTicks||$9i>=$U.data.endTicks);break;};if(!$9k){return null;};var ep=new DayPilot.Event(e,$A);ep.part.dayIndex=$U.data.i;ep.part.grid=$U.data.grid;ep.part.start=$U.data.startTicks<$9i?$09:$U.data.start;ep.part.end=$U.data.endTicks>$9j?end:$U.data.end;var $9n=this.getPixels(ep.part.start.addTime(-$U.data.offset));var $9o=this.getPixels(ep.part.end.addTime(-$U.data.offset));if(ep.part.start===ep.part.end){$9o=this.getPixels(ep.part.end.addTime(-$U.data.offset).addMilliseconds(1));};if($0x&&$0x.height){ep.part.height=$0x.height;}else if(e.height){ep.part.height=e.height;};var $9p=$0x||ep.data;ep.part.$nV=function(){var $9q=this.height;if($A.eventVersionsEnabled&&!$v(ep.versions).isEmpty()){var $0M=ep.versions.length;$9q+=$0M*$A.eventVersionHeight;$9q+=$0M*$A.eventVersionMargin;};return $9q+$A.eventMarginBottom;};var $0c=$9n.left;var $0d=$9o.left;ep.part.startPixels=$9n;ep.part.endPixels=$9o;if($0c===$0d){if($9n.cut||$9o.cut){return null;};var $3c=(ep.part.start.addTime(-$U.data.offset).getTime()+ep.part.end.addTime(-$U.data.offset).getTime())/2;var $9r=$A.getPixels(new DayPilot.Date(Math.floor($3c)));if($9r.cut){return null;}};ep.part.box=$0B.$l1($9j-$9i);var $4c=$A.eventHeight;if(e.type==="Milestone"){var $Y=e.width||$4c;ep.part.end=ep.part.start;ep.part.left=$0c-$Y/2;ep.part.width=$Y;ep.part.barLeft=0;ep.part.barWidth=$Y;}else if(ep.part.box){var $9s=$9n.boxLeft;var $9t=$9o.boxRight;ep.part.left=$9s;ep.part.width=$9t-$9s;ep.part.barLeft=$p($0c-ep.part.left,0);ep.part.barWidth=$p($0d-$0c,1);}else{ep.part.left=$0c;ep.part.width=$p($0d-$0c,1);ep.part.barLeft=0;ep.part.barWidth=$p($0d-$0c-1,1);};var $7I=$A.eventMinWidth;ep.part.width=Math.max(ep.part.width,$7I);ep.part.right=ep.part.left+ep.part.width;ep.cache=$0x;if($A.eventVersionsEnabled){$A.$nW(ep,$U);};if(typeof $A.onEventFilter==="function"&&$A.events.$lt){var $G={};$G.filter=$A.events.$lt;$G.filterParam=$A.events.$lt;$G.visible=true;$G.e=ep;$A.onEventFilter($G);if(!$G.visible){return null;}};$U.events.push(ep);return ep;};this.$nW=function(ep,$U){ep.versions=[];var $I=ep.cache||ep.data;var $0n=$v($I.versions);if($0n.isEmpty()){return;};var $9u=ep.part.left;var $9v=ep.part.left+ep.part.width;$0n.forEach(function($2f){var $09=new DayPilot.Date($2f.start);var end=new DayPilot.Date($2f.end);var $9n=$A.getPixels($09.addTime(-$U.data.offset));var $9o=$A.getPixels(end.addTime(-$U.data.offset));if($09.ticks===end.ticks){$9o=$A.getPixels(end.addTime(-$U.data.offset).addTime(1));};var $0c=$9n.left;var $0d=$9o.left;if($0c===$0d&&($9n.cut||$9o.cut)){return null;};var $79={};$79.left=$0c;$79.continueLeft=$09<$U.data.start;$79.right=$0d;$79.continueRight=end>$U.data.end;$79.width=$0d-$0c;ep.versions.push($79);if($79.left<$9u){$9u=$79.left;};if($79.right>$9v){$9v=$79.right;}});if(!$A.eventVersionsReserveSpace){ep.part.versionsLeft=ep.part.left;ep.part.versionsRight=ep.part.left+ep.part.width;ep.part.versionsWidth=ep.part.width;}else{ep.part.versionsLeft=$9u;ep.part.versionsRight=$9v;ep.part.versionsWidth=$9v-$9u;}};this.$nQ=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $9w=a.start().ticks-b.start().ticks;if($9w!==0){return $9w;};var $9x=b.end().ticks-a.end().ticks;return $9x;};this.$nP=function(a,b){if(!a||!b){return 0;};var $9y=a.cache||a.data;var $9z=b.cache||b.data;var $9A=$9y.sort&&$9y.sort.length>0&&$9z.sort&&$9z.sort.length>0;if(!$9A){return $A.$nQ(a,b);};var $B=0;var i=0;while($B===0&&typeof $9y.sort[i]!=="undefined"&&typeof $9z.sort[i]!=="undefined"){if($9y.sort[i]===$9z.sort[i]){$B=0;}else if(typeof $9y.sort[i]==="number"&&typeof $9z.sort[i]==="number"){$B=$9y.sort[i]-$9z.sort[i];}else{$B=$A.$nX($9y.sort[i],$9z.sort[i],$A.sortDirections[i]);};i++;};return $B;};this.$nX=function(a,b,$9B){var $9C=($9B!=="desc");var $9D=$9C?-1:1;var $9E=-$9D;if(a===null&&b===null){return 0;};if(b===null){return $9E;};if(a===null){return $9D;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$9D:$9E;};this.$k8=function($U,$1M,$6z,$1N){if($A.$hb()){var $1K=$y($A.rowlist,$U);var e=$A.$k2($U,$1K);var $8u=$y($2q.$nY,$U)!==-1;var $1s=$8u?"deselected":"selected";var $G={};$G.row=e;$G.selected=$8u;$G.ctrl=$1M;$G.shift=$6z;$G.meta=$1N;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onRowSelect==='function'){$A.onRowSelect($G);if($G.preventDefault.value){return;}};var $9F=$6z&&!$1M&&!$1N;if(!$6z){$2q.$nZ={"row":$U,"index":$1K};};if($9F){$2q.$o0();var $9G=$2q.$nZ.index;var $9H=$1K;$2q.$o1($9G,$9H);};switch($A.rowSelectHandling){case 'PostBack':$A.rowSelectPostBack(e,$1s);break;case 'CallBack':$A.rowSelectCallBack(e,$1s);break;case "Notify":!$9F&&$2q.$o2($U,$1M,$6z,$1N);$A.rowSelectNotify(e,$1s);break;case 'Update':!$9F&&$2q.$o2($U,$1M,$6z,$1N);break;};if(typeof $A.onRowSelected==='function'){$G.selected=$y($2q.$nY,$U)!==-1;$A.onRowSelected($G);}}else{$2q.$o2($U,$1M,$6z);var $1K=$y($A.rowlist,$U);var e=$A.$k2($U,$1K);var $8u=$y($2q.$nY,$U)!==-1;var $1s=$8u?"deselected":"selected";switch($A.rowSelectHandling){case 'PostBack':$A.rowSelectPostBack(e,$1s);break;case 'CallBack':$A.rowSelectCallBack(e,$1s);break;case "Notify":$A.rowSelectNotify(e,$1s);break;case 'JavaScript':$A.onRowSelect(e,$1s);break;}}};this.rowSelectPostBack=function(r,$1s,$I){var $1t={};$1t.resource=r;$1t.change=$1s;this.$ik('RowSelect',$1t,$I);};this.rowSelectCallBack=function(r,$1s,$I){var $1t={};$1t.resource=r;$1t.change=$1s;this.$il('RowSelect',$1t,$I);};this.rowSelectNotify=function(r,$1s,$I){var $1t={};$1t.resource=r;$1t.change=$1s;this.$il('RowSelect',$1t,$I,"Notify");};this.rows={};this.rows.selection={};var $8v=this.rows.selection;$8v.$gt=[];$8v.get=function(){var $0n=[];$v($2q.$nY).forEach(function($0p){$0n.push($A.$k2($0p));});return $0n;};$8v.clear=function(){$2q.$o3();};$8v.add=function($U){if(!$U||!$U.isRow){throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected");};var $9I=$v($2q.$nY).some(function($0p){return $0p===$U.$.row;});if(!$9I){$2q.$nY.push($U.$.row);$8v.$o4();$2q.$o5($U.$.row);}};$8v.remove=function($U){if(!$U||!$U.isRow){throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected");};var $8u=$8v.isSelected($U);if($8u){DayPilot.rfa($2q.$nY,$U.$.row);$8v.$o4();$2q.$o5($U.$.row);}};$8v.isSelected=function($U){if(!$U||!$U.isRow){throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected");};var $8u=$y($2q.$nY,$U.$.row)!==-1;return $8u;};$8v.$o4=function(){$A.selectedRows=$v($2q.$nY).map(function($0p){return $0p.id;});$8v.$gt=[];$2q.$nY.forEach(function($U){$8v.$gt[$U.index]=true;});};this.rows.all=function(){var $0n=$v();for(var i=0;i<$A.rowlist.length;i++){var r=$A.$k2($A.rowlist[i]);$0n.push(r);};return $0n;};this.rows.visible=function(){var $0n=$v();for(var i=0;i<$A.rowlist.length;i++){var r=$A.rowlist[i];if(!r.hidden){var r=$A.$k2($A.rowlist[i]);$0n.push(r);}};return $0n;};this.rows.each=function(f){$A.rows.all().forEach(f);};this.rows.forEach=function(f){$A.rows.all().forEach(f);};this.rows.filter=function($07,$3I){$A.rows.$lt=$07;if($3I){return;};if($A.$hc){$A.$iU({"immediateEvents":true});}};Object.defineProperty($A.rows,"filterParam",{get:function(){return $A.rows.$lt;},});this.rows.sort=function($9J){var $2j=$A.rows.sortParam;if(typeof $9J==="string"){$A.rows.$o6={"field":$9J,"order":"asc"};}else if(typeof $9J==="object"){var $07=$r($9J);if(!$07.order){$07.order="asc";};$A.rows.$o6=$07;}else{$A.rows.$o6=null;};if($A.$hc){$A.$iU({"immediateEvents":true});};if(typeof $A.onRowSorted==="function"){var $G={};$G.oldSortParam=$2j;$A.onRowSorted($G);}};Object.defineProperty($A.rows,"sortParam",{get:function(){return{"order":$A.rows.$o7(),"field":$A.rows.$o8()};},});this.rows.$o8=function(){var $07=$A.rows.$o6;if(!$07){return null;};return $07.field;};this.rows.$o7=function(){var $07=$A.rows.$o6;if(!$07){return "asc";};return $07.order;};this.rows.find=function($07,$09){if(typeof $07==="string"||typeof $07==="number"||(!$07&&$09)){var $9K=$A.$nL($07);if(!$07){$9K=$A.rowlist;};var $1i=null;if(typeof $09==="string"||$09 instanceof DayPilot.Date){$09=new DayPilot.Date($09);$1i=$9K.find(function($0p){return $09===$0p.start;});}else{$1i=$9K.first();};if($1i){return new DayPilot.Row($1i,$A);};return null;}else if(typeof $07==="function"){var $1K=$09||0;var r=$A.rowlist.find(function(r,i){if(i<$1K){return false;};var $U=$A.$k2(r);return $07($U);});if(r){return $A.$k2(r);}}else{throw new DayPilot.Exception("Invalid rows.find() argument: id or function expected");}};this.rows.load=function($30,$31,$32){if(!$30){throw new DayPilot.Exception("rows.load(): 'url' parameter required");};var $33=function($G){var $34={};$34.exception=$G.exception;$34.request=$G.request;if(typeof $32==='function'){$32($34);}};var $35=function($G){var r=$G.request;var $I;try{$I=JSON.parse(r.responseText);}catch(e){var $36={};$36.exception=e;$33($36);return;};if(DayPilot.isArray($I)){var $37={};$37.preventDefault=function(){this.preventDefault.value=true;};$37.data=$I;if(typeof $31==="function"){$31($37);};if($37.preventDefault.value){return;};$A.resources=$37.data;if($A.$hc){$A.update();}}};var $38=$A.rowsLoadMethod&&$A.rowsLoadMethod.toUpperCase()==="POST";if($38){DayPilot.ajax({"method":"POST","url":$30,"success":$35,"error":$33});}else{DayPilot.ajax({"method":"GET","url":$30,"success":$35,"error":$33});}};this.rows.expand=function($9L){var $1J=[];var $1L=$9L||1;for(var i=0;i<$A.rowlist.length;i++){var $U=$A.rowlist[i];var $9M=$1L===-1;if($U.level<$1L){$9M=true;};if($9M&&!$U.expanded&&$U.children&&$U.children.length>0){$1J.push($U.index);}};if($1J.length===0){return;};if($1J.length===1){$A.$mi($1J[0]);}else{for(var i=0;i<$1J.length;i++){var $1K=$1J[i];var $2r=$A.rowlist[$1K].resource;$2r.expanded=true;};$A.$iU();}};this.rows.expandAll=function(){$A.rows.expand(-1);};this.rows.collapseAll=function(){$A.rowlist.forEach(function($U){$U.resource.expanded=false;});$A.$iU();};this.rows.headerHide=function(){$A.$o9=true;$A.$oa();$A.$ng();$A.$hP();};this.rows.headerShow=function(){$A.$o9=false;$A.$oa();$A.$ng();$A.$hP();};this.rows.headerToggle=function(){if($A.$o9){$A.rows.headerShow();}else{$A.rows.headerHide();}};this.rows.edit=function($U,$2a){var $8h=$A.rowHeaderColumns;var $X=$8h&&$8h.length-1;if(typeof $2a!=="undefined"){if($2a<0||$2a>$X){throw new DayPilot.Exception("Invalid column index: "+$2a);}};$2q.$ka($U.$.row,$2a);};this.rows.remove=function($U){if(typeof $U==="number"||typeof $U==="string"){var rf=$A.rows.find($U);if(!rf){throw new DayPilot.Exception("The row to be removed was not found");};$A.rows.remove(rf);return;};var $I=$U.$.row.resource;var $9N=$9O.$ob($I);if(!$9N){throw new DayPilot.Exception("Cannot find source node parent");};var $9P=$y($9N,$I);$9N.splice($9P,1);$A.update();};this.rows.add=function($I){$A.resources.push($I);$A.$iU();};this.rows.addChild=function(parent,$I){if(typeof parent==="number"||typeof parent==="string"){parent=$A.rows.find(parent);};if(!parent){return;};if(!(parent instanceof DayPilot.Row)){var $I=parent;parent=$A.rows.find($I.id);if(!parent){return;}};if(!parent.data.children){parent.data.children=[];};parent.data.children.push($I);$A.$iU();};this.rows.update=function($U){if(!($U instanceof DayPilot.Row||typeof $U==="object")){throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object.");};if(!($U instanceof DayPilot.Row)){var $I=$U;$U=$A.rows.find($I.id);if(!$U){return;};$U.data=$I;};var $3K=!$v($A.events.$lx.rows).isEmpty();if($3K){$1W.$lw=true;$A.events.$jN({"dontResetFocus":true});};var $9Q=$A.rows.selection.isSelected($U);var $7v=$U;var $1K=$U.index;var $2M=$A.$kT($U.grid).rowlist;var $28=$2M[$1K];var $2r=$U.data;var parent=$U.parent()?$U.parent().$.row:null;var $9R=$A.$oc($2r);var $U=$A.$od($9R,parent);$U.hidden=$28.hidden;$U.level=$28.level;$U.children=$28.children;$U.index=$1K;$U.top=$28.top;$U.height=$28.height;$U.grid=$28.grid;$2M[$1K]=$U;if($9Q){DayPilot.rfa($2q.$nY,$7v.$.row);$2q.$nY.push($U);};$U.$nH();$A.$i2($U.index,$U.grid);$A.$gK();$A.$oe($U);$A.$lJ($U);$A.$iM();$A.$of();$A.$iN([$U]);$A.$gV();$A.$og=true;$A.$oh=setTimeout(function(){$A.$og=false;},500);};this.$oe=function($U){var $0o=$A.events.list;var $9S=$0o.length;var $8X=typeof $A.onBeforeEventRender==="function";for(var j=0;j<$9S;j++){var $8Z=$0o[j];if(!$8Z){continue;};if($8Z instanceof DayPilot.Event){throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");};if($A.viewType==="Days"){throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");}else if($A.viewType==="Gantt"){throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");};var $9k=$8Z.resource==="*"||$U.id==="*"||$8Z.resource===$U.id;if(!$9k){continue;};if($8X){this.$lz(j);};var ep=this.$lA($8Z,$U);if(!ep){continue;};if($8X){ep.cache=this.$gt.events[j];}}};this.$oi=function(){var $2f=$8F.source;var $2g=$8F.target;var $O=$8F.position;var $9T=$8F.sourceCalendar;$2q.$oj();if($A.$hb()){var $G={};$G.source=$A.$k2($2f);$G.source.calendar=$9T;$G.target=$A.$k2($2g);$G.position=$O;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onRowMove==="function"){$A.onRowMove($G);if($G.preventDefault.value){return;}};switch($A.rowMoveHandling){case "Update":$2q.$ok($G);break;case "CallBack":$A.rowMoveCallBack($G.source,$G.target,$G.position);break;case "PostBack":$A.rowMovePostBack($G.source,$G.target,$G.position);break;case "Notify":$2q.$ok($G);$A.rowMoveNotify($G.source,$G.target,$G.position);break;};if(typeof $A.onRowMoved==="function"){$A.onRowMoved($G);}}else{var $2f=$A.$k2($2f);var $2g=$A.$k2($2g);var $O=$O;switch($A.rowMoveHandling){case "CallBack":$A.rowMoveCallBack($2f,$2g,$O);break;case "PostBack":$A.rowMovePostBack($2f,$2g,$O);break;case "JavaScript":$A.onRowMove($2f,$2g,$O);break;}}};this.$h7=function($1J){var $0n=$v($1J);$2q.$nY=[];if(!$0n.isEmpty()){$A.$gj=false;$A.$gJ();};$0n.forEach(function($0p){var $U=$A.$hm($0p);if($U){$2q.$nY.push($U);}});$2q.$ol();};this.$k9={};var $2q=this.$k9;$2q.$ka=function($U,$2a){var $9U=$2q.$om($U,$2a);};$2q.$on=function(){$2q.$nZ={"row":$A.rowlist[0],"index":0};};$2q.$oo=function($U){var $1K=$y($A.rowlist,$U);if($1K===-1){throw new DayPilot.Exception("DayPilot.Scheduler: Row not found when selecting a range");};$2q.$nZ={"row":$U,"index":$1K};};$2q.$o0=function(){if(!$2q.$nZ){$2q.$on();};var $1K=$y($A.rowlist,$2q.$nZ.row);if($1K>-1){return;};var $U=$A.$hm($2q.$nZ.row.id);if($U){$1K=$y($A.rowlist,$U);$2q.$nZ={"row":$U,"index":$1K};}else{$2q.$on();}};$2q.$op=function($U){var $Y=$A.$nb();var $45=$A.$hy("_rowmove_source");var top=$U.top;var $0g=$U.height;if($U.split.list.length>0){top=$U.split.list[0].top;$0g=$U.split.totalHeight();};var $0r=$o($A.divHeader,0,top,$Y,$0g);$0r.className=$45;$U.moveOverlay=$0r;};$2q.$oq=function($U){if(!$U){return;};$x($U.moveOverlay);$U.moveOverlay=null;};$2q.$or=function(){var c=$2q.$os;if(!c){return;};$2q.$os=null;try{c.input.parentNode.removeChild(c.input);}catch(e){$e();};c.input=null;};$2q.$om=function($U,$2a){$2a=$2a||0;if($U.isNewRow){$2a=0;};var r=$2q.$ot($U);var c=r.cells[$2a];if(c.input){return c.input;};$2q.$or();DayPilot.Areas.disable(c.firstChild);var $Y=c.clientWidth;if($U.isNewRow){$Y=$A.$hF();};var $6V=0;if($2a===0){$6V=$U.level*$A.treeIndent;};var $9U=document.createElement("input");$9U.style.position="absolute";$9U.style.top="0px";$9U.style.left="0px";$9U.style.width=$Y+"px";$9U.style.height=($U.height-1)+"px";$9U.style.border="0px none";$9U.style.overflow="hidden";$9U.style.boxSizing="border-box";$9U.style.resize="none";$9U.style.paddingLeft=($6V)+"px";$9U.style.outline="none";var $2Q=c.textDiv;$9U.style.fontFamily=DayPilot.gs($2Q,'fontFamily')||DayPilot.gs($2Q,'font-family');$9U.style.fontSize=DayPilot.gs($2Q,'fontSize')||DayPilot.gs($2Q,'font-size');var $0C=$U.name;if(!$U.isNewRow&&$A.rowHeaderColumns){var $9V=$A.rowHeaderColumns[$2a]||{};var $2b=$9V.display;$0C=$A.$nn($U.resource,$2b);if($2a===0&&!$2b){$0C=$U.name;}};$9U.value=$0C||"";c.firstChild.appendChild($9U);c.input=$9U;var $9W=$2q.$or;$9U.focus();$9U.onblur=function(){$9U.onblur=null;var $29=$9U.value;$9W();DayPilot.Areas.enable(c.firstChild);$A.$k5($U,$29,$9U.canceled,$2a);};$9U.onkeydown=function(e){var $9X=e.keyCode;if($9X===27){$9U.canceled=true;$9W();};if($9X===13){$9U.onblur();return false;};return true;};if($9U.setSelectionRange){$9U.setSelectionRange(0,9999);}else{$9U.select();};$2q.$os=c;return $9U;};$2q.$nY=[];$2q.$o2=function($U,$1M,$6z,$1N){var $8u=$y($2q.$nY,$U)!==-1;if($1M||$1N){if($8u){DayPilot.rfa($2q.$nY,$U);$8v.$o4();$2q.$o5($U);return;}}else{$8u=false;$2q.$o3();};if(!$8u){$2q.$nY.push($U);};$8v.$o4();$2q.$o5($U);};$2q.$o1=function($9G,$9H){$2q.$o3();var $7K=Math.min($9G,$9H);var $X=Math.max($9G,$9H);for(var i=$7K;i<=$X;i++){var $U=$A.rowlist[i];$2q.$nY.push($U);};$8v.$o4();for(var i=$7K;i<=$X;i++){var $U=$A.rowlist[i];$2q.$o5($U);}};$2q.$ol=function(){for(var i=0;i<$2q.$nY.length;i++){var $U=$2q.$nY[i];$2q.$o5($U);}};$2q.$o5=function($U){var y=$y($A.rowlist,$U);if(y===-1){var $2g=$A.$hm($U.id);if($2g){y=$2g.index;}else{return;}};$A.$jH(y);$A.$h0();$A.$kU(y);$A.$ni(y);};$2q.$ko=function(){var $0n=[];if(!$2q.$nY){return $0n;};for(var i=0;i<$2q.$nY.length;i++){var $U=$2q.$nY[i];var $1K=$y($A.rowlist,$U);var r=$A.$k2($U,$1K);$0n.push(r.toJSON());};return $0n;};$2q.$nZ=null;$2q.$o3=function(){var $8u=$2q.$nY;$2q.$nY=[];$A.selectedRows=[];$8v.$gt=[];var $9Y=5;if($8u.length<=$9Y){$8u.forEach(function($U){$2q.$o5($U);});}else{$A.$gW();$A.$h0();for(var i=0;i<$A.rowlist.length;i++){if($A.divHeader.rows[i]){$A.$jz(i);}}}};$2q.$ot=function($U){var $8d=$A.divHeader;for(var y=0;y<$8d.rows.length;y++){var r=$8d.rows[y];if(r&&r.cells[0]&&r.cells[0].row&&r.cells[0].row.resource===$U.resource){return r;}};return null;};$2q.$ou=function($U){var $8F=$u.rowmoving;var $9Z=$U.split.parent?$U.split.parent:$U;$8F.row=$9Z;$8F.sourceCalendar=$A;$8F.cursor=$A.divResScroll.style.cursor;$A.divResScroll.style.cursor="move";$2q.$op($9Z);};$2q.$oj=function(){$A.divResScroll.style.cursor=$8F.cursor;$x($8F.div);$2q.$oq($8F.row);$u.rowmoving=$8F={};};$2q.$ov=function(ev){var $2T=DayPilot.mo3($A.divHeader,ev);var ri=$A.$kw($2T.y,"main",true);var $U=$A.rowlist[ri.i];if(!$U){return;};if($U.isNewRow){return;};if($U.split.parent){$U=$U.split.parent;};var $a0=$A.rowMoveSameLevelOnly;var $a1=$2T.y-ri.top;var $a2=ri.bottom-ri.top;var $a3=$a2/3;var $a4=$a3*2;var $3c=$a2/2;var $O="before";var $a5=$U.children&&$U.children.length>0;var $a6=$a5&&$U.expanded;var $a7=(function(){var i=ri.i;var $a8=$U.level;while(i>=0){var r=$A.rowlist[i];i--;if($a8<=r.level){continue;};if(r===$8F.row){return true;};if(r.level===0){return false;};$a8=r.level;};return false;})();var $2g=$U;var $a9=$A.treeEnabled;if($a7||(ri.i===$8F.row.index&&!$a0)){$O="forbidden";}else if($a9){if($a0){var $aa=$8F.row.level;var $ab=$U.level;if($ab===$aa-1){$O="child";}else if($aa!==$ab){if($aa===$ab-1){var $ac=$U.$ow;var $ad=$ac.children.length-1;if($U.index===$ac.children[$ad]){$2g=$ac;$O="after";}else{$O="forbidden"}}else{$O="forbidden";}}else{if($a1<$3c){$O="before";}else if($a5&&$a6){$O="before";}else{$O="after";}}}else if($a5&&$a6){if($a1<$3c){$O="before";}else{$O="child";}}else{if($a1<$a3){$O="before";}else if($a1<$a4){$O="child";}else{$O="after";}}}else{if($a5){$O="before";}else{if($a1<$3c){$O="before";}else{$O="after";}}};if($8F.row.moveDisabled){$O="forbidden";};$8F.calendar=$A;$8F.source=$8F.row;$8F.target=$2g;$8F.position=$O;var $ae=(function(){if(!$8F.last){return true;};if($8F.last.target!==$8F.target){return true;};if($8F.last.position!==$8F.position){return true;};return false;})();if($ae){if(typeof $A.onRowMoving==='function'){var $G={};$G.source=$A.$k2($8F.source);$G.target=$A.$k2($8F.target);$G.position=$O;$A.onRowMoving($G);$8F.position=$G.position;}}else if($8F.last){$8F.position=$8F.last.position;};$8F.last={};$8F.last.target=$8F.target;$8F.last.position=$8F.position;(function drawRowPosition(){if($8F.div){$x($8F.div);};var top=ri.top;var $04=$8F.position;var ro=$A.rowlist[ri.i];var $1L=ro.level;var $0c=$1L*$A.treeIndent;switch($04){case "before":top=ri.top;break;case "child":top=ri.top+$3c;break;case "after":top=ri.bottom;break;case "forbidden":top=ri.top+$3c;break;};var $Y=$A.$nb()-$0c;var $O=$k();$O.style.position="absolute";$O.style.left=$0c+"px";$O.style.width=$Y+"px";$O.style.top=top+"px";$O.className=$A.$hy("_rowmove_position_"+$04);$8F.div=$O;$A.divResScroll.appendChild($O);})();};$2q.$ok=function($G){var $2f=$G.source.$.row.resource;var $2g=$G.target.$.row.resource;var $O=$G.position;if($2f===$2g){return;};if($O==="forbidden"){return;};var $9N=$G.source.calendar.$ox.$ob($2f);if(!$9N){throw new DayPilot.Exception("Cannot find source node parent");};var $9P=$y($9N,$2f);$9N.splice($9P,1);var $af=$9O.$ob($2g);if(!$af){throw new DayPilot.Exception("Cannot find target node parent");};var $ag=$y($af,$2g);switch($O){case "before":$af.splice($ag,0,$2f);break;case "after":$af.splice($ag+1,0,$2f);break;case "child":if(!$2g.children){$2g.children=[];$2g.expanded=true;};$2g.children.push($2f);break;};$A.update();};var rm={};this.$oy=rm;rm.$oz=function(ev){};var $9O={};this.$ox=$9O;$9O.$ob=function($2r){return $9O.$oA($A.resources,$2r);};$9O.$oA=function($5h,$2r){if($y($5h,$2r)!==-1){return $5h;};for(var i=0;i<$5h.length;i++){var r=$5h[i];if(r.children&&r.children.length>0){var parent=$9O.$oA(r.children,$2r);if(parent){return parent;}}};return null;};this.$gI=function(){var $ah=this.resources;var $ai=this.$hQ();if(!$ai){if(this.viewType==="Gantt"){$ah=this.$oB();}else if(this.viewType==="Days"){$ah=this.$oC();}};if($ai&&this.viewType==="Days"&&(!$ah||$ah.length===0)){$ah=this.$oC();};var $1K={};$1K.i=0;if($ah!=null&&!DayPilot.isArray($ah)){throw new DayPilot.Exception("DayPilot.Scheduler.resources expects an array object");};$ah=$ah||[];$A.$oD=false;var $aj=$ah.filter(function(r){var $ak=typeof r.frozen==="string"?r.frozen.toLowerCase():null;return $ak!=="top"&&$ak!=="bottom";});$A.rowlist=$v();this.$oE($aj,$1K,0,null,this.treeEnabled,false,"main");var top=$ah.filter(function(r){return typeof r.frozen==="string"&&r.frozen.toLowerCase()==="top";});$A.$hi.top.rowlist=$v();$A.$hi.top.height=0;this.$oE(top,{"i":0},0,null,false,false,"top");var $0l=$ah.filter(function(r){return typeof r.frozen==="string"&&r.frozen.toLowerCase()==="bottom";});$A.$hi.bottom.rowlist=$v();$A.$hi.bottom.height=0;this.$oE($0l,{"i":0},0,null,false,false,"bottom");var $al=$A.rowCreateHandling!=="Disabled";if($al){this.$oF();}};this.$oF=function(){var r={};r.id="NEW";r.isNewRow=true;r.html="";r.index=$A.rowlist.length;r.loaded=true;r.start=this.startDate;r.children=[];r.height=$A.eventHeight;r.marginBottom=0;r.marginTop=0;r.getHeight=function(){if($A.rowCreateHeight){return $A.rowCreateHeight;};return $A.eventHeight+$A.rowMarginBottom+$A.rowMarginTop;};r.$nR=function(){};r.$nH=function(){};this.rowlist.push(r);};this.$gK=function($z){$z=$z||{};var $am=$z.includeHidden;$A.rowlist.forEach(function($U,y){create($U,y);});$A.$hi.top.rowlist.forEach(function($U,y){create($U,y);});$A.$hi.bottom.rowlist.forEach(function($U,y){create($U,y);});function create($U,y){$U.cells=[];if($U.hidden&&!$am){return;};var parent=$U.split&&$U.split.parent;var $2D=$A.rowHeaderColumns||[{}];$2D.forEach(function($8A,x){var $0e={};$0e.row=$8A.split?$U:parent||$U;$0e.y=y;$0e.x=x;$0e.rowspan=1;var $an=!$8A.split&&parent;var $ao=parent&&$U.split.$no();var $ap=$8A.split&&!parent;var $aq=parent&&parent.split.list.filter(function(r){return !r.hidden;}).length;var $ar=0;if(parent){var $1i=parent.split.list.find(function(r){return r.split.$no();});var $1K=parent.split.list.indexOf($1i);if($1K>0){$ar=$1K;}};if($an){if($ao){$0e.rowspan=$aq;$0e.totalHeight=function(){return parent.split.totalHeight();}}else{$0e.refCell=parent.split.list[$ar].cells[x];}}else{if($ap){}else{}};$U.cells.push($0e);});}};this.$oB=function(){var $0n=[];if(this.$gr&&this.resources){for(var i=0;i<this.resources.length;i++){$0n.push(this.resources[i]);}};if(!this.events.list){return;};for(var i=0;i<this.events.list.length;i++){var e=this.events.list[i];var r={};r.id=e.id;r.name=e.text;r.columns=e.columns;$0n.push(r);};return $0n;};this.$oC=function(){var $0n=[];var $09=$A.$i1();var $as=this.$jh.$i9();var $ah=$A.resources||[];var top=$ah.filter(function(r){return typeof r.frozen==="string"&&r.frozen.toLowerCase()==="top";});var $0l=$ah.filter(function(r){return typeof r.frozen==="string"&&r.frozen.toLowerCase()==="bottom";});$0n=$0n.concat(top).concat($0l);for(var i=0;i<this.days;i++){var d=$09.addDays(i);if(!$A.showNonBusiness&&!$A.businessWeekends){if(d.dayOfWeek()==0||d.dayOfWeek()==6){continue;}};var r={};r.name=d.toString($as.datePattern,$as);r.start=d;$0n.push(r);};return $0n;};this.$i1=function(){if(this.itline&&this.itline.length>0){return this.itline[0].start;};return new DayPilot.Date(this.startDate);};this.$i7=function(){if(this.itline&&this.itline.length>0){var end=$A.itline[this.itline.length-1].end;if($A.viewType!=="Days"){return end;};return end.addDays($A.days-1);};var $09=new DayPilot.Date($A.startDate);return $09.addDays($A.days);};this.visibleStart=function(){return this.$i1();};this.visibleEnd=function(){return this.$i7();};this.$od=function($2r,parent){var $U={};$U.backColor=$2r.backColor;$U.fontColor=$2r.fontColor;$U.cssClass=$2r.cssClass;$U.expanded=$2r.expanded;$U.name=$2r.name;$U.html=$A.$hz($2r.name,$2r.html);$U.emptyHeight=typeof $2r.emptyHeight!=="undefined"?$2r.emptyHeight:$A.rowEmptyHeight;$U.eventHeight=typeof $2r.eventHeight!=='undefined'?$2r.eventHeight:$A.$jh.$l0();$U.minHeight=typeof $2r.minHeight!=='undefined'?$2r.minHeight:$A.rowMinHeight;$U.marginBottom=typeof $2r.marginBottom!=='undefined'?$2r.marginBottom:$A.rowMarginBottom;$U.marginTop=typeof $2r.marginTop!=='undefined'?$2r.marginTop:$A.rowMarginTop;$U.eventStackingLineHeight=typeof $2r.eventStackingLineHeight!=='undefined'?$2r.eventStackingLineHeight:$A.eventStackingLineHeight;$U.loaded=!$2r.dynamicChildren;$U.id=$2r.id||$2r.value;$U.toolTip=$2r.toolTip;$U.children=[];$U.columns=[];$U.start=$2r.start?new DayPilot.Date($2r.start):this.$i1();$U.isParent=$2r.isParent;$U.contextMenu=$2r.contextMenu?DayPilot.Util.evalVariable($2r.contextMenu):this.contextMenuResource;$U.areas=$2r.areas;$U.moveDisabled=$2r.moveDisabled;$U.bubbleHtml=$2r.bubbleHtml;$U.cellsDisabled=$2r.cellsDisabled;$U.tags=$2r.tags;$U.task=$2r.task;$U.swimlane=$2r.swimlane;$U.hideEvents=$2r.hideEvents;$U.height=$U.eventHeight;$U.level=0;$U.resource=$2r.$oG;$U.lines=[];$U.blocks=[];$U.containers=[];$U.containerCache={};$U.isRow=true;$U.split={};$U.split.list=[];$U.split.totalHeight=function(){var $0g=0;this.list.forEach(function(r){if(!r.hidden){$0g+=r.height;}});return $0g;};$U.getHeight=function(){var $0g=0;var $at=Math.max(0,$U.resource&&$U.resource.maxLines||100000);if($A.groupConcurrentEvents){for(var i=0;i<this.blocks.length;i++){var $9f=this.blocks[i];$0g=Math.max($0g,$9f.getHeight());}}else{if(this.lines.length>0){var $au=Math.min(this.lines.length,$at);var $1c=$au-1;var $14=this.lines[$1c];var $av=$14.height||this.eventHeight;var top=$14.top||0;$0g=top+$av;}};if($0g===0){if(typeof this.emptyHeight==="number"){return this.emptyHeight;};$0g=this.eventHeight;};return($0g>this.minHeight)?$0g:this.minHeight;};$U.$m5=function(){var $27=$U.start.getTime()-$A.$i1().getTime();var end=$A.itline[$A.itline.length-1].end.addTime($27);return end;};$U.$nH=function(){var r=this;r.events=$v();r.events.forRange=function($09,end){$09=new DayPilot.Date($09);end=end?new DayPilot.Date(end):r.$m5();var $B=$v();for(var i=0;i<r.events.length;i++){var ev=r.events[i];var $aw=$A.$jI(ev.end());if($l(ev.start(),$aw,$09,end)){$B.push(ev);}};return $B;};};$U.$lS=function(){var r=this;var $ax=r.sections=getSections();for(var i=0;i<$ax.length;i++){var $0t=$ax[i];$0t.events=$v();for(var x=0;x<r.events.length;x++){var e=r.events[x];if($l($0t.start,$0t.end,e.start(),e.rawend())){$0t.events.push(e);}};$0t.sum=function(name){var $ay=0;for(var i=0;i<this.events.length;i++){var e=this.events[i];var $8s=0;if(typeof name==="undefined"){$8s=1;}else if(e.tag(name)){$8s=e.tag(name);}else if(e.data[name]){$8s=e.data[name];};if(typeof $8s==='number'){$ay+=$8s;}};return $ay;}};function getPoints(){var $az=[];for(var i=0;i<r.events.length;i++){var e=r.events[i];if(!$w($az,e.start().toString())){$az.push(e.start().toString());};if(!$w($az,e.rawend().toString())){$az.push(e.rawend().toString());}};$az.sort();return $az;};function getSections(){var $az=getPoints();var $ax=[];var $0t={"start":r.data.start};for(var i=0;i<$az.length;i++){$0t.end=new DayPilot.Date($az[i]);$ax.push($0t);$0t={"start":new DayPilot.Date($az[i])};};$0t.end=r.data.end;$ax.push($0t);$ax.forRange=function($09,end){var $0n=$v();for(var i=0;i<this.length;i++){var $0t=this[i];if($l($09,end,$0t.start,$0t.end)){$0n.push($0t);}};$0n.maxSum=function(name){var $X=0;for(var i=0;i<this.length;i++){var $0t=this[i];var $ay=$0t.sum(name);if($ay>$X){$X=$ay;}};return $X;};return $0n;};return $ax;}};$U.$oH=function(){var $14=[];$14.height=0;$14.add=function(ep){this.push(ep);var $9q=ep.part.$nV();if($9q>$14.height){$14.height=$9q;}};$14.$n1=function($aA,$aB,$7k){var end=$aA+$aB-1;var $X=this.length;for(var i=0;i<$X;i++){var e=this[i];if(e.data.nonBlocking){continue;};if(!(end<e.part.left||$aA>e.part.left+e.part.width-1)){if($w($7k,e.data)){continue;};return false;};if(e.part.container){if(!(end<e.part.container.left||$aA>e.part.container.left+e.part.container.width-1)){return false;}};if($A.eventVersionsReserveSpace){if(!(end<e.part.versionsLeft||$aA>e.part.versionsRight-1)){return false;}}};return true;};return $14;};$U.$oI=function($0c,$Y,$aC){if(typeof $aC==="number"){for(var i=0;i<=$aC;i++){if(!this.lines[i]){this.lines[i]=$U.$oH();}};return $aC;}else if($aC==="dedicated"){var $14=$U.$oH();$14.$n1=function(){return false;};this.lines.push($14);return this.lines.length-1;};for(var i=0;i<this.lines.length;i++){var $14=this.lines[i];if($14.$n1($0c,$Y)){return i;}};var $14=$U.$oH();this.lines.push($14);return this.lines.length-1;};$U.$nR=function(ep){var $aD=this;var $I=ep.data;var $2E=ep.part;var $99=ep.part.container;if($99){if($99.line===null){if(typeof $I.line==="number"||$I.line==="dedicated"){i=$U.$oI($99.left,$99.width,$I.line);$2E.line=i;this.lines[i].add(ep);$99.line=i;return i;}}}else if(typeof $I.line==="number"||$I.line==="dedicated"){i=$U.$oI($2E.left,$2E.width,$I.line);$2E.line=i;this.lines[i].add(ep);return i;};var i=-1;if($99){if($99.line!==null){this.lines[$99.line].add(ep);return $99.line;};i=$U.$oI($99.left,$99.width);$99.line=i;}else if($A.eventVersionsReserveSpace){i=$U.$oI($2E.versionsLeft,$2E.versionsWidth);}else{i=$U.$oI($2E.left,$2E.width);};$2E.line=i;this.lines[i].add(ep);return i;};$U.$nS=function(ep){var $aE=$A.eventVersionsReserveSpace;for(var i=0;i<this.blocks.length;i++){var $9f=this.blocks[i];if($y($9f.events,ep)!==-1){return;};var $0c=$aE?ep.part.versionsLeft:ep.part.left;var $Y=$aE?ep.part.versionsWidth:ep.part.width;if($9f.$oJ($0c,$Y)){$9f.events.push(ep);ep.part.block=$9f;$9f.min=Math.min($9f.min,$0c);$9f.max=Math.max($9f.max,$0c+$Y);return i;}};var $9f={};$9f.expanded=false;$9f.row=this;$9f.events=$v();$9f.lines=$v();$9f.$nR=function(ep){var $aF=this;for(var i=0;i<this.lines.length;i++){var $14=this.lines[i];var $aG=$aE?ep.part.versionsLeft:ep.part.left;var $aH=$aE?ep.part.versionsWidth:ep.part.width;if($14.$n1($aG,$aH)){$14.add(ep);return i;}};var $14=[];$14.height=0;$14.add=function(ep){this.push(ep);if(ep.part.height>$14.height){$14.height=ep.part.height;};if(ep.data.versions){$14.height=ep.part.height+ep.data.versions.length*($A.eventVersionHeight+$A.eventVersionMargin);}};$14.$n1=function($09,$Y){var end=$09+$Y-1;var $X=this.length;for(var i=0;i<$X;i++){var e=this[i];var $aG=$aE?e.part.versionsLeft:e.part.left;var $aH=$aE?e.part.versionsWidth:e.part.width;if(!(end<$aG||$09>$aG+$aH-1)){return false;}};return true;};$14.add(ep);this.lines.push($14);};$9f.$oJ=function($09,$Y){var end=$09+$Y-1;if(!(end<this.min||$09>this.max-1)){return true;};return false;};$9f.getHeight=function(){if(!this.expanded){return $A.eventHeight;};if(this.lines.length>0){var $1c=this.lines.length-1;var $14=this.lines[$1c];var $av=$14.height||$A.eventHeight;var top=$14.top||0;return top+$av;}else{return $A.eventHeight;}};$9f.clear=function(){$9f.events=$v();$9f.min=null;$9f.max=null;};$9f.events.push(ep);ep.part.block=$9f;$9f.min=$aE?ep.part.versionsLeft:ep.part.left;$9f.max=$9f.min+($aE?ep.part.versionsWidth:ep.part.width);this.blocks.push($9f);};$U.$oK=false;$U.$ow=parent;$U.$oL=function(){this.hidden=!this.$oM();this.$oK=false;if(this.$ow){this.$ow.$oL();}};$U.$oM=function(){if(!this.$ow){return true;};return this.$ow.$oM()&&this.$ow.expanded;};if($2r.columns){for(var j=0;j<$2r.columns.length;j++){$U.columns.push($2r.columns[j]);}};return $U;};this.$jl=function(){var $2M=$A.$i0();$2M.forEach(function($U){if($U.isNewRow){return;};if(typeof $A.onRowFilter==="function"&&$A.rows.$lt){var parent=$U.$ow;var $G={};$G.visible=true;$G.row=$A.$k2($U);$G.filter=$A.rows.$lt;$G.filterParam=$A.rows.$lt;$G.control=$A;$A.onRowFilter($G);$U.$oK=!$G.visible;if(!$G.visible){$U.hidden=true;}else{var $aI=$A.rowFilterParentsAlwaysVisible;if($aI&&parent){parent.$oL();}}}});};this.$oN=function($ah){return !$ah.some(function(r){return r.children&&r.children.length;});};this.$oO=function($ah){return !$ah.some(function(r){return !r.children||r.children.length===0;});};this.$kT=function(name){name=name||"main";return $A.$hi[name];};this.$oE=function($ah,$1K,$1L,parent,$aJ,$aK,$2V){if(!$ah){return;};var $aL=false;if($A.rows.$o6){switch($A.rowSortingMode){case "LeavesOnly":$aL=$A.$oN($ah);break;case "ParentsOnly":$aL=$A.$oO($ah);break;}};if($aL){var $aM=$A.rows.$o8();var $aN=$A.rows.$o7()==="desc";var $aO=$v($ah,true);$aO.sort(function($1i,$aP){var a=$A.$nn($1i,$aM);var b=$A.$nn($aP,$aM);var $B=0;if(a===b){$B=0;}else if(typeof a==="number"&&typeof b==="number"){$B=a-b;}else{$B=$A.$nX(a,b,"asc");};return $aN?-$B:$B;});$ah=$aO;};var $2M=$A.$kT($2V).rowlist;for(var i=0;i<$ah.length;i++){if(!$ah[i]){continue;};var $aQ={};$aQ.level=$1L;$aQ.hidden=$aK;$aQ.index=$1K.i;if($ah[i].hidden){continue;};var $2r=this.$oc($ah[i],$aQ);var $U=$A.$od($2r,parent);if($aK){$U.hidden=true;};$U.level=$1L;$U.index=$1K.i;$U.grid=$2V||"main";var $aR=!$2r.children||$2r.children.length===0;var $aS=$aR&&$2r.split;if($aS){loadSplit($2r,$U);}else{if(parent!==null){parent.children.push($1K.i);};$2M.push($U);$1K.i++;};if($aJ&&$2r.children&&$2r.children.length){var $aT=$aK||!$U.expanded;this.$oE($2r.children,$1K,$1L+1,$U,true,$aT,$2V);}};function loadSplit($2r,$2W){for(var i=0;i<$2r.split.length;i++){(function(){var r=$2r.split[i];var $aU=$A.$oc(r,$aQ);var $aV=$A.$od($aU,parent);$aV.level=$1L;$aV.index=$1K.i;$aV.grid=$2V||"main";if($aK){$aV.hidden=true;};$aV.split={};$aV.split.parent=$2W;$aV.split.y=i;$aV.split.$no=function(){var $1i=$aV.split.parent.split.list.find(function($aW){return !$aW.hidden;});return $aV===$1i;};$aV.$ow=$2W;$2W.split.list.push($aV);if(parent!==null){parent.children.push($1K.i);};$2M.push($aV);$1K.i++;$A.$oD=true;})();}}};this.$oP=['text','html','backColor','cssClass','areas','horizontalAlignment','hidden'];this.$mE=function($U){if($U.isNewRow){return{"row":{"cssClass":$A.$hy("_row_new"),"moveDisabled":true,"html":$A.$hz($A.rowCreateText,$A.rowCreateHtml)}};};var $G={};$G.row=this.$k2($U);$r($U,$G.row,['html','backColor','fontColor','cssClass','toolTip','contextMenu','moveDisabled']);$G.row.areas=DayPilot.Util.createArrayCopy($U.areas);$G.row.columns=DayPilot.Util.createArrayCopy($U.columns,$A.$oP);if($U.split&&DayPilot.isArray($A.rowHeaderColumns)){$A.rowHeaderColumns.forEach(function($8A,x){if(!$U.split.parent&&$U.split.list.length===0&&$8A.split){$G.row.columns[x].text="";}else if(!$U.split.parent&&$8A.split){$G.row.columns[x]=null;}else if($U.split.parent&&!$8A.split){$G.row.columns[x]=null;}});};var $89=$A.rowHeaderColumns;if(typeof $G.row.columns==='undefined'&&$89.length>0){r.columns=[];for(var i=0;i<$89.length;i++){r.columns.push({});}};var $4O=$G.row.children().length>0;if($4O&&$A.rowHeaderColumnsMergeParents&&$A.rowHeaderColumns){$A.rowHeaderColumns.forEach(function($8A,x){if(x>0){delete $G.row.columns[x];}});};if(typeof this.onBeforeRowHeaderRender==="function"){this.onBeforeRowHeaderRender($G);};return $G;};this.$oc=function($2r,$aQ){var r=this.$oQ($2r,$aQ);if(typeof this.onBeforeResHeaderRender==='function'){var $G={};$G.resource=r;this.onBeforeResHeaderRender($G);};return r;};this.$oQ=function($2r,$aQ){var r={get $aX(){return this.$oG;}};for(var name in $aQ){r[name]=$aQ[name];};for(var name in $2r){r[name]=$2r[name];};r.html=$A.$hz($2r.name,$2r.html);var $aY=$A.rowHeaderColumns&&$A.rowHeaderColumns.length>0;if($aY){if(typeof r.columns==='undefined'){r.columns=[];var $89=$A.rowHeaderColumns;if($A.$jw()){for(var i=0;i<$89.length;i++){var $9V=$89[i];var $0C=$A.$nn($2r,$9V.display);r.columns.push({"text":$0C});};if(r.columns[0]&&$89[0]&&!$89[0].display){r.columns[0].text=r.name;}}else{for(var i=0;i<$89.length;i++){r.columns.push({});}}}};r.$oG=$2r;return r;};this.$jf=function(){this.nav.top.dp=this;this.nav.top.innerHTML="";$n(this.nav.top,this.$hy("_main"));this.nav.top.setAttribute("role","region");this.nav.top.setAttribute("aria-label","scheduler");this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.webkitUserSelect='none';this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)";this.nav.top.style.WebkitTouchCallout="none";if(this.width){this.nav.top.style.width=this.width;};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};this.nav.top.style.lineHeight="1.2";this.nav.top.style.position="relative";if(!this.visible){this.nav.top.style.display="none";};this.nav.top.onmousemove=this.$oR;this.nav.top.onmouseout=function(){$A.$mk();};DayPilot.reNonPassive(this.nav.top,"touchstart",$2H.$kJ);DayPilot.reNonPassive(this.nav.top,"touchmove",$2H.$kK);DayPilot.reNonPassive(this.nav.top,"touchend",$2H.$kL);if(this.hideUntilInit&&this.backendUrl){this.nav.top.style.visibility='hidden';};var $4Y=this.$hF();var $aZ=$A.timeHeaderPosition==="Top";$A.$je=$A.timeHeaderPosition;var $b0=this.$jh.$oS();if($b0==='DivBased'){var $0c=$k();$0c.style.position="absolute";$0c.style.left="0px";$0c.style.width=($4Y)+"px";var $b1=$k();$b1.style.height="0px";$b1.style.boxSizing="content-box";$b1.style.borderTop="1px solid transparent";$b1.className=this.$hy("_divider_horizontal");this.nav.dh1=$b1;this.nav.left=$0c;if($A.timeHeaderPosition==="Top"){$0c.appendChild(this.$oT());$0c.appendChild($b1);$0c.appendChild(this.$oU());if($A.$hi.top.enabled()||true){$0c.appendChild(this.$oV());};$0c.appendChild(this.$oW());}else if($A.timeHeaderPosition==="Bottom"){$0c.appendChild(this.$oU());$0c.appendChild($b1);$0c.appendChild(this.$oT());}else{$0c.appendChild(this.$oU());};var $b2=$k();$b2.style.position="absolute";$b2.style.left=($4Y)+"px";$b2.style.width=$0B.$hG()+"px";$b2.style.height=(this.$hH()+this.$hM())+"px";$b2.className=this.$hy("_divider")+" "+this.$hy("_splitter");$b2.setAttribute("unselectable","on");this.nav.divider=$b2;if(this.rowHeaderScrolling){this.$oX();};var $0d=$k();$0d.style.marginLeft=($4Y+$0B.$hG())+"px";$0d.style.marginRight='1px';$0d.style.position='relative';this.nav.right=$0d;var $b3=$k();if($aZ){$b3.style.position="absolute";$b3.style.top=this.$hH()+"px";};$b3.style.width="100%";$b3.style.height="0px";$b3.style.boxSizing="content-box";$b3.style.borderBottom="1px solid transparent";$b3.setAttribute("data-dh2","true");$b3.className=this.$hy("_divider_horizontal");this.nav.dh2=$b3;if($A.timeHeaderPosition==="Top"){$0d.appendChild($A.$oY());$0d.appendChild($A.$oZ());$0d.appendChild($b3);if($A.$hi.top.enabled()||true){$0d.appendChild($A.$p0());};$0d.appendChild($A.$p1());}else if($A.timeHeaderPosition==="Bottom"){$0d.appendChild($A.$oZ());$0d.appendChild($b3);$0d.appendChild($A.$oY());}else{$0d.appendChild($A.$oZ());};var $b4=$k();$b4.style.clear='left';var $b5=$k();$b5.style.height="1px";$b5.style.position="absolute";$b5.style.left="0px";$b5.style.right="0px";$b5.style.display="none";$b5.className=this.$hy("_divider_horizontal")+" "+this.$hy("_divider_horizontal_frozen_top");$b5.onmousemove=function(ev){ev.cancelBubble=true;};this.nav.dividerTop=$b5;var $b6=$k();$b6.style.height="1px";$b6.style.position="absolute";$b6.style.left="0px";$b6.style.right="0px";$b6.style.display="none";$b6.className=this.$hy("_divider_horizontal")+" "+this.$hy("_divider_horizontal_frozen_bottom");$b6.onmousemove=function(ev){ev.cancelBubble=true;};this.nav.dividerBottom=$b6;this.nav.top.appendChild($0c);this.nav.top.appendChild($b2);this.nav.top.appendChild($0d);this.nav.top.appendChild($b4);this.nav.top.appendChild($b5);this.nav.top.appendChild($b6);}else{var $8d=document.createElement("table");$8d.cellPadding=0;$8d.cellSpacing=0;$8d.border=0;$8d.style.position='absolute';var $b7=$8d.insertRow(-1);var $b8=$b7.insertCell(-1);$b8.appendChild(this.$oT());var $b9=$b7.insertCell(-1);$b9.appendChild(this.$oY());var $ba=$8d.insertRow(-1);var $bb=$ba.insertCell(-1);$bb.appendChild(this.$oU());var $bc=$ba.insertCell(-1);$bc.appendChild(this.$oZ());this.nav.top.appendChild($8d);};this.$gz=$k();this.$gz.style.display="none";this.nav.top.appendChild(this.$gz);if(this.$kn()){var $bd=document.createElement("input");$bd.type="hidden";$bd.id=this.id+"_state";$bd.name=this.id+"_state";this.nav.state=$bd;this.nav.top.appendChild($bd);};var $8a=5;var loading=$k();loading.style.position='absolute';loading.style.left=(this.$hF()+$0B.$hG()+5)+"px";loading.style.top=(this.$hH()+$8a)+"px";loading.style.display='none';loading.innerHTML=$A.$hz(this.loadingLabelText,this.loadingLabelHtml);$n(loading,this.$hy("_loading"));this.nav.loading=loading;this.nav.top.appendChild(loading);this.$p2();$A.$p3();};this.$oR=function(ev){if($8F.row){$2q.$ov(ev);}else if(DayPilotScheduler.$nk){var $Y=DayPilot.mo3($A.nav.top,ev).x;var $X=$A.$nb();var $7K=$A.rowHeaderWidthMin;var $7G=$Y-1;if($A.rowHeaderCols){$7G=Math.min($X,$Y-1);};$7G=Math.max($7K,$7G);$A.rowHeaderWidth=$7G;$A.$o9=false;if(!$A.rowHeaderCols){$A.$p4();};$A.$oa();$A.$h8();$A.$jF();}};this.$gU=function(){var $0g=this.$hH();var $aZ=$A.timeHeaderPosition==="Top";if(this.nav.corner){this.nav.corner.style.height=($0g)+"px";};if(this.divTimeScroll){this.divTimeScroll.style.height=$0g+"px";};if(this.divNorth){this.divNorth.style.height=$0g+"px";};if(this.nav.dh1&&this.nav.dh2){if($aZ){this.nav.dh1.style.top=$0g+"px";this.nav.dh2.style.top=$0g+"px";}};this.nav.loading.style.top=($0g+5)+"px";if($aZ){this.nav.scroll.style.top=($0g+1)+"px";}};this.$hF=function(){if(this.$o9){return 0;};var $B=0;var $be=this.rowHeaderScrolling;var $0u=this.$nb();if($be&&this.rowHeaderWidth<$0u){$B=this.rowHeaderWidth;}else{$B=$0u;};return $B;};this.$oX=function(){var $0r=this.nav.divider;if($A.rowHeaderScrolling){$0r.style.cursor="col-resize";$0r.setAttribute("unselectable","on");$0r.onmousedown=function(ev){var $bf=DayPilotScheduler.$nk={};$bf.cursor=$A.nav.top.style.cursor;$bf.cleanup=function(){$A.$ng();$A.nav.top.style.cursor=$bf.cursor;if(typeof $A.onRowHeaderResized==="function"){var $G={};$A.onRowHeaderResized($G);}};$A.nav.top.style.cursor="col-resize";return false;};}else{$0r.style.cursor=null;$0r.onmousedown=null;}};this.$oa=function(){var $bg=$0B.$hG();var $Y=this.$hF();if(this.nav.corner)this.nav.corner.style.width=$Y+"px";if(this.nav.corner)this.divCorner.style.width=$Y+"px";this.divResScroll.style.width=$Y+"px";if($0B.$oS()==="DivBased"){this.nav.left.style.width=($Y)+"px";this.nav.divider.style.left=($Y-$bg)+"px";this.nav.right.style.marginLeft=($Y)+"px";};if(this.nav.message){this.nav.message.style.left=$A.$hE()+"px";};if(this.nav.loading){this.nav.loading.style.left=($Y+$bg+5)+"px";};if(this.nav.hideIcon){var hi=this.nav.hideIcon;var $bh=$A.$hy("_header_icon_show");var $bi=$A.$hy("_header_icon_hide");hi.style.left=($Y-1)+"px";if($A.$o9){$m(hi,$bi);$n(hi,$bh);}else{$m(hi,$bh);$n(hi,$bi);}}};this.$p4=function(){this.$na();var $0I=this.$nb();var $bj=function($0e,$Y,$0c){if(!$0e||!$0e.style){return;};var $0r=$0e.firstChild;if($A.$nh){$0e.style.width=$Y+"px";$0r.style.width=$Y+"px";if(typeof $0c==="number"){$0e.style.left=$0c+"px";}}else{$0r.style.width=$Y+"px";}};var $bk=function($U){var $0e=$U.cells[0];if($0e&&($0e.colSpan>1||$0e.colSpan==="max")){var $0e=$U.cells[0];$bj($0e,$0I);}else{if($A.rowHeaderCols){var $0c=0;for(var j=0;j<$U.cells.length;j++){var $Y=$A.rowHeaderCols[j];var $0e=$U.cells[j];$bj($0e,$Y,$0c);$0c+=$Y;}}else{var $Y=$A.rowHeaderWidth;var $0e=$U.cells[0];$bj($0e,$Y);}}};var $8d=this.divHeader;$8d.style.width=$0I+"px";var $23=$A.$nc();for(var i=$23.start;i<$23.end;i++){var $U=$8d.rows[i];if(!$U){continue;};$bk($U);};if($A.$hi.top.enabled()){for(var i=0;i<$A.$hi.top.rowlist.length;i++){var $U=$A.$hi.top.divHeader.rows[i];if($U){$bk($U);}}};if($A.$hi.bottom.enabled()){for(var i=0;i<$A.$hi.bottom.rowlist.length;i++){var $U=$A.$hi.bottom.divHeader.rows[i];if($U){$bk($U);}}};if($A.nav.resScrollSpace){$A.nav.resScrollSpace.style.width=$0I+"px";};if($A.$hi.bottom.enabled()){var $0r=$A.$hi.bottom.divSpace;$0r.style.width=$0I+"px";};this.$jF();};this.$jb=function(){this.$oa();this.$p4();};this.$ja=function(){var $0r=$A.nav.corner;var $0v=$0B.$mD();var scroll=$k();scroll.style.position="absolute";scroll.style.bottom="0px";scroll.style.left="0px";scroll.style.width="100%";scroll.style.height=$0B.$p5()+"px";scroll.style.overflow="hidden";$A.nav.columnScroll=scroll;var $U=$k();$U.style.position="absolute";$U.style.bottom="0px";$U.style.left="0px";$U.style.width="5000px";$U.style.height=$0B.$p5()+"px";$U.style.overflow="hidden";$U.className=this.$hy("_columnheader");scroll.appendChild($U);var $0u=$k();$0u.style.position="absolute";$0u.style.top="0px";$0u.style.bottom="0px";$0u.style.left="0px";$0u.style.right="0px";$0u.className=this.$hy("_columnheader_inner");$U.appendChild($0u);if($A.$kO){$A.$kO.dispose();$A.$kO=null;};var $bl=[];$0v.forEach(function($68){var $G={};$G.column={};$G.column.html=$A.$hz($68.text||$68.name||$68.title,$68.html);$G.column.areas=null;$G.column.sortingEnabled=!!$68.sort;$G.column.data=$68;$G.column.cssClass=null;$bl.push($G);if(typeof $A.onBeforeRowHeaderColumnRender==="function"){$A.onBeforeRowHeaderColumnRender($G);}});var $bm=new DayPilot.Splitter($0u);$bm.enabled=$A.rowHeaderColumnsResizable;$bm.widths=DayPilot.Util.propArray($0v,"width",$A.rowHeaderColumnDefaultWidth);$bm.height=$0B.$p5();$bm.css.title=this.$hy("_columnheader_cell");$bm.css.titleInner=this.$hy("_columnheader_cell_inner");$bm.css.splitter=this.$hy("_columnheader_splitter");var $bn=$A.rowHeaderScrolling;if($bn){$bm.splitterWidthLast=6;};var $bo=$A.rows.$o8();var $bp=$A.rows.$o7();$bm.titles=$v($bl).map(function($G){var $68=$G.column.data;var $0F=$G.column.html;var $5f=$G.column.cssClass;var title={};title.areas=[];if($68.sort&&$G.column.sortingEnabled){var $45=$A.$hy("_sorticon");if($bo===$68.sort){$45+=" "+$A.$hy("_sorticon_active");if($bp==="asc"){$45+=" "+$A.$hy("_sorticon_asc");}else{$45+=" "+$A.$hy("_sorticon_desc");}}else{$45+=" "+$A.$hy("_sorticon_asc");};title.areas=[{$0d:5,top:0,$0l:0,$Y:10,$5f:$45,$bq:function($G){var $9J={};$9J.field=$68.sort;if($bo===$68.sort){$9J.order=$A.rows.$o7()==="asc"?"desc":"asc";}else{$9J.order="asc";};$A.rows.sort($9J);}}];};if(DayPilot.isArray($G.column.areas)){title.areas=title.areas.concat($G.column.areas);};title.cssClass=$5f;title.html=$0F;return title;});$bm.data=$v($0v,true);$bm.started=function(){var $br=$bm.totalWidth()===$A.rowHeaderWidth;$bm.$p6=$br;};$bm.updating=function($G){$A.$he.skip=true;DayPilot.Util.updatePropsFromArray($0B.$mD(),"width",this.widths);var $br=$bm.$p6;if($br&&$A.rowHeaderScrolling){$A.rowHeaderWidth=$bm.totalWidth();};$A.$jb();if($A.cellWidthSpec==="Auto"){}};$bm.updated=function($bs){$A.$ng();if($A.$hb()){if(typeof $A.onRowHeaderColumnResized==="function"){var $G={};$G.column=$0B.$mD()[$bs.index];$A.onRowHeaderColumnResized($G);}}else{switch($A.rowHeaderColumnResizedHandling){case "CallBack":break;case "PostBack":break;case "JavaScript":if(typeof $A.onRowHeaderColumnResized==="function"){var $G={};$G.column=$0B.$mD()[$bs.index];$A.onRowHeaderColumnResized($G);};break;}}};$bm.color='#000000';$bm.opacity=30;$bm.init();$0r.appendChild(scroll);this.$kO=$bm;};this.$gO=function(){var $0r=this.nav.corner;if(!$0r){return;};$A.$kF();$0r.innerHTML='';$0r.className=this.$hy('_corner');var $0u=$k();$0u.style.position="absolute";$0u.style.top="0px";$0u.style.left="0px";$0u.style.right="0px";$0u.style.bottom="0px";$0u.className=this.$hy('_corner_inner');this.divCorner=$0u;$0u.innerHTML='&nbsp;';if(this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var $bt=$k();$bt.style.position="absolute";$bt.style.top="0px";$bt.style.left="0px";$bt.style.right="0px";$bt.style.bottom=($0B.$p5()+1)+"px";$0r.appendChild($bt);var $b2=$k();$b2.style.position="absolute";$b2.style.left="0px";$b2.style.right="0px";$b2.style.height="1px";$b2.style.bottom=($0B.$p5())+"px";$b2.className=this.$hy("_divider");$0r.appendChild($b2);$bt.appendChild($0u);this.$ja();}else{$0r.appendChild($0u);};(function $a(){var $G={};$G.control=$A;$G.html=$A.$hz($A.cornerText,$A.cornerHtml);$G.areas=null;var $bu=null;if(typeof $A.onBeforeCornerRender==="function"){$A.onBeforeCornerRender($G);};if(typeof $A.onBeforeCornerDomAdd==="function"){$G.element=null;$A.onBeforeCornerDomAdd($G);$bu=$G.element;};if($bu){var $2g=$A.divCorner;$2g.domArgs=$G;var $8G=$s($bu);if($8G){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$lN($bu,$2g);}else{$2g.appendChild($bu);}}else{if($A.divCorner){$A.divCorner.innerHTML=$G.html||'';}};if($G.areas){DayPilot.Areas.attach($A.nav.corner,{},{"areas":$G.areas});}})();var $bv=$k();$bv.style.position='absolute';$bv.style.padding='2px';$bv.style.top='0px';$bv.style.left='1px';$bv.style.backgroundColor="#FF6600";$bv.style.color="white";$bv.innerHTML="\u0044\u0045\u004D\u004F";if($q("K5woOes"))$0r.appendChild($bv);if($A.rowHeaderScrolling&&$A.nav.columnScroll&&$A.$hN){$A.nav.columnScroll.scrollLeft=$A.$hN.scrollLeft;}};this.$p2=function(){var $bw=3;var $0c=this.$hF()+$0B.$hG()-1;var $Y=10;var $0g=20;var top=this.$hH()+$bw;var $0r=$o(this.nav.top,$0c,top,$Y,$0g);$0r.style.cursor="pointer";$0r.className=$A.$hy("_header_icon");$n($0r,$A.$hy("_header_icon_hide"));$0r.onclick=function(){$A.rows.headerToggle();};$0r.ontouchstart=function(ev){ev.stopPropagation();};this.nav.hideIcon=$0r;};this.$jn=function(){var $bw=3;var $7d=$A.nav.hideIcon;var top=$A.$hH()+$bw;if(!$7d){return;};if($A.rowlist.length>0&&$A.rowHeaderHideIconEnabled){$7d.style.display='';}else{$7d.style.display='none';};$7d.style.top=top+"px";};this.$oT=function(){var $4Y=this.$hF();var $0r=$k();$A.nav.corner=$0r;$0r.style.width=$4Y+"px";$0r.style.height=(this.$hH())+"px";$0r.style.overflow='hidden';$0r.style.position='relative';$0r.setAttribute("unselectable","on");$0r.onmousemove=function(){$A.$p7();};$0r.oncontextmenu=function(){return false;};this.$gO();return $0r;};this.$hH=function(){if($A.timeHeaderPosition==="None"){return 0;};if($A.timeHeaders){var $1c=$7c.$mH($A.timeHeaders.length-1);return $1c.top+$1c.height;}else if(this.timeHeader){return $A.timeHeader.length*$0B.$p5();}else{return 0;}};this.$p8=null;this.$p9=function(){return $A.scrollStep||$A.eventHeight;};this.$oU=function(){var $0r=$k();$0r.style.width=(this.$hF())+"px";$0r.style.height=this.$hM()+"px";$0r.style.overflow='hidden';$0r.style.position='relative';$0r.className=$A.$hy("_rowheader_scroll");var $03=$A.$p9();var $bx=$A.$jh.$nm();if($bx){$0r.style.overflowY="auto";if($A.rowHeaderScrolling){$0r.style.overflowX="auto";}};$0r.onmousemove=function(){$A.$p7();};DayPilot.rePassive($0r,"touchstart",function(){DayPilotScheduler.$pa=true;});$0r.addEventListener("wheel",function(ev){if($A.$pb()===0){return;};var $7E;if($A.overrideWheelScrolling||$A.scrollStep){$7E=ev.deltaY>0?$03:-$03;}else{if(ev.deltaMode===1){$7E=ev.deltaY*$0B.$pc()*1.7;}else{$7E=ev.deltaY;}};$A.nav.scroll.scrollTop=$0r.scrollTop+$7E;ev.preventDefault();},{"passive":false});$0r.oncontextmenu=function(){return false;};$0r.onscroll=function(){if($A.$p8){clearTimeout($A.$p8);};if($bx){var f=function(){var $by=$A.$mt()-$A.nav.scroll.offsetHeight;$0r.scrollTop=Math.min($0r.scrollTop,$by);$A.nav.scroll.scrollTop=$0r.scrollTop;};if($d){if(DayPilotScheduler.$pa){$A.$p8=setTimeout(f,10);}}else{$A.$p8=setTimeout(f,10);}}else{$A.$p8=setTimeout(function(){$A.nav.scroll.scrollTop=$0r.scrollTop;},500);}};$A.$pd($0r);$0r.setAttribute("role","region");$0r.setAttribute("aria-label","scheduler rows");var $8m=$k();$8m.onmousemove=function(){$A.$p7();};this.divHeader=$8m;$0r.appendChild($8m);this.divResScroll=$0r;this.$hN=$0r;return $0r;};this.$pd=function($0r){$0r.addEventListener("scroll",function(){if(!$A.rowHeaderScrolling){return;};if($A.nav.columnScroll){$A.nav.columnScroll.scrollLeft=$0r.scrollLeft;};if($A.$hi.top.enabled()){$A.$hi.top.divHeader.scrollLeft=$0r.scrollLeft;};if(this !==$A.divResScroll){$A.divResScroll.scrollLeft=$0r.scrollLeft;}});$0r.onmouseenter=function(){if($A.rowHeaderScrolling){$0r.style.overflowX="auto";}};$0r.onmouseleave=function(){if($A.rowHeaderScrolling){$0r.style.overflowX="hidden";}};};this.$pe=function($0r){if($0B.$oS()==='TableBased'){var $Y=parseInt(this.width,10);var $bz=isNaN($Y)||(this.width.indexOf("%")!==-1);var $bA=/MSIE/i.test(navigator.userAgent);var $4Y=this.$nb();if($bz){if(this.nav.top&&this.nav.top.offsetWidth>0){$0r.style.width=(this.nav.top.offsetWidth-6-$4Y)+"px";}}else{$0r.style.width=($Y-$4Y)+"px";}}};this.$kR=function(ev){if(typeof $A.onEventMoving!=="function"){return;};if(!DayPilotScheduler.$lY){return;};var $2T=$A.coords||{};$2T.shift=ev.shiftKey;$2T.meta=ev.metaKey;$2T.ctrl=ev.ctrlKey;$2T.alt=ev.altKey;$A.$n2();};this.$kQ=function(ev){if(typeof $A.onEventMoving!=="function"){return;};if(!DayPilotScheduler.$lY){return;};var $2T=$A.coords||{};$2T.shift=ev.shiftKey;$2T.meta=ev.metaKey;$2T.ctrl=ev.ctrlKey;$2T.alt=ev.altKey;$A.$n2();};this.$kP=function(ev){if(typeof $bB==="function"&&$A.watchWidthChanges){return;};if(!DayPilotScheduler.$lY){return;};$A.$gS();$A.$h8();};this.$gS=function(){if($A.$gp){return;};if($A.$jh.$oS()==='TableBased'){$A.$pe($A.nav.scroll);$A.$pe($A.divTimeScroll);};$A.$gV();$A.$ng();$A.$pf();$A.$gt.drawArea=null;};this._wd=null;this.$kE=null;this.$kC=null;this.$pg=function(){var $bC=function(){$A.$gS();$A.$h8(null,{"dontHideBubble":true});};var $bD=function(){var top=$A.nav.top;var op=top.offsetParent;var $bE=op&&op.offsetHeight;if(!$A._wd){$A._wd={};$A._wd.changed=false;$A._wd.width=top.offsetWidth;$A._wd.height=top.offsetHeight;$A._wd.opHeight=$bE;return;};var $bF=$A._wd.width!==top.offsetWidth;var $bG=$A._wd.height!==top.offsetHeight;var $bH=$A.heightSpec==="Max100Pct"&&$A._wd.opHeight!==$bE;if($bF||$bG||$bH){$A._wd.changed=true;$A._wd.width=top.offsetWidth;$A._wd.height=top.offsetHeight;$A._wd.opHeight=$bE;};if($A._wd.changed){$A._wd.changed=false;$bC();}};if(!$A.watchWidthChanges){return;};if(typeof $bB==="function"){if($A.$kC){return;};var $bI=new $bB($bD);$bI.observe($A.nav.top);if($A.nav.top.offsetParent){$bI.observe($A.nav.top.offsetParent);};$A.$kC=$bI;return;};if($A.$kE){return;};var $bJ=function(){if(!$A.nav||!$A.nav.top){clearInterval($A.$kE);return;};if(!$A._wd){$A._wd={};$A._wd.counter=0;$A._wd.changed=false;$A._wd.width=$A.nav.top.offsetWidth;return;};if($A._wd.width!==$A.nav.top.offsetWidth){$A._wd.changed=true;$A._wd.counter=0;$A._wd.width=$A.nav.top.offsetWidth;};if($A._wd.changed){$A._wd.counter+=1;};if($A._wd.changed&&$A._wd.counter>0){$A._wd.changed=false;$bC();}};this.$kE=setInterval($bJ,200);$bJ();};this.$pf=function(){var $23=$A.$jV;$A.clearSelection();$A.$jV=$23;$A.$jW($23,{"justDraw":true});};this.$ng=function(){if($A.cellWidthSpec!=='Auto'){return;};$A.$gW();if(!$A.$hc){return;};$A.$gG();$A.$gH();$A.$gP();$A.$gY();$A.$gX();$A.$gL();$A.$gQ();$A.$gT();$A.$iM();$A.$h2();$A.$h0();$A.$h1();$A.$gV();};this.$gG=function(){if(this.cellWidthSpec!=='Auto'){return;};var $0I=this.nav.top.clientWidth;var $8O=this.$hF();var $bK=$A.$pb();var $1R=$0I-$8O-$bK;var $bL=this.$my();if(!$bL){return;};var $0e=$1R/this.$my();this.cellWidth=Math.max($0e,$A.cellWidthMin);$A.$hL=$0e<$A.cellWidthMin;};this.$pb=function(){if($A.heightSpec==="Auto"){return 0;};if($A.heightSpec==="Max"||$A.heightSpec==="Fixed"||$A.heightSpec==="Parent100Pct"){var $0u=$A.$mt();if($0u>$A.height){var sw=DayPilot.sw($A.nav.scroll);return sw||1;}else{return 0;}};return DayPilot.sw($A.nav.scroll);};this.$hS=function(){var $0I=this.nav.top.clientWidth;var $8O=this.$hF();var $bM=2;var $0g=this.$hM();var innerHeight=this.$mt();var $bN=$A.heightSpec==="Auto";var $bO=0;if(innerHeight>$0g&&!$bN){$bO=DayPilot.swa();};var $1R=$0I-$8O-$bM-$bO;return $1R;};this.$oY=function(){var $aZ=$A.timeHeaderPosition==="Top";var $0r=$k();$0r.style.overflow='hidden';$0r.style.display='block';if($aZ){$0r.style.position='absolute';$0r.style.top="0px";}else{$0r.style.position="relative";};$0r.style.width="100%";$0r.style.height=this.$hH()+"px";$0r.style.overflow="hidden";$0r.onmousemove=function(){$A.$p7();if($A.cellBubble){$A.cellBubble.delayedHide();}};$0r.className=$A.$hy("_timeheader_scroll");this.$pe($0r);this.divTimeScroll=$0r;var $0u=$k();$0u.style.width=(this.$hC()+5000)+"px";this.divNorth=$0u;$0r.appendChild($0u);return $0r;};this.$hM=function(){var $0g=0;var $9J=$A.heightSpec;if($9J==='Fixed'||$9J==="Parent100Pct"){return this.height?this.height:0;}else{$0g=$A.$mt();};var $bP=$9J==="Max"||$9J==="Max100Pct";if($bP&&$0g>$A.height){return $A.height;};return $0g;};this.$ph=null;this.$pi=0;this.$pj=0;this.$pk=0;this.$hP=function(){if(typeof $A.onHeightChanged!=="function"&&typeof $A.onDimensionsChanged!=="function"){return;};if($A.$ph){clearTimeout($A.$ph);};var $2e=function(){var $bQ=$A.nav.top.offsetHeight;var $bR=$A.$pi;$A.$pi=$bQ;var $7G=$A.nav.top.offsetWidth;var $7B=$A.$pj;$A.$pj=$7G;var $bS=$A.$hF();var $bT=$A.$pk;$A.$pk=$bS;if(typeof $A.onHeightChanged==="function"){if($bQ!==$bR){var $G={};$G.oldHeight=$bR;$G.newHeight=$bQ;$A.onHeightChanged($G);}};if(typeof $A.onDimensionsChanged==="function"){if($bQ!==$bR||$7G!==$7B||$bS!==$bT){var $G={};$G.oldHeight=$bR;$G.newHeight=$bQ;$G.oldWidth=$7B;$G.newWidth=$7G;$G.oldRowHeaderWidth=$bT;$G.newRowHeaderWidth=$bS;$A.onDimensionsChanged($G);}}};$A.$ph=setTimeout($2e,100);};this.$mt=function(){var $0g;if(this.$gq!==-1){$0g=this.$gq;if(this.$gq>0&&$A.nav.scroll.style.overflowX==="auto"){$0g+=DayPilot.sh($A.nav.scroll);}}else{$0g=this.rowlist.length*this.$jh.$l0();};$0g+=$A.$hi.bottom.height;return $0g;};this.$p7=function(){this.$pl();if(!$A.$pm){return;};this.$jF();this.$pn();this.$n8();this.$mk();$A.cellBubble&&$A.cellBubble.hideOnMouseOut();$A.bubble&&$A.bubble.hideOnMouseOut();$A.groupBubble&&$A.groupBubble.hideOnMouseOut();$A.$pm=false;};this.$hi={};this.$hi.top={};this.$hi.top.height=0;this.$hi.top.rowlist=[];this.$hi.top.enabled=function(){return this.rowlist&&this.rowlist.length>0;};Object.defineProperty($A.$hi.top,"top",{get:function(){return $A.$hH()+1;},});Object.defineProperty($A.$hi.top,"right",{get:function(){return $A.$pb();},});Object.defineProperty($A.$hi.top,"heightRes",{get:function(){return this.height;},});this.$hi.bottom={};this.$hi.bottom.height=0;this.$hi.bottom.rowlist=[];this.$hi.bottom.enabled=function(){return this.rowlist&&this.rowlist.length>0;};Object.defineProperty($A.$hi.bottom,"top",{get:function(){return $A.$hH()+$A.$hM()-this.height-DayPilot.sh($A.nav.scroll)+1;},});Object.defineProperty($A.$hi.bottom,"right",{get:function(){return $A.$pb();},});Object.defineProperty($A.$hi.bottom,"heightRes",{get:function(){return this.height+DayPilot.sh($A.nav.scroll);},});this.$hi.main={};this.$p3=function(){var $aj=$A.$hi.main;$aj.divCells=$A.divCells;$aj.divLines=$A.divLines;$aj.divBreaks=$A.divBreaks;$aj.divHeader=$A.divHeader;$aj.divEvents=$A.divEvents;$aj.divShadow=$A.divShadow;$aj.divHover=$A.divHover;$aj.divCrosshair=$A.divCrosshair;$aj.div=$A.nav.scroll;Object.defineProperty($A.$hi.main,"rowlist",{get:function(){return $A.rowlist;},});Object.defineProperty($A.$hi.main,"top",{get:function(){return $A.$hH()+1;},});Object.defineProperty($A.$hi.main,"height",{get:function(){return $A.$gq;},});};this.$oV=function(){var $2K=$A.$hi.top;var top=$2K.top;var $0g=$2K.height;var $0r=$k();$0r.style.position="absolute";$0r.style.left="0px";$0r.style.right="0px";$0r.style.top=top+"px";$0r.style.height=$0g+"px";$0r.style.overflow="hidden";$0r.style.boxSizing="border-box";$0r.rows=[];$2K.divHeader=$0r;return $0r;};this.$oW=function(){var $2K=$A.$hi.bottom;var top=$2K.top;var $0g=$2K.height;var $0r=$k();$0r.style.position="absolute";$0r.style.left="0px";$0r.style.right="0px";$0r.style.top=top+"px";$0r.style.height=$0g+"px";$0r.style.overflow="hidden";$0r.style.boxSizing="border-box";var $81=$k();$81.style.position="absolute";$81.style.height="500px";$81.style.top=$2K.height+"px";$81.style.left="0px";$81.style.width=$A.$nb()+"px";$81.className=$A.$hy("_rowheader");$0r.appendChild($81);$0r.rows=[];var $8m=$k();$0r.appendChild($8m);$0r._content=$8m;$A.$pd($0r);$2K.divHeader=$0r;$2K.divSpace=$81;return $0r;};this.$p0=function(){var $2K=$A.$hi.top;var top=$2K.top;var $0g=$2K.height;var $0d=0;var $0r=$k();$0r.style.position="absolute";$0r.style.left="0px";$0r.style.right=$0d+"px";$0r.style.top=top+"px";$0r.style.height=$0g+"px";$0r.style.overflow="hidden";$0r.className=$A.$hy("_grid_top");$0r.onmousedown=$A.$po;$0r.onmousemove=$A.$n9;$0r.oncontextmenu=$A.$pp;$0r.onmouseup=$A.$pq;$0r.ondblclick=this.$pr;$A.nav.fixedTop=$0r;$2K.div=$0r;var $bU=$A.$ps($0r);$r($bU,$2K);return $0r;};this.$p1=function(){var $2K=$A.$hi.bottom;var top=$2K.top;var $0g=$2K.height;var $0d=0;var $0r=$k();$0r.style.position="absolute";$0r.style.left="0px";$0r.style.right=$0d+"px";$0r.style.bottom=top+"px";$0r.style.height=$0g+"px";$0r.style.overflow="hidden";$0r.className=$A.$hy("_grid_bottom");$0r.onmousedown=$A.$po;$0r.onmousemove=$A.$n9;$0r.oncontextmenu=$A.$pp;$0r.onmouseup=$A.$pq;$0r.ondblclick=this.$pr;$A.nav.fixedBottom=$0r;$2K.div=$0r;var $bU=$A.$ps($0r);$r($bU,$2K);return $0r;};this.$ps=function($0r){var $bV=$k();$bV.style.position="absolute";$0r.appendChild($bV);var $bW=$k();$bW.style.position="absolute";$0r.appendChild($bW);var $bX=$k();$bX.style.position="absolute";$0r.appendChild($bX);var $bY=$k();$bY.style.position="absolute";$0r.appendChild($bY);var $bZ=$k();$bZ.style.position="absolute";$0r.appendChild($bZ);var $c0=$k();$c0.style.position="absolute";$c0.style.left="0px";$c0.style.width="100000px";$c0.style.bottom="0px";$c0.style.height="1px";$0r.appendChild($c0);var $c1=$k();$c1.style.position='absolute';$0r.appendChild($c1);var $c2=$k();$c2.style.position="absolute";$0r.appendChild($c2);return{"divCells":$bV,"divLines":$bW,"divBreaks":$bX,"divEvents":$bZ,"divShadow":$c2,"divHover":$c1,"divCrosshair":$bY};};this.$hO=function(){var $c3=$A.$hi.top;var $c4=$A.$hi.bottom;updateGrid($c3);updateGrid($c4);$A.divStretch.style.height=($A.$gq+$c4.height)+"px";$A.nav.dividerTop.style.top=($c3.top+$c3.height-1)+"px";$A.nav.dividerTop.style.right=$c3.right+"px";$A.$pt($A.nav.dividerTop,$c3.enabled());$A.nav.dividerBottom.style.top=($c4.top-1)+"px";$A.nav.dividerBottom.style.right=($c4.right)+"px";$A.$pt($A.nav.dividerBottom,$c4.enabled());};function updateGrid($2K){$2K.div.style.right=$2K.right+"px";$2K.div.style.height=$2K.height+"px";$2K.div.style.top=$2K.top+"px";$A.$pt($2K.div,$2K.enabled());$2K.divHeader.style.height=$2K.heightRes+"px";$2K.divHeader.style.top=$2K.top+"px";$A.$pt($2K.divHeader,$2K.enabled());if($2K.divSpace){$2K.divSpace.style.top=$2K.height+"px";}};this.$pt=function(el,$c5){el.style.display=$c5?"":"none";};this.$i0=function(){var $2M=$A.rowlist;$2M=$2M.concat($A.$hi.top.rowlist);$2M=$2M.concat($A.$hi.bottom.rowlist);return $2M;};this.$pu=function(){return $A.rowlist.length>0||$A.$hi.top.rowlist.length>0||$A.$hi.bottom.rowlist.length>0;};this.$pv=function(){this.$pw();this.$px();};this.$oZ=function(){var $0r=$k();$0r.style.overflow="auto";$0r.style.overflowX="auto";$0r.style.overflowY="auto";$0r.style.height=(this.$hM())+"px";if($A.timeHeaderPosition==="Top"){$0r.style.top=(this.$hH()+1)+"px";$0r.style.position="absolute";}else{$0r.style.position="relative";};$0r.style.width="100%";$0r.className=this.$hy("_scrollable");$0r.oncontextmenu=function(){return false;};this.$pe($0r);if($A.overrideWheelScrolling){var scrollStep=$A.$p9();$0r.onwheel=function(ev){var $7E=ev.deltaY>0?scrollStep:-scrollStep;$A.nav.scroll.scrollTop=$0r.scrollTop+$7E;ev.preventDefault();};$0r.onmousewheel=function(ev){var $7E=ev.wheelDelta<0?scrollStep:-scrollStep;$A.nav.scroll.scrollTop=$0r.scrollTop+$7E;ev.preventDefault();ev.returnValue=false;};};DayPilot.rePassive($0r,"wheel",$A.$kN);this.nav.scroll=$0r;this.$hj=$k();var $c6=this.$hj;$c6.style.MozUserSelect="none";$c6.style.KhtmlUserSelect="none";$c6.style.webkitUserSelect="none";$c6.daypilotMainD=true;$c6.calendar=this;$c6.style.minHeight="1px";if($b){$c6.style.webkitTransform="translateZ(0px)";};$c6.style.position='absolute';var $c7=this.$hC();if($c7>0&&!isNaN($c7)){$c6.style.width=($c7)+"px";};$c6.setAttribute("unselectable","on");$c6.onmousedown=this.$po;$c6.onmousemove=this.$n9;$c6.onmouseup=this.$pq;$c6.oncontextmenu=this.$pp;$c6.ondblclick=this.$pr;$c6.className=this.$hy("_matrix");this.divStretch=$k();this.divStretch.style.position='absolute';this.divStretch.style.height='1px';$c6.appendChild(this.divStretch);this.divCells=$k();this.divCells.style.position='absolute';this.divCells.oncontextmenu=this.$pp;$c6.appendChild(this.divCells);this.divLines=$k();this.divLines.style.position='absolute';this.divLines.oncontextmenu=this.$pp;$c6.appendChild(this.divLines);this.divBreaks=$k();this.divBreaks.style.position='absolute';this.divBreaks.oncontextmenu=this.$pp;$c6.appendChild(this.divBreaks);this.divSeparators=$k();this.divSeparators.style.position='absolute';this.divSeparators.oncontextmenu=this.$pp;$c6.appendChild(this.divSeparators);this.divLinksBelow=$k();this.divLinksBelow.style.position="absolute";$c6.appendChild(this.divLinksBelow);this.divCrosshair=$k();this.divCrosshair.style.position='absolute';this.divCrosshair.ondblclick=this.$pr;this.divCrosshair.onmousedown=this.$py;$c6.appendChild(this.divCrosshair);this.divRange=$k();this.divRange.style.position='absolute';this.divRange.oncontextmenu=this.$pp;$c6.appendChild(this.divRange);this.divEvents=$k();this.divEvents.style.position='absolute';$c6.appendChild(this.divEvents);this.divSeparatorsAbove=$k();this.divSeparatorsAbove.style.position='absolute';this.divSeparatorsAbove.oncontextmenu=this.$pp;$c6.appendChild(this.divSeparatorsAbove);this.divLinksAbove=$k();this.divLinksAbove.style.position="absolute";$c6.appendChild(this.divLinksAbove);this.divLinkShadow=$k();this.divLinkShadow.style.position="absolute";$c6.appendChild(this.divLinkShadow);this.divLinkpoints=$k();this.divLinkpoints.style.position="absolute";$c6.appendChild(this.divLinkpoints);this.divRectangle=$k();this.divRectangle.style.position="absolute";$c6.appendChild(this.divRectangle);this.divHover=$k();this.divHover.style.position='absolute';$c6.appendChild(this.divHover);this.divShadow=$k();this.divShadow.style.position='absolute';$c6.appendChild(this.divShadow);$0r.appendChild($c6);return $0r;};$A.$kN=function(ev){$A.$ip(ev);};this.$pz={};var $1F=this.$pz;$1F.$pA=function(){if($A.nav.overlay){return;};var $0r=document.createElement('div');$0r.style.position="absolute";$0r.style.left="0px";$0r.style.right="0px";$0r.style.top="0px";$0r.style.bottom="0px";$0r.className=$A.$hy("_block");$A.nav.top.appendChild($0r);$A.nav.overlay=$0r;};$1F.$gR=function(){$1F.$pA();$A.nav.overlay.style.display='';};$1F.$iE=function(){if($A.nav.overlay){$A.nav.overlay.style.display='none';}};this.$kj=function($z){$z=$z||{};var $0E=$z.delay||0;var $0F=$A.$hz($z.text||this.loadingLabelText,this.loadingLabelHtml);var $9f=typeof $z.block!=="undefined"?$z.block:$A.blockOnCallBack;if($A.$pB){window.clearTimeout($A.$pB);};var $c8=function(){if($A.loadingLabelVisible||$z.text){$A.nav.loading.innerHTML=$0F;$A.nav.loading.style.display='';};if($9f){$1F.$gR();}};if($0E===0){$c8();}else{$A.$pB=window.setTimeout($c8,$0E);}};this.$gA=function($c9){if(this.$pB){window.clearTimeout(this.$pB);};this.nav.loading.style.display='none';if($c9||$A.blockOnCallBack){$1F.$iE();}};this.loadingStart=function($z){$A.$kj($z);};this.loadingStop=function(){$A.$gA(true);};this.uiBlock=function(){$1F.$gR();};this.uiUnblock=function(){$1F.$iE();};this.$pC=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();};this.$pD=function($ca){var $0r=$k();$0r.style.position="absolute";$0r.style.top="-2000px";$0r.style.left="-2000px";$0r.className=this.$hy($ca);$j().appendChild($0r);var $0g=$0r.offsetHeight;var $Y=$0r.offsetWidth;$j().removeChild($0r);var $B={};$B.height=$0g;$B.width=$Y;return $B;};this.$gD=function($cb){if($cb){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.$gi>=this.autoRefreshMaxCount){return;};this.$ki();var $cc=this.autoRefreshInterval;if(!$cc||$cc<10){throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");};this.autoRefreshTimeout=window.setTimeout(function(){$A.$pE();},this.autoRefreshInterval*1000);};this.$ki=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);this.autoRefreshTimeout=null;}};this.autoRefreshStart=function($cb){$A.$gD($cb);};this.autoRefreshPause=function(){$A.$ki();};this.$pF=function(){return !DayPilotScheduler.$m3&&!DayPilotScheduler.$ii&&!DayPilotScheduler.$n3&&!DayPilotScheduler.$m4;};this.$pE=function(){if($A.$pF()){var $6y=false;if(typeof this.onAutoRefresh==='function'){var $G={};$G.i=this.$gi;$G.preventDefault=function(){this.preventDefault.value=true;};$A.onAutoRefresh($G);if($G.preventDefault.value){$6y=true;}};if(!$6y&&this.$hQ()){this.commandCallBack(this.autoRefreshCommand);};this.$gi++;};if(this.$gi<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$A.$pE();},this.autoRefreshInterval*1000);}};this.$pG=function(){if(!DayPilotScheduler.$pH){DayPilotScheduler.$pH=true;DayPilot.re(document,'mousemove',DayPilotScheduler.$pI);DayPilot.re(document,'mouseup',DayPilotScheduler.$pJ);DayPilot.re(document,'mousedown',DayPilotScheduler.$pK);DayPilot.re(document,'touchend',DayPilotScheduler.$pL);DayPilot.reNonPassive(document,"touchmove",DayPilotScheduler.$pM);DayPilot.re(window,'keyup',DayPilotScheduler.$pN);};DayPilot.re(window,'resize',this.$kP);DayPilot.re(document,'keydown',this.$kQ);DayPilot.re(document,'keyup',this.$kR);};this.$pO=function(){this.nav.scroll.root=this;this.nav.scroll.onscroll=this.$h8;$A.$mz=this.nav.scroll.scrollLeft;$A.$mx=this.nav.scroll.scrollTop;if(this.divNorth){$A.$pP=this.divNorth.clientWidth;}};this.$h5=function(){if(!this.nav.state){return;};var $cd={};$cd.scrollX=this.nav.scroll.scrollLeft;$cd.scrollY=this.nav.scroll.scrollTop;var $08=$A.$kp($cd.scrollX,$cd.scrollY);var $23=$A.$kq($08);var $2r=$A.$kr($08);$cd.rangeStart=$23.start;$cd.rangeEnd=$23.end;$cd.resources=$2r;if(this.syncResourceTree){$cd.tree=this.$ks();};this.nav.state.value=DayPilot.he(JSON.stringify($cd));};this.$h1=function(){if(!this.separators){return;};for(var i=0;i<this.separators.length;i++){this.$pQ(i);}};this.$pR={};this.$pR.step=300;this.$pR.delay=10;this.$pR.mode="display";this.$pR.layers=false;this.$mC=function($U){if($A.$gl){$9b.$pS($U);return;};var $ce=true;var $9e=0;for(var j=0;j<$U.lines.length;j++){var $14=$U.lines[j];$14.height=0;$14.top=$9e;for(var k=0;k<$14.length;k++){var e=$14[k];if(!e.part.top||$ce){e.part.line=j;if(!e.part.height){e.part.height=$U.eventHeight;};var $9q=e.part.$nV();if($9q>$14.height){$14.height=$9q;};e.part.top=$9e+$U.marginTop;var $3p=$A.eventVersionPosition==="Above";if($A.eventVersionsEnabled&&!$v(e.versions).isEmpty()){var $9p=e.cache||e.data;var $0M=$9p.versions.length;var top=e.part.top;if(!$3p){top+=e.part.height+$A.eventVersionMargin;};$v($9p.versions).forEach(function($79,i){if(!e.versions[i]){return;};var offset=i*($A.eventVersionHeight+$A.eventVersionMargin);e.versions[i].top=top+offset;if($3p){e.part.top+=$A.eventVersionHeight;e.part.top+=$A.eventVersionMargin;}});};e.part.right=e.part.left+e.part.width;e.part.fullTop=$U.top+e.part.top;e.part.fullBottom=e.part.fullTop+e.part.height;}};$9e+=($14.height||$U.eventHeight)*$U.eventStackingLineHeight/100;}};var $9b={};$9b.$lJ=function($U){$U.evColumns=$v($A.itline).map(function($0e,i){return{"events":$v()};});$v($U.events).forEach(function(e){var $09=e.start();var $0e=$A.$if($09);$U.evColumns[$0e.i].events.push(e);});};$9b.$nU=function(){var $bN=$A.$gm;var $3k=0;$v($A.rowlist).forEach(function($U){var $0A=0;$U.evColumns.forEach(function($2a,i){var $0e=$A.itline[i];var top=$A.rowMarginTop;$2a.events.forEach(function(e){e.part.left=$0e.left;e.part.width=$0e.width;e.part.top=top;if(!e.part.height){if($bN){e.part.height=$9b.$pT(e)+$0B.$mG();}else{e.part.height=$U.eventHeight;}};top+=e.part.height+$A.eventMarginBottom;});$2a.height=top;if($2a.height>$0A){$0A=$2a.height;}});$U.maxColumnHeight=$0A;$U.top=$3k;var $cf=$U.height;$U.height=$U.getHeight();if($0A>$A.rowMarginTop){$U.height=$0A+$A.rowMarginBottom;};if($cf!==$U.height){$A.$jB=true;};$3k+=$U.height;});$A.$gq=$3k;};$9b.$pT=function(e){var $0F=e.client.html();var $0r=$k();$0r.style.position="absolute";$0r.style.top="-2000px";$0r.style.left="-2000px";$0r.style.width=e.part.width+"px";$0r.className=$A.$hy($0w.event);var $0u=$k();$0u.className=$A.$hy($0w.eventInner);$0u.innerHTML=$0F;$0u.style.position='static';$0u.style.overflow='auto';$0r.appendChild($0u);var parent=$A.divEvents;parent.appendChild($0r);var $0g=$0r.offsetHeight;parent.removeChild($0r);return $0g;};$9b.$pS=function($U){$9b.$nU();};$9b.$pU=function(){$v($A.rowlist).forEach(function($U){$9b.$pV($U);});};$9b.$h2=function(){$9b.$pU();$9b.$pW();$A.$gT();$A.$gV();};$9b.$pW=function(){if(!$A.$gm){return;};var $cg=false;$v($A.elements.events).forEach(function($0r){var $0u=$0r.firstChild;var $ch=$0u.offsetHeight-$0u.clientHeight+$0r.offsetHeight-$0r.clientHeight;var $ci=$0u.scrollHeight+$ch;var $bR=$0r.event.part.height;$0r.event.part.height=$ci;if($bR!==$ci){$cg=true;}});if($cg){$A.$gX();$9b.$nU();$9b.$pU();$A.$gW();$A.$h0();}};$9b.$pV=function($U){$U.evColumns.forEach(function($2a,i){$2a.events.forEach(function(e){$A.$lE(e);});});};this.$jd=null;this.$h2=function($cj){if($A.$gp){return;};if($A.$gl){$9b.$h2();return;};var $03=this.$pR.step;var $ck=this.$pR.layers;if(this.$pR.mode==='display'){this.divEvents.style.display='none';}else if(this.$pR.mode==='visibility'){this.divEvents.style.visibility='hidden';};this.divEvents.setAttribute("role","region");this.divEvents.setAttribute("aria-label","scheduler events");var $cl=this.dynamicEventRendering==='Progressive';var $08=this.$ho();var top=$08.pixels.top;var $0l=$08.pixels.bottom;var $cm=$A.allowMultiMove||$A.allowMultiResize;var $2M=$A.rowlist.filter(function($U){var $3k=$U.top-$A.dynamicEventRenderingMargin;var $cn=$3k+$U.height+2*$A.dynamicEventRenderingMargin;if($cl&&!$cm&&($0l<=$3k||top>=$cn)){return false;};return true;});if($A.$hi.top.enabled()){$2M=$2M.concat($A.$hi.top.rowlist);};if($A.$hi.bottom.enabled()){$2M=$2M.concat($A.$hi.bottom.rowlist);};$2M.forEach(function($U){$A.$mC($U);var $at=Math.max(0,$U.resource&&$U.resource.maxLines||100000);for(var j=0;j<$U.lines.length;j++){var $14=$U.lines[j];if(j>=$at){continue;};for(var k=0;k<$14.length;k++){var e=$14[k];var $co=$A.$lE(e);if($cj&&$co){$03--;if($03<=0){$A.divEvents.style.visibility='';$A.divEvents.style.display='';$A.$jd=window.setTimeout(function(){$A.$h2($cj);},$A.$pR.delay);return;}}}}});this.divEvents.style.display='';if(!$v($A.multiselect.$iv).isEmpty()){$A.multiselect.redraw();};this.$hs();$1Q.$j8();this.$lF();};this.$jD=function($cp,$2V){var $2K=$A.$kT($2V);var $U=$2K.rowlist[$cp];if($A.$gl){$9b.$pV($U);return;};this.$hj.insertBefore(this.divEvents,this.divSeparatorsAbove);$A.$gt.$gw.push(this.divEvents);this.$mC($U);for(var j=0;j<$U.lines.length;j++){var $14=$U.lines[j];for(var k=0;k<$14.length;k++){var e=$14[k];this.$lE(e);}};this.divEvents.style.display='';};this.$pX=function(){var $ck=$A.$gt.$gw;var $cq=[];$ck.forEach(function($3o){if($3o.childNodes.length===0){$3o.remove();}else{$cq.push($3o);}});$A.$gt.$gw=$cq;};this.$gX=function(){if(this.elements.events){var length=this.elements.events.length;for(var i=0;i<length;i++){var $0r=this.elements.events[i];this.$lD($0r);}};this.elements.events=[];};this.$jC=function($cp,$2V){$2V=$2V||"main";if(this.elements.events){var length=this.elements.events.length;var $cr=[];for(var i=0;i<length;i++){var $0r=this.elements.events[i];var e=$0r.event;if(e.part.dayIndex===$cp&&e.part.grid===$2V){this.$lD($0r);$cr.push(i);}};for(var i=$cr.length-1;i>=0;i--){this.elements.events.splice($cr[i],1);}}};this.$lD=function($0r){var $2O=$0r.domArgs;$0r.domArgs=null;if($2O&&typeof $A.onDomRemoveEvent==="function"){$A.onDomRemoveEvent($2O);};if($2O&&typeof $A.onBeforeEventDomRemove==="function"){$A.onBeforeEventDomRemove($2O);};if($2O&&typeof $A.onBeforeEventDomAdd==="function"&&$A.$hh.reactDOM){var $2g=$2O&&$2O.$kV;if($2g){var $2P=$s($2O.element);if($2P){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$kW($2g);}}};if($0r.parentNode){$0r.parentNode.removeChild($0r);};$0r.onclick=null;$0r.oncontextmenu=null;$0r.onmouseover=null;$0r.onmouseout=null;$0r.onmousemove=null;$0r.onmousedown=null;$0r.ondblclick=null;if($0r.event){$0r.event.rendered=null;$0r.event=null;};if($0r.related){$x($0r.related);}};this.$pY=function($0r){if($0r.event){$0r.event.rendered=false;};$0r.onclick=null;$0r.onmousedown=null;$0r.event=null;if($0r.parentNode){$0r.parentNode.removeChild($0r);}};this.$pZ=function(){if(this.dynamicEventRendering!=='Progressive'){return;};var $cs=$A.dynamicEventRenderingCacheSweeping;if(!$cs){return;};var $ct=$A.dynamicEventRenderingCacheSize||0;this.divEvents.style.display='none';var $cu=[];var $cv=0;var length=this.elements.events.length;for(var i=length-1;i>=0;i--){var $0r=this.elements.events[i];if(this.$q0($0r.event)){if($ct>0){$ct--;$cu.unshift($0r);}else{this.$lD($0r);$cv++;}}else{$cu.unshift($0r);}};this.elements.events=$cu;this.divEvents.style.display='';};this.$q1=function($ct){var $cu=[];var $cv=0;var $08=this.$ho();var length=this.elements.cells.length;for(var i=length-1;i>=0;i--){var $0r=this.elements.cells[i];var $cw=($08.xStart<$0r.coords.x&&$0r.coords.x<=$08.xEnd)&&($08.yStart<$0r.coords.y&&$0r.coords.y<=$08.yEnd);if(!$cw){if($ct>0){$ct--;$cu.unshift($0r);}else{this.$lQ($0r);$cv++;}}else{$cu.unshift($0r);}}};this.$lQ=function($0r){if(!$0r){return;};if(!$0r.coords){return;};var x=$0r.coords.x;var y=$0r.coords.y;var $2V=$0r.coords.grid;(function DomRemove(){var $2O=$0r.domArgs;$0r.domArgs=null;if($2O&&typeof $A.onBeforeCellDomRemove==="function"){$A.onBeforeCellDomRemove($2O);};if($2O&&typeof $A.onBeforeCellDomAdd==="function"&&$A.$hh.reactDOM){var $2g=$2O&&$2O.$kV;if($2g){var $2P=$s($2O.element);if($2P){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$kW($2g);}}}})();DayPilot.rfa($A.elements.cells,$0r);$x($0r);$A.$gt.cells[$2V+"_"+x+"_"+y]=null;};this.$gY=function(){if(this.elements.separators){for(var i=0;i<this.elements.separators.length;i++){var $0r=this.elements.separators[i];$x($0r);}};this.elements.separators=[];};this.$q2=function(){var $cl=this.dynamicEventRendering==='Progressive';if(!this.nav.scroll){return false;};var top=this.nav.scroll.scrollTop;var $0l=top+this.nav.scroll.clientHeight;for(var i=0;i<this.rowlist.length;i++){var $U=this.rowlist[i];var $3k=$U.top;var $cn=$U.top+$U.height;if($cl&&($0l<=$3k||top>=$cn)){continue;};for(var j=0;j<$U.lines.length;j++){var $14=$U.lines[j];for(var k=0;k<$14.length;k++){var e=$14[k];if(this.$q3(e)){return true;}}}};return false;};this.$q3=function($I){if($I.rendered){return false;};var $cl=this.dynamicEventRendering==='Progressive';var $0c=this.nav.scroll.scrollLeft;var $0d=$0c+this.nav.scroll.clientWidth;var $cx=$I.part.left;var $cy=$I.part.left+$I.part.width;if($cl&&($0d<=$cx||$0c>=$cy)){return false;};return true;};this.$q0=function(ev){if(!ev.rendered){return true;};var $08=this.$ho();var top=$08.pixels.top;var $0l=$08.pixels.bottom;var $0c=$08.pixels.left-this.dynamicEventRenderingMargin;var $0d=$08.pixels.right+this.dynamicEventRenderingMargin;var $cx=ev.part.left;var $cy=ev.part.right;var $cz=ev.part.fullTop;var $cA=ev.part.fullBottom;if($0d<=$cx||$0c>=$cy){return true;};if($0l<=$cz||top>=$cA){return true;};return false;};this.$nT=$v();this.$q4=function($9f){if($9f.rendered){return false;};var $U=$9f.row;if($U.hidden){return false;};var $2K=$A.$hi[$U.grid];var $0c=$9f.min;var $Y=$9f.max-$9f.min;var $0g=$A.eventHeight;var top=$9f.row.top;if(typeof $U.forcedHeight==="number"){$0g=Math.min($U.forcedHeight,$A.eventHeight);};var $0r=$k();$0r.style.position='absolute';$0r.style.left=$0c+'px';$0r.style.top=top+'px';$0r.style.width=$Y+'px';$0r.style.height=$0g+'px';$0r.className=$A.$hy("_event_group");$0r.style.cursor="pointer";var $G={};$G.group={};$G.group.count=$9f.events.length;$G.group.events=$v($9f.events,true);$G.group.html="&#x1F7A7; "+$9f.events.length+" events";$G.group.bubbleHtml=null;if(typeof $A.onBeforeGroupRender==="function"){$A.onBeforeGroupRender($G);};var $0u=$k();$0u.innerHTML=$G.group.html;$0r.appendChild($0u);$0r.onmousedown=function(ev){ev.cancelBubble=true;};$0r.onclick=function(ev){var $9f=$0r.event;$9f.expanded=true;$A.$pY($0r);var $cB=$y($A.elements.events,$0r);if($cB!==-1){$A.elements.events.splice($cB,1);};var $0n=$A.$nT;$v($9f.events).forEach(function(e){$0n.push(e.id());});if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();DayPilot.Bubble.cancelShowing();};$A.$iM();$A.$iN([$U]);$A.$gV();$A.$h2();ev.cancelBubble=true;};$0r.onmousemove=function(ev){if($A.groupBubble){var $cC={};$cC.calendar=$A;$cC.type="Group";$cC.object={"events":$v($9f.events,true)};$cC.staticHTML=$G.group.bubbleHtml;$cC.div=$0r;$cC.toJSON=function(){var $B={};$B.uid=$A.uniqueID;$B.type="Group";$B.object=$cC.object;return $B;};$A.groupBubble.showGroup($cC);}};$0r.onmouseout=function(ev){if($A.groupBubble){$A.groupBubble.hideOnMouseOut();}};$9f.part={};$9f.part.left=$0c;$9f.part.width=$Y;$9f.part.height=$A.eventHeight;$9f.part.dayIndex=$y($2K.rowlist,$9f.row);$9f.part.top=0;$9f.part.isBlock=true;$9f.part.grid=$9f.row.grid;$9f.client={};$9f.client.html=function(){return $G.group.html;};$9f.data={};$0r.event=$9f;this.elements.events.push($0r);$2K.divEvents.appendChild($0r);$9f.rendered=true;return true;};this.$lE=function(e,$z){$z=$z||{};var $cD=$z.forced;if(e.rendered){return false;};if($A.groupConcurrentEvents){var $9f=e.part.block;if($9f.events.length>1&&!$9f.expanded){return $A.$q4($9f);}};var $cl=this.dynamicEventRendering==='Progressive';var $cp=e.part.dayIndex;var $2V=e.part.grid||"main";var $2K=$A.$hi[$2V];var $bZ=$2K.divEvents;var $2M=$2K.rowlist;var $U=$2M[$cp];if($U.hidden){return false;};var $at=Math.max(0,$U.resource.maxLines||100000);if(e.part.line>=$at){return false;};var $3k=$U.top;var $08=this.$ho();var $0c=$08.pixels.left-this.dynamicEventRenderingMargin;var $0d=$08.pixels.right+this.dynamicEventRenderingMargin;var top=$08.pixels.top;var $0l=$08.pixels.bottom;var $cx=e.part.left;var $cy=e.part.left+e.part.width;var $cz=e.part.top+$3k;var $cA=$cz+e.part.height;var $cE=$A.multiselect.$iV(e);var $cF=$0d<=$cx||$0c>=$cy;var $cG=$2V==="main"&&($0l<=$cz||top>=$cA);if(!$cD&&!$cE&&$cl&&($cF||$cG)){return false;};var $4b=e.data.type==="Milestone";var $Y=e.part.width;var $0g=e.part.height;var $0x=e.cache||e.data;$Y=$p(0,$Y);$0g=$p(0,$0g);var $0r=$k();$0r.related=[];(function drawVersions(parent){if(!$A.eventVersionsEnabled){return;};$v($0x.versions).forEach(function($79,i){if(!$79){return;};var $cH=e.versions[i];if(!$cH){return;};var $0r=$k();$0r.style.position="absolute";$0r.style.overflow="hidden";$0r.style.left=$cH.left+'px';$0r.style.top=($3k+$cH.top)+'px';$0r.style.width=$cH.width+'px';$0r.style.height=$A.eventVersionHeight+'px';$0r.className=$A.$hy($0w.event)+" "+$A.$hy("_event_previous")+" "+$A.$hy("_event_version");$0r.onmousedown=function(ev){ev.preventDefault();ev.stopPropagation();};if($79.toolTip){$0r.title=$79.toolTip;};if($79.cssClass){$n($0r,$79.cssClass);};var $0u=$k();$0u.setAttribute("unselectable","on");$0u.className=$A.$hy($0w.eventInner);$0u.innerHTML=$A.$hz($79.text,$79.html);if($79.backColor){$0u.style.background=$79.backColor;};if($79.fontColor){$0u.style.color=$79.fontColor;};if($79.borderColor){$0u.style.borderColor=$79.borderColor;};if($79.backImage){$0u.style.backgroundImage="url("+$79.backImage+")";if($79.backRepeat){$0u.style.backgroundRepeat=$79.backRepeat;}};$0r.appendChild($0u);if($cH.continueLeft&&!$4b){$n($0r,$A.$hy("_event_continueleft"));};if($cH.continueRight&&!$4b){$n($0r,$A.$hy("_event_continueright"));};var $6O=$A.durationBarVisible&&!$79.barHidden;var $Y=$cH.width;if($6O&&$Y>0){var $6S=100*$cH.barLeft/($Y);var $6T=Math.ceil(100*$cH.barWidth/($Y));if($A.durationBarMode==="PercentComplete"){$6S=0;$6T=$79.complete||0;};var $5e=$k();$5e.setAttribute("unselectable","on");$5e.className=$A.$hy($0w.eventBar);$5e.style.position="absolute";if($79.barBackColor){$5e.style.backgroundColor=$79.barBackColor;};var $cI=$k();$cI.setAttribute("unselectable","on");$cI.className=$A.$hy($0w.eventBarInner);$cI.style.left=$6S+"%";if(0<$6T&&$6T<=1){$cI.style.width="1px";}else{$cI.style.width=$6T+"%";};if($79.barColor){$cI.style.backgroundColor=$79.barColor;};if($79.barImageUrl){$cI.style.backgroundImage="url("+$79.barImageUrl+")";};$5e.appendChild($cI);$0r.appendChild($5e);};if($79.htmlLeft){var $8a=$A.eventHtmlLeftMargin;var $cJ=$k();$cJ.style.position='absolute';$cJ.style.right=-($cH.left-$8a)+'px';$cJ.style.top=($3k+$cH.top)+'px';$cJ.style.height=$A.eventVersionHeight+'px';$cJ.style.boxSizing="border-box";$cJ.innerHTML=$79.htmlLeft;$cJ.className=$A.$hy("_event_left");$cJ.type="divLeft";$cJ.versionPart=$cH;parent.related.push($cJ);$bZ.appendChild($cJ);};if($79.htmlRight){var $8a=$A.eventHtmlRightMargin;var $cK=$k();$cK.style.position='absolute';$cK.style.left=($cH.left+$cH.width+$8a)+'px';$cK.style.top=($3k+$cH.top)+'px';$cK.style.height=$A.eventVersionHeight+'px';$cK.style.boxSizing="border-box";$cK.innerHTML=$79.htmlRight;$cK.className=$A.$hy("_event_right");$cK.type="divRight";$cK.versionPart=$cH;parent.related.push($cK);$bZ.appendChild($cK);};$0r.versionPart=$cH;$0r.type="version";var $0y=DayPilot.Areas.resolvePosition($79.areas,$A,$cH.left,$cH.width);DayPilot.Areas.attach($0r,$79,{"areas":$0y});parent.related.push($0r);$bZ.appendChild($0r);});})($0r);if($0x.htmlLeft){var $8a=$A.eventHtmlLeftMargin;var $cJ=$k();$cJ.style.position='absolute';$cJ.style.right=-(e.part.left-$8a)+'px';$cJ.style.top=($3k+e.part.top)+'px';$cJ.style.height=$A.eventHeight+'px';$cJ.style.boxSizing="border-box";$cJ.innerHTML=$0x.htmlLeft;$cJ.className=$A.$hy("_event_left");$cJ.type="divLeft";$0r.related.push($cJ);$bZ.appendChild($cJ);};if($0x.htmlRight){var $8a=$A.eventHtmlRightMargin;var $cK=$k();$cK.style.position='absolute';$cK.style.left=(e.part.left+e.part.width+$8a)+'px';$cK.style.top=($3k+e.part.top)+'px';$cK.style.height=$A.eventHeight+'px';$cK.style.boxSizing="border-box";$cK.innerHTML=$0x.htmlRight;$cK.className=$A.$hy("_event_right");$cK.type="divRight";$0r.related.push($cK);$bZ.appendChild($cK);};var top=$3k+e.part.top;if($A.treeAnimation){var $cL=typeof $U.forcedHeight==="number"?$U.forcedHeight:$U.height;if(e.part.top+e.part.height>$cL){$0g=Math.max(0,$cL-e.part.top);}};$0r.style.position='absolute';$0r.style.left=(e.part.left+$A.eventMarginLeft)+'px';$0r.style.top=($3k+e.part.top)+'px';$0r.style.width=($Y-$A.eventMarginLeft-$A.eventMarginRight)+'px';$0r.style.height=$0g+'px';if(!$A.eventTextWrappingEnabled){$0r.style.whiteSpace='nowrap';};$0r.style.overflow='hidden';$0r.className=this.$hy($0w.event);if($4b){$n($0r,$A.$hy("_task_milestone"));};if(e.data.type==="Group"){$n($0r,$A.$hy("_task_parent"));$n($0r,$A.$hy("_task_group"));};if($0x.cssClass){$n($0r,$0x.cssClass);};var $cM=true;if($cM&&typeof e.part.line==="number"){$n($0r,this.$hy($0w.eventLine+e.part.line));};$0r.setAttribute("unselectable","on");if(this.showToolTip&&!this.bubble){$0r.title=e.client.toolTip()||"";};$0r.onmousemove=this.$q5;$0r.onmouseout=this.$q6;$0r.onmousedown=this.$q7;$0r.onmouseup=this.$q8;DayPilot.reNonPassive($0r,"touchstart",$2H.$q9);DayPilot.rePassive($0r,"touchmove",$2H.$qa);DayPilot.reNonPassive($0r,"touchend",$2H.$qb);if(e.client.clickEnabled()){$0r.onclick=this.$ig;};if(e.client.doubleClickEnabled()){$0r.ondblclick=this.$iz;};$0r.oncontextmenu=function(ev){if(!$A.allowDefaultContextMenu){ev.preventDefault();}};if(typeof $0x.ariaLabel!=="undefined"){$0r.setAttribute("aria-label",$0x.ariaLabel);}else{$0r.setAttribute("aria-label",$0x.text);};$0r.setAttribute("tabindex","-1");var $cN=[];var $cO=0;var $0u=$k();$0u.setAttribute("unselectable","on");$0u.className=$A.$hy($0w.eventInner);if($0x.backColor){$0u.style.background=$0x.backColor;};if($0x.fontColor==="contrasting"&&$0x.backColor){$0u.style.color=DayPilot.ColorUtil.contrasting($0x.backColor);}else{$0u.style.color=$0x.fontColor;};if($0x.borderColor==="darker"&&$0x.backColor){$0u.style.borderColor=DayPilot.ColorUtil.darker($0x.backColor,2);}else{$0u.style.borderColor=$0x.borderColor;};if($0x.backImage){$0u.style.backgroundImage="url("+$0x.backImage+")";if($0x.backRepeat){$0u.style.backgroundRepeat=$0x.backRepeat;}};$0r.appendChild($0u);var $cP=e.start().getTime()===e.part.start.getTime();var $cQ=e.rawend().getTime()===e.part.end.getTime();if(!$cP&&!$4b){$n($0r,this.$hy("_event_continueleft"));};if(!$cQ&&!$4b){$n($0r,this.$hy("_event_continueright"));};if(e.client.barVisible()&&$Y>0&&!$4b){var $6S=100*e.part.barLeft/($Y);var $6T=Math.ceil(100*e.part.barWidth/($Y));if(this.durationBarMode==="PercentComplete"){$6S=0;$6T=$0x.complete||0;};if($A.durationBarHeight){$0u.style.paddingTop=$A.durationBarHeight+"px";};var $5e=$k();$5e.setAttribute("unselectable","on");$5e.className=this.$hy($0w.eventBar);$5e.style.position="absolute";if($A.durationBarHeight){$5e.style.height=$A.durationBarHeight+"px";};if($0x.barBackColor){$5e.style.backgroundColor=$0x.barBackColor;};var $cI=$k();$cI.setAttribute("unselectable","on");$cI.className=this.$hy($0w.eventBarInner);$cI.style.left=$6S+"%";if($A.durationBarHeight){$cI.style.height=$A.durationBarHeight+"px";};if(0<$6T&&$6T<=1){$cI.style.width="1px";}else{$cI.style.width=$6T+"%";};if($0x.barColor){$cI.style.backgroundColor=$0x.barColor;};if($0x.barImageUrl){$cI.style.backgroundImage="url("+$0x.barImageUrl+")";};$5e.appendChild($cI);$0r.appendChild($5e);};$0r.row=$cp;if($0x.areas){var $0y=DayPilot.Areas.resolvePosition($0x.areas,$A,e.part.left,e.part.width);$0y=$0y.filter(function($08){return DayPilot.Areas.isVisible($08);});$0y.forEach(function($08){var a=DayPilot.Areas.createArea($0r,e,$08);$0r.appendChild(a);});};$0r.event=e;if($cE){$A.multiselect.add($0r.event,true);$A.multiselect.$iU($0r);};(function domAdd(){if(typeof $A.onBeforeEventDomAdd!=="function"&&typeof $A.onBeforeEventDomRemove!=="function"){if(!$4b){$0u.innerHTML=e.client.innerHTML();};return;};var $G={};$G.control=$A;$G.e=e;$G.element=null;$0r.domArgs=$G;if(typeof $A.onDomAddEvent==="function"){$A.onDomAddEvent($G);};if(typeof $A.onBeforeEventDomAdd==="function"){$A.onBeforeEventDomAdd($G);};if($G.element){var $2g=$0u;if($2g){$G.$kV=$2g;var $8G=$s($G.element);if($8G){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$lN($G.element,$2g);}else{$2g.appendChild($G.element);}}}else if(!$4b){$0u.innerHTML=e.client.innerHTML();}})();this.elements.events.push($0r);$bZ.appendChild($0r);e.rendered=true;if($A.$hb()){if(typeof $A.onAfterEventRender==='function'){var $G={};$G.e=$0r.event;$G.div=$0r;$A.onAfterEventRender($G);}}else{if($A.afterEventRender){$A.afterEventRender($0r.event,$0r);}};return true;};this.$hz=function($0C,$0F){if($A.$jh.$qc()){return DayPilot.Util.escapeTextHtml($0C,$0F);};if(!$q($0F)){return $0F;};if($q($0C)){return "";};return $0C;};this.$hb=function(){return $A.api===2;};this.$jE=function(){for(var i=0;i<this.elements.events.length;i++){var $0r=this.elements.events[i];var event=$0r.event;var $cp=event.part.dayIndex;var $2K=$A.$kT(event.part.grid);var $U=$2K.rowlist[$cp];var $3k=$U.top;var top=$3k+event.part.top;var $cL=typeof $U.forcedHeight==="number"?$U.forcedHeight:$U.height;var $0g=event.part.height;var $cR=false;if(event.part.top+event.part.height>$cL){$0g=Math.max(0,$cL-event.part.top);$cR=true;};$0r.style.top=top+'px';$0r.style.height=$0g+"px";$v($0r.related).filter(function($0p){return !!$0p.versionPart;}).forEach(function($cS){var $cH=$cS.versionPart;$cS.style.top=($3k+$cH.top)+'px';});$v($0r.related).filter(function($0p){return !$0p.versionPart&&($0p.type==="divLeft"||$0p.type==="divRight");}).forEach(function($cS){$cS.style.top=top+'px';});}};this.$j2=function(e){if(!e){return null;};for(var i=0;i<$A.elements.events.length;i++){var $0r=$A.elements.events[i];if($A.$j5($0r.event,e)){return $0r;}};return null;};this.$ls=function(e){var ev=$A.events.$lh(e.data);if(!ev){return null;};var $U=$A.rowlist[ev.part.dayIndex];$A.$mC($U);$A.$lE(ev,{"forced":true});return $A.$j2(ev);};this.$q6=function(ev){var $0r=this;DayPilot.Areas.hideAreas($0r,ev);if($0r.active){return;};$m($0r,$A.$hy("_event_hover"));$A.$qd($0r);if(!$3d.source){$1Q.$lf();};if($A.bubble&&$A.eventHoverHandling==='Bubble'){$A.bubble.hideOnMouseOut();}};this.$qe=function($0r){var $G={};$G.div=$0r;$G.e=$0r.event;if(typeof this.onEventMouseOver==="function"){this.onEventMouseOver($G);};if(typeof this.onEventMouseEnter==="function"){this.onEventMouseEnter($G);}};this.$qd=function($0r){var $G={};$G.div=$0r;$G.e=$0r.event;if(typeof this.onEventMouseOut==="function"){this.onEventMouseOut($G);};if(typeof this.onEventMouseLeave==="function"){this.onEventMouseLeave($G);}};this.$qf=function($0r){var $U=$0r.row;var $G={};$G.div=$0r;$G.row=$A.$k2($U);if(typeof this.onRowMouseOver==="function"){this.onRowMouseOver($G);}};this.$qg=function($0r){var $U=$0r.row;var $G={};$G.div=$0r;$G.row=$A.$k2($U);if(typeof this.onRowMouseOut==="function"){this.onRowMouseOut($G);}};this.$q5=function(ev){if($A.cellBubble){$A.cellBubble.delayedHide();};var $0r=this;while($0r&&!$0r.event){$0r=$0r.parentNode;};var e=$0r.event;$A.$qh($0r,ev);var $cT=$0r.event.cache?$0r.event.cache.deleteDisabled:$0r.event.data.deleteDisabled;if(!$0r.active){var $0y=[];if($A.eventDeleteHandling!=="Disabled"&&!$cT){var top=$A.durationBarVisible?$0B.$mG():0;$0y.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":top+2,"right":2,"css":$A.$hy($0w.eventDelete),"js":function(e){$A.$it(e);}});};var $0n=$0r.event.cache?$0r.event.cache.areas:$0r.event.data.areas;if($0n&&$0n.length>0){$0n=DayPilot.Areas.resolvePosition($0n,$A,e.part.left,e.part.width);$0y=$0y.concat($0n);};DayPilot.Areas.showAreas($0r,$0r.event,null,$0y);$n($0r,$A.$hy("_event_hover"));$A.$qe($0r);};if($A.linkCreateHandling!=="Disabled"&&!$3d.source){$1Q.$la();$1Q.$jo();if($A.$pF()){$1Q.$l8($0r);}};$A.$ip(ev);$A.coords.insideEvent=$0r.event;};this.$ii={};this.$q8=function(ev){var $7t=$A.$ii;var $cU=$t(ev);if($cU.right){$A.$iy.call(this,ev);return;};if(!$A.ionicEventClickFix){return;};var $cV=$7t.$qi;if(!$cV){return;};var $cW=DayPilot.mc(ev);if($cV.x===$cW.x&&$cV.y===$cW.y){$A.$ig.call(this,ev);ev.preventDefault();ev.stopPropagation();}};this.$q7=function(ev){$A.$p7();if(typeof DayPilot.Bubble!=='undefined'){DayPilot.Bubble.hideActive();DayPilot.Bubble.cancelShowing();};$A.$ip(ev);var $cU=$t(ev);ev.preventDefault();ev.stopPropagation();if($cU.left){var $6z=ev.shiftKey;if($0B.$is()!=="Disabled"&&$6z){$1q.start();return false;};if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){DayPilotScheduler.$ih=true;DayPilotScheduler.$m3=this;DayPilotScheduler.$mn=this.event;DayPilotScheduler.$qi=DayPilot.mc(ev);$j().style.cursor=this.style.cursor;$1Q.$jo();}else if((this.style.cursor==='move')||($A.moveBy==='Full'&&this.event.client.moveEnabled())){$A.$ou(this,ev);}};if(DayPilot.Menu&&DayPilot.Menu.active){DayPilot.Menu.active.hide();DayPilot.Menu.active=null;}};this.$ou=function($0r,ev){var $7t=$A.$ii;$A.$ip(ev);$7t.$qj=true;$7t.$ii=$0r;$7t.$lY=$0r.event;$7t.$qi=DayPilot.mc(ev);$7t.$lX=DayPilot.mo3($0r,ev).x;$7t.$m2=$A.getDate($A.coords.x,true);$1Q.$jo();};this.$nx={};var $2H=$A.$nx;if(typeof $u.touch==="undefined"){$u.touch={};};$u.touch.active=false;$u.touch.start=false;$2H.$in=[];$2H.relativeCoords=function(ev){return $2H.$qk(ev);};$2H.startResizing=function($0r,$4T){$2H.$ql($0r,$4T);};$2H.startMoving=function($0r,$2T){$2H.$ou($0r,$2T);};$2H.$q9=function(ev){if($u.touch.active||$u.touch.start){return;};if(DayPilot.Menu){DayPilot.Menu.touchPosition(ev);};ev.stopPropagation();$2H.$qm();$u.touch.start=true;$u.touch.active=false;var $0r=this;$A.coords=$2H.$qk(ev);var $cX=$A.tapAndHoldTimeout;$2H.$in.push(window.setTimeout(function(){$u.touch.active=true;$u.touch.start=false;ev.preventDefault();var e=$0r.event;switch($A.eventTapAndHoldHandling){case "Move":if(e.client.moveEnabled()){var $2T=touchMousePos(ev);$2H.$ou($0r,$2T);};break;case "ContextMenu":if(DayPilot.Menu){DayPilot.Menu.touchPosition(ev);};var $1p=e.client.contextMenu();if($1p){$1p.show(e);}else{if($A.contextMenu){$A.contextMenu.show(e);}};break;}},$cX));};$2H.$qa=function(ev){$2H.$qm();$u.touch.start=false;};$2H.$qb=function(ev){if(DayPilot.Util.isMouseEvent(ev)){return;};$2H.$qm();if($u.touch.start){$u.touch.start=false;ev.preventDefault();ev.stopPropagation();var $0r=this;window.setTimeout(function(){$A.$im($0r,ev);});};window.setTimeout(function(){$u.touch.start=false;$u.touch.active=false;},500);};$2H.$kJ=function(ev){if($u.touch.active||$u.touch.start){return;};if(ev.touches.length>1){return;};if($A.timeRangeSelectedHandling==='Disabled'){return;};$2H.$qm();$u.touch.start=true;$u.touch.active=false;var $cX=$A.tapAndHoldTimeout;$2H.$in.push(window.setTimeout(function(){$u.touch.active=true;$u.touch.start=false;ev.preventDefault();$A.coords=$2H.$qk(ev);var $S=$A.$qn($A.coords);if($S){$A.$qo(ev);}else{$2H.$m4=$A.$qp();}},$cX));var $cY=true;if($cY){$A.coords=$2H.$qk(ev);}};$2H.$kK=function(ev){$2H.$qm();$u.touch.start=false;if(DayPilotScheduler.$m3){ev.preventDefault();$2H.$qq();return;};if($u.touch.active){ev.preventDefault();$A.coords=$2H.$qk(ev);if(DayPilotScheduler.$ii){$2H.$qr();return;};if($2H.$m4){var $23=$2H.$m4;$23.end={x:Math.floor($A.coords.x/$A.cellWidth),"time":$A.getDate($A.coords.x,true)};$A.$jW($23);}}};$2H.debug=function($g){};$2H.$kL=function(ev){$2H.$qm();var $cY=true;if($u.touch.active){if(DayPilotScheduler.$ii){ev.preventDefault();var e=DayPilotScheduler.$lY;if($A!==DayPilotScheduler.$mY.calendar){return;};var $0S=DayPilotScheduler.$mY.start;var $1y=DayPilotScheduler.$mY.end;var $1G=($A.viewType!=='Days')?DayPilotScheduler.$mY.row.id:null;var external=DayPilotScheduler.$n3&&e.part.external;var $3W=DayPilotScheduler.$mY.overlapping;var $cZ=!DayPilotScheduler.$mY.allowed;$m(DayPilotScheduler.$ii,$A.$hy($A.$qs.eventMovingSource));$x(DayPilotScheduler.$mY);$A.$n8();DayPilotScheduler.$mY.calendar=null;$j().style.cursor='';DayPilotScheduler.$ii=null;DayPilotScheduler.$lY=null;DayPilotScheduler.$mY=null;$A.$mW.clear();if($3W||$cZ||$A.$mW.forbidden||$A.$mW.invalid){return;};$A.$jK(e,$0S,$1y,$1G,external);};if($2H.$m4){var $23=$2H.$m4;$2H.$m4=null;var $2U=$A.elements.range2;if($2U&&$2U.overlapping){$A.clearSelection();}else{$A.$jV=$23;$A.$jR($23);}}}else if($u.touch.start&&$cY){if($A.coords.x<$A.getScrollX()){return;};var $23=$A.$qp();$A.$jW($23);var $2U=$A.elements.range2;if($2U&&$2U.overlapping){$A.clearSelection();}else{$A.$jV=$23;$A.$jR($23);}};window.setTimeout(function(){$u.touch.start=false;$u.touch.active=false;},500);};$2H.$qm=function(){for(var i=0;i<$2H.$in.length;i++){clearTimeout($2H.$in[i]);};$2H.$in=[];};$2H.$qk=function(ev){var $7p=$A.$hj;var t=ev.touches?ev.touches[0]:ev;var x=t.pageX;var y=t.pageY;var $2T=offset(x,y,$7p);$2T.grid="main";if($A.$hi.top.enabled()){var top=$A.$hi.top;var $d0=offset(x,y,top.divCells);if($d0.y>0&&$d0.y<=top.height){$2T=$d0;$2T.grid="top";}};if($A.$hi.bottom.enabled()){var $0l=$A.$hi.bottom;var $d1=offset(x,y,$0l.divCells);if($d1.y>0&&$d1.y<=top.height){$2T=$d1;$2T.grid="bottom";}};function offset(x,y,$0r){var $d2=DayPilot.abs($0r);var $2T={x:x-$d2.x,y:y-$d2.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $2T;};return $2T;};$2H.$ou=function($0r,$2T){DayPilotScheduler.$ii=$0r;DayPilotScheduler.$lY=$0r.event;DayPilotScheduler.$qi=$2T;var $d3=DayPilot.abs($0r);DayPilotScheduler.$lX=$2T.x-$d3.x;DayPilotScheduler.$m2=$A.getDate($A.coords.x,true);DayPilotScheduler.$mY=$A.$kX($0r);$A.$mj();};$2H.$ql=function($0r,$4T){DayPilotScheduler.$m3=$0r;DayPilotScheduler.$mn=$0r.event;DayPilotScheduler.$m3.dpBorder=$4T;if(!DayPilotScheduler.$mm){DayPilotScheduler.$mm=$A.$kX($0r);};$A.$mZ();};$2H.$qq=function(){if(!DayPilotScheduler.$mm){var mv=DayPilotScheduler.$m3;DayPilotScheduler.$mm=$A.$kX(mv);};$A.$mZ();var $2T={x:$A.coords.x,y:$A.coords.y,"grid":$A.coords.grid};$A.$qt($2T);};$2H.$qr=function(){if(DayPilotScheduler.$mY&&DayPilotScheduler.$mY.calendar!==$A){$A.$n8();};if(!DayPilotScheduler.$mY){var mv=DayPilotScheduler.$ii;DayPilotScheduler.$mY=$A.$kX(mv);};var $2g=DayPilotScheduler.$mY.calendar;$2g.$mj();var $2T={x:$A.coords.x,y:$A.coords.y,"grid":$A.coords.grid};$A.$qt($2T);};$2H.$ny=function(ev){var $8M=this.row;var $U=$A.$k2($8M);if($u.touch.active||$u.touch.start){return;};if(ev.touches.length>1){return;};$2H.$qm();$u.touch.start=true;$u.touch.active=false;var $cX=$A.tapAndHoldTimeout;$2H.$in.push(window.setTimeout(function(){$u.touch.active=true;$u.touch.start=false;ev.preventDefault();if($A.contextMenuResource){$A.contextMenuResource.show($U);}},$cX));var $cY=true;if($cY){$A.coords=$2H.$qk(ev);}};$2H.$nz=function(ev){if($u.touch.active){$u.touch.start=false;ev.preventDefault();ev.stopPropagation();};window.setTimeout(function(){$u.touch.start=false;$u.touch.active=false;},500);};this.$qh=function($0r,ev){var $d4=this.eventResizeMargin;var $d5=this.eventMoveMargin;var $2Q=$0r;if(typeof(DayPilotScheduler)==='undefined'){return;};var offset=DayPilot.mo3($0r,ev);if(!offset){return;};$A.eventOffset=offset;if(DayPilotScheduler.$m3){return;};if(DayPilotScheduler.$ii){return;};var $d6=$2Q.event.part.start.toString()===$2Q.event.start().toString();var $d7=$2Q.event.part.end.toString()===$2Q.event.rawend().toString();if($A.moveBy==='Top'&&offset.y<=$d5&&$2Q.event.client.moveEnabled()&&$A.eventMoveHandling!=='Disabled'){$0r.style.cursor='move';}else if(($A.moveBy==='Top'||$A.moveBy==='Full')&&offset.x<=$d4&&$2Q.event.client.resizeEnabled()&&$A.eventResizeHandling!=='Disabled'){if($d6){$0r.style.cursor="w-resize";$0r.dpBorder='left';}else{$0r.style.cursor='not-allowed';}}else if($A.moveBy==='Left'&&offset.x<=$d5&&$2Q.event.client.moveEnabled()&&$A.eventMoveHandling!=='Disabled'){$0r.style.cursor="move";}else if($0r.offsetWidth-offset.x<=$d4&&$2Q.event.client.resizeEnabled()&&$A.eventResizeHandling!=='Disabled'){if($d7){$0r.style.cursor="e-resize";$0r.dpBorder='right';}else{$0r.style.cursor='not-allowed';}}else if(!DayPilotScheduler.$m3&&!DayPilotScheduler.$ii){if($2Q.event.client.clickEnabled()&&$A.eventClickHandling!=='Disabled'){$0r.style.cursor='pointer';}else{$0r.style.cursor='default';}};if(typeof(DayPilot.Bubble)!=='undefined'&&$A.bubble&&$A.eventHoverHandling==='Bubble'){if($0r.style.cursor==='default'||$0r.style.cursor==='pointer'){var $d8=this.$qu&&offset.x===this.$qu.x&&offset.y===this.$qu.y;var $d8=false;if(!$d8){this.$qu=offset;$A.bubble.showEvent($0r.event);}}else{}}};this.$my=function(){if(this.viewType!=='Days'){return this.itline.length;}else{return Math.floor(24*60/this.cellDuration);}};this.$jT=function($23){var $23=$23||DayPilotScheduler.$m4||$A.$jV;if(!$23){return null;};var $2K=$A.$kT($23.start.grid);var $U=$2K.rowlist[$23.start.y];if(!$U){return null;};var r=$23.$qv?$23.$qv:$23;var $d9=r.end.time>r.start.time;var $22=$U.id;var $0h=$d9?r.start.x:r.end.x;var $0i=($d9?r.end.x:r.start.x);var $27=$U.start.getTime()-this.$i1().getTime();var $4w=$A.snapToGrid&&$A.snapToGridTimeRangeSelecting;if($23.forceSnap){$4w=true;};var $09,end;if($4w){$09=this.itline[$0h].start.addTime($27);end=this.itline[$0i].end.addTime($27);}else{if($d9){$09=r.start.time;end=r.end.time;}else{$09=r.end.time;end=r.start.time;}};var $24=new DayPilot.Selection($09,end,$22,$A);$24.allowed=!$23.div||!$23.div.overlapping;return $24;};this.$qw=function($2Q){var $da=$2Q.parentNode;var $7I=$A.eventEditMinWidth;var $0C=($2Q.event.text()||"").trim();var $db=document.createElement('textarea');$db.style.position='absolute';$db.style.width=(($2Q.offsetWidth<$7I)?$7I:($2Q.offsetWidth-2))+'px';$db.style.height=($2Q.offsetHeight-2)+'px';$db.style.fontFamily=DayPilot.gs($2Q,'fontFamily')||DayPilot.gs($2Q,'font-family');$db.style.fontSize=DayPilot.gs($2Q,'fontSize')||DayPilot.gs($2Q,'font-size');$db.style.left=$2Q.offsetLeft+'px';$db.style.top=$2Q.offsetTop+'px';$db.style.border='1px solid black';$db.style.padding='1px';$db.style.marginTop='0px';$db.style.backgroundColor='white';$db.value=$0C;$db.event=$2Q.event;$da.appendChild($db);return $db;};this.$qx=function($0r){var $3t=$0f.$hv();$3t.sort(function(a,b){var e1=a.event;var e2=b.event;if(e1.part.dayIndex!==e2.part.dayIndex){return e1.part.dayIndex-e2.part.dayIndex;};if(e1.start()!==e2.start()){return e1.start().getTime()-e2.start().getTime();};return e2.end().getTime()-e1.end().getTime();});var $1K=$3t.indexOf($0r);if($1K===-1){return null;};if($1K+1<$3t.length){return $3t[$1K+1];};return $3t[0];};this.$iq=function($2Q){if(!$2Q){return;};var $3J=DayPilotScheduler.$lu;if($3J){DayPilotScheduler.$lu.blur();};if(!$2Q.event){return;};var $dc=$2Q.event;$1W.$lv();var $db=this.$qw($2Q);DayPilotScheduler.$lu=$db;DayPilot.rePassive($db,DayPilot.touch.start,function(ev){ev.stopPropagation();});$db.onblur=function(){$db.onblur=null;if(DayPilotScheduler.$lu===$db){DayPilotScheduler.$lu=null;};if($db.parentNode){$db.parentNode.removeChild($db);};if(!$2Q.event){return;};var $dd=$2Q.event.text();var $29=$db.value;$A.$ke($2Q.event,$29,$db.canceling);};$db.onmousedown=function(e){e.stopPropagation&&e.stopPropagation();};$db.cancel=function(){if(DayPilotScheduler.$lu){DayPilotScheduler.$lu.canceling=true;DayPilotScheduler.$lu.blur();}};$db.onkeydown=function(e){if(typeof $A.onEventEditKeyDown==="function"){var $G={};$G.e=$2Q.event;$G.element=$db;$G.preventDefault=function(){$G.preventDefault.value=true;};$G.submit=function(){$db.onblur();};$G.cancel=function(){DayPilotScheduler.$lu.cancel();};$G.originalEvent=e;$A.onEventEditKeyDown($G);if($G.preventDefault.value){return;}};var $de=DayPilotScheduler.$lu;var $9X=e.keyCode;if($9X===13){e.stopPropagation();this.onblur();};if($9X===27){$de.cancel();}else if($9X===9&&$A.eventEditTabNext){var $df=$A.$j2($dc);var $4L=$A.$qx($df);if($de){$de.cancel();};if($4L){setTimeout(function(){$A.$iq($4L);},0);};return false;}};if(typeof $A.onAfterEventEditRender==="function"){var $G={};$G.element=$db;$G.e=$2Q.event;$A.onAfterEventEditRender($G);};$db.select();$db.focus();};this.$qy={};this.$qy.resource=(function(){return typeof(DayPilot.Bubble)!=='undefined'?new DayPilot.Bubble():{"showResource":function(){},"hideOnMouseOut":function(){}};})();this.$qy.cell=(function(){return typeof(DayPilot.Bubble)!=='undefined'?new DayPilot.Bubble():{"showResource":function(){},"hideOnMouseOut":function(){}};})();this.$nr=function(ev){var td=this;var $U=td.row;$A.$pl();$A.$qz=true;clearTimeout($A.$qA);$A.$qA=setTimeout(function(){$A.$qz=false;},500);if(typeof(DayPilot.Bubble)!=='undefined'){if($A.cellBubble){};var r=$A.$k2($U);r.div=td;if($A.resourceBubble){$A.resourceBubble.showResource(r);}else if($U.bubbleHtml){$A.$qy.resource.showResource(r);}}};this.$np=function(ev){var $0r=this;if($0r.active){return;};$0r.active=true;$A.$qf($0r);};this.$nq=function(ev){var $0r=this;delete $0r.active;$A.$qg($0r);};this.$ns=function(ev){var td=this;if(typeof(DayPilot.Bubble)!=='undefined'&&$A.resourceBubble){$A.resourceBubble.hideOnMouseOut();}else{$A.$qy.resource.hideOnMouseOut();};var $0r=td.firstChild;DayPilot.Areas.hideAreas($0r,ev);$0r.data=null;};this.$nt=function(ev){if($8F.row){$2q.cancelClick=true;setTimeout(function(){$2q.cancelClick=false;},100);};if($A.$og){$A.$og=false;clearTimeout($A.$oh);$A.$nv.call(this,ev);}};this.$gP=function(){if($A.timeHeaderPosition==="None"){return;};if(!this.timeHeader){return;};this.$gt.timeHeader={};if($A.elements.timeHeader.length>0){$A.$kH();$A.elements.timeHeader=[];};var $8O=$k();$8O.style.position="relative";this.nav.timeHeader=$8O;for(var y=0;y<this.timeHeader.length;y++){var $U=this.timeHeader[y];for(var x=0;x<$U.length;x++){this.$qB(x,y);}};var $dg=this.divNorth;if($dg.childNodes.length===1){$dg.replaceChild($8O,$dg.childNodes[0]);}else{if(DayPilot.browser.ie){if($dg&&$dg.firstChild){var $dh=[];for(var i=0;i<$dg.firstChild.childNodes.length;i++){$dh.push($dg.firstChild.childNodes[i]);};$x($dh);}};$dg.innerHTML='';$dg.appendChild($8O);};var $c7=this.$hC();$dg.style.width=($c7+5000)+"px";if($c7>0){this.divStretch.style.width=($c7)+"px";};$A.$qC();};this.$kF=function(){if(!$A.divCorner){return;};var $2O=$A.divCorner&&$A.divCorner.domArgs;$A.divCorner.domArgs=null;if(!$2O){return;};if(typeof $A.onBeforeCornerDomRemove==="function"){$A.onBeforeCornerDomRemove($2O);};if(typeof $A.onBeforeCornerDomAdd==="function"&&$A.$hh.reactDOM){var $2g=$A.divCorner;if($2g){var $2P=$s($2O.element);if($2P){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$kW($2g);}}}};this.$ia=function(h,$di){var $0F=null;var $as=this.$jh.$i9();var $di=$di||this.cellGroupBy;var $1h=h.start;var to=h.end;switch($di){case 'Minute':$0F=$1h.toString("m");break;case 'Hour':$0F=($A.$jh.$qD()==='Clock12Hours')?$1h.toString("h tt",$as):$1h.toString("H",$as);break;case 'Day':$0F=$1h.toString($as.datePattern);break;case 'Week':$0F=$0B.$qE()===1?$1h.weekNumberISO():$1h.weekNumber();break;case 'Month':$0F=$1h.toString("MMMM yyyy",$as);break;case 'Quarter':$0F="Q"+Math.floor($1h.getMonth()/3+1);break;case 'Year':$0F=$1h.toString("yyyy");break;case 'None':$0F='';break;case 'Cell':var $1l=(h.end.ticks-h.start.ticks)/60000;$0F=this.$qF($1h,$1l);break;default:throw new DayPilot.Exception("Invalid groupBy value: "+$di);};return $0F;};this.$qF=function($09,$1l){var $as=this.$jh.$i9();var $1l=$1l||this.cellDuration;if($1l<1){return $09.toString("ss");}else if($1l<60){return $09.toString("mm");}else if($1l<1440){return $A.$jh.$qD()==='Clock12Hours'?$09.toString("h tt",$as):$09.toString("H",$as);}else if($1l<10080){return $09.toString("d");}else if($1l===10080){return $0B.$qE()===1?$09.weekNumberISO():$09.weekNumber();}else{return $09.toString("MMMM yyyy",$as);}};this.$i5=function($1h){var $5u=this.scale;switch($5u){case "Cell":throw new DayPilot.Exception("Invalid scale: Cell");case "Manual":throw new DayPilot.Exception("Internal error (addScaleSize in Manual mode)");case "CellDuration":return $1h.addMinutes(this.cellDuration);default:return this.$i8($1h,$5u,true);}};this.$i8=function($1h,$di,$dj){var to;var $11;if($dj){var $dk=this.viewType!=='Days'?this.days:1;$11=this.startDate.addDays($dk);if($A.scale==="Manual"){$11=$A.$i7();}}else{$11=$A.$i7();if($A.viewType==="Days"){$11=$A.startDate.addDays(1);}};var $di=$di||this.cellGroupBy;var $4J=60;switch($di){case 'Minute':if($1h.getMinutes()+$1h.getSeconds()+$1h.getMilliseconds()>0){$1h=$1h.getDatePart().addHours($1h.getHours()).addMinutes($1h.getMinutes());};to=$1h.addMinutes(1);break;case 'Hour':if($1h.getHours()+$1h.getMinutes()+$1h.getSeconds()+$1h.getMilliseconds()>0){$1h=$1h.getDatePart().addHours($1h.getHours());};to=$1h.addHours(1);break;case 'Day':to=$1h.getDatePart().addDays(1);break;case 'Week':to=$1h.getDatePart().addDays(1);while(to.dayOfWeek()!==$0B.$qE()){to=to.addDays(1);};break;case 'Month':$1h=$1h.getDatePart();to=$1h.addMonths(1);to=to.firstDayOfMonth();var $dl=(DayPilot.DateUtil.diff(to,$1h)/(1000.0*60))%$4J===0;while(!$dl){to=to.addHours(1);$dl=(DayPilot.DateUtil.diff(to,$1h)/(1000.0*60))%$4J===0;};break;case "Quarter":$1h=$1h.getDatePart();to=$1h.addMonths(1);to=to.firstDayOfMonth();while(to.getMonth()%3){to=to.addMonths(1);};var $dl=(DayPilot.DateUtil.diff(to,$1h)/(1000.0*60))%$4J===0;while(!$dl){to=to.addHours(1);$dl=(DayPilot.DateUtil.diff(to,$1h)/(1000.0*60))%$4J===0;};break;case 'Year':$1h=$1h.getDatePart();to=$1h.addYears(1);to=to.firstDayOfYear();var $dl=(DayPilot.DateUtil.diff(to,$1h)/(1000.0*60))%$4J===0;while(!$dl){to=to.addHours(1);$dl=(DayPilot.DateUtil.diff(to,$1h)/(1000.0*60))%$4J===0;};break;case 'None':to=$11;break;case 'Cell':var $0e=this.$if($1h);if($0e.current){to=$0e.current.end;}else{if($0e.past){to=$0e.previous.end;}else{to=$0e.next.start;}};break;default:if($dj){throw new DayPilot.Exception("Invalid scale value: "+$di);}else{throw new DayPilot.Exception("Invalid groupBy value: "+$di);}};if(to.getTime()>$11.getTime()){to=$11;};return to;};this.$qs={};this.$qs.timeheadercol="_timeheadercol";this.$qs.timeheadercolInner="_timeheadercol_inner";this.$qs.resourcedivider="_resourcedivider";this.$qs.eventFloat="_event_float";this.$qs.eventFloatInner="_event_float_inner";this.$qs.event="_event";this.$qs.eventInner="_event_inner";this.$qs.eventBar="_event_bar";this.$qs.eventBarInner="_event_bar_inner";this.$qs.eventDelete="_event_delete";this.$qs.eventLine="_event_line";this.$qs.eventMovingSource="_event_moving_source";var $0w=this.$qs;this.$qB=function(x,y){var $8O=this.nav.timeHeader;var p=this.timeHeader[y][x];var $dm=x===this.timeHeader[y].length-1;var $dn=y<this.timeHeader.length-1;var $0c=p.left;var $Y=p.width;var $7b=$7c.$mH(y);var top=$7b.top;var $0g=$7b.height;var $0e=$k();$0e.style.position="absolute";$0e.style.top=top+"px";$0e.style.left=$0c+"px";$0e.style.width=$Y+"px";$0e.style.height=$0g+"px";if(p.toolTip){$0e.title=p.toolTip;};$0e.setAttribute("aria-hidden","true");if(p.cssClass){$n($0e,p.cssClass);};$0e.setAttribute("unselectable","on");$0e.style.KhtmlUserSelect='none';$0e.style.MozUserSelect='none';$0e.style.webkitUserSelect='none';$0e.oncontextmenu=function(){return false;};$0e.cell={};$0e.cell.start=p.start;$0e.cell.end=p.end;$0e.cell.level=y;$0e.cell.th=p;$0e.onclick=this.$nB;$0e.oncontextmenu=this.$nC;DayPilot.rePassive($0e,DayPilot.touch.start,function(ev){ev.stopPropagation();});$0e.style.overflow='hidden';if(!$A.timeHeaderTextWrappingEnabled){$0e.style.whiteSpace="nowrap";};var $0u=$k();$0u.setAttribute("unselectable","on");$0u.innerHTML=$A.$hz(p.text,p.innerHTML);if(p.backColor){$0u.style.background=p.backColor;};if(p.fontColor){$0u.style.color=p.fontColor;};var cl=this.$hy($0w.timeheadercol);var $do=this.$hy($0w.timeheadercolInner);if($dn){cl=this.$hy("_timeheadergroup");$do=this.$hy("_timeheadergroup_inner");};$n($0e,cl);$n($0u,$do);$n($0e,$A.$hy("_timeheader_cell"));$n($0u,$A.$hy("_timeheader_cell_inner"));if($dm){$n($0e,$A.$hy("_timeheader_cell_last"));};(function domAdd(){if(typeof $A.onBeforeTimeHeaderDomAdd!=="function"&&typeof $A.onBeforeTimeHeaderDomRemove!=="function"){return;};var $G={};$G.control=$A;$G.header={};$G.header.start=p.start;$G.header.end=p.end;$G.header.level=y;$G.element=null;$0e.domArgs=$G;if(typeof $A.onBeforeTimeHeaderDomAdd==="function"){$A.onBeforeTimeHeaderDomAdd($G);var $bu=$G.element;if($bu){$0u.innerHTML="";var $2g=$k();$0u.appendChild($2g);$G.$kV=$2g;var $8G=$s($bu);if($8G){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$lN($bu,$2g);}else{$2g.appendChild($bu);}}}})();$0e.appendChild($0u);var $0y=DayPilot.Areas.resolvePosition(p.areas,$A,$0c,$Y);DayPilot.Areas.attach($0e,p,{"areas":$0y});this.$gt.timeHeader[x+"_"+y]=$0e;this.elements.timeHeader.push($0e);$8O.appendChild($0e);};this.$qG=function(){var $5R=$A.timeHeader;var y=$5R.length-1;if(y<0){return null;};var $U=$5R[y];var $8N=DayPilot.Date.now();for(var x=0;x<$U.length;x++){var $0e=$U[x];if($0e.start<=$8N&&$8N<=$0e.end){return $A.$gt.timeHeader[x+"_"+y];}};return null;};this.$qH=null;this.$qC=function(){var $ca=$A.$hy("_timeheader_cell_now");var $0e=$A.$qH;var $4L=$A.$qG();if($0e===$4L){return;};$m($0e,$ca);$n($4L,$ca);$A.$qH=$4L;};this.$qI=null;this.$qJ=function(){clearTimeout($A.$qI);$A.$qI=setTimeout(function(){$A.$qC();$A.$qJ();},5000);};this.$kI=function(){clearTimeout($A.$qI);};this.$js=function(){clearTimeout($A.$qI);if(!$A.showCurrentTimeHeader){return;};$A.$qC();$A.$qJ();};this.$iM=function(){if($A.$gl){$9b.$nU();return;};var $2M=$A.$i0();$2M.forEach(function($U){var $cu=$U.getHeight()+$U.marginBottom+$U.marginTop;if($U.height!==$cu){$A.$jB=true;};$U.height=$cu;});if($A.$jB){$A.$gt.drawArea=null;}};this.$gT=function(){var $2M=$A.$i0();$2M.forEach(function($U){if($U.hidden){return;};var $2K=$A.$kT($U.grid);var $8O=$2K.divHeader;if(!$8O){return;};var $1K=$U.index;if(!$8O.rows[$1K]){return;};for(var c=0;c<$8O.rows[$1K].cells.length;c++){var $dp=$8O.rows[$1K].cells[c];var $0e=$2K.rowlist[$1K].cells[c];if($A.$nh&&$dp){$dp.style.top=$U.top+"px";};var $bQ=$U.height;if($0e.rowspan>1){$bQ=$0e.totalHeight();};if($dp&&$dp.firstChild&&parseInt($dp.firstChild.style.height,10)!==$bQ){$dp.firstChild.style.height=$bQ+"px";}}});if($A.$nh){if($A.nav.resScrollSpace){$A.nav.resScrollSpace.style.top=$A.$gq+"px";}}};this.$pQ=function($1K){var s=this.separators[$1K];s.location=s.location||s.Location;s.color=s.color||s.Color;s.layer=s.layer||s.Layer;s.width=s.width||s.Width;s.opacity=s.opacity||s.Opacity;var $1g=new DayPilot.Date(s.location);var $3n=s.color;var $Y=s.width?s.width:1;var $3p=s.layer?s.layer==='AboveEvents':false;var $dq=s.opacity?s.opacity:100;if($1g.getTime()<$A.$i1().getTime()){return;};if($1g.getTime()>=$A.$i7().getTime()){return;};var $W=this.getPixels($1g);if($W.cut){return;};if($W.left<0){return;};if($W.left>$A.$hC()){return;};var $14=$k();$14.style.width=$Y+'px';$14.style.height=$A.$gq+'px';$14.style.position='absolute';$14.style.left=($W.left-1)+'px';$14.style.top='0px';$14.style.backgroundColor=$3n;$14.style.opacity=$dq/100;$14.style.filter="alpha(opacity="+$dq+")";$14.className=$A.$hy("_separator");if(s.cssClass){$14.className+=" "+s.cssClass;};if($3p){this.divSeparatorsAbove.appendChild($14);}else{this.divSeparators.appendChild($14);};this.elements.separators.push($14);};this.$py=function(ev){return;};this.$pr=function(ev){if($A.timeRangeDoubleClickHandling==='Disabled'){return false;};if(DayPilotScheduler.$qK){clearTimeout(DayPilotScheduler.$qK);DayPilotScheduler.$qK=null;};var $23={};$A.$ip(ev);ev.stopPropagation&&ev.stopPropagation();ev.cancelBubble=true;if($A.$qn($A.coords)){var $24=$A.$jT($A.$jV);$A.$jX($24.start,$24.end,$24.resource);}else{DayPilotScheduler.$m4=$A.$qp();if(DayPilotScheduler.$m4){DayPilotScheduler.$qL=$A;var $24=$A.$jT(DayPilotScheduler.$m4);$A.$jX($24.start,$24.end,$24.resource);$A.$jV=DayPilotScheduler.$m4;}};DayPilotScheduler.$m4=null;};this.$po=function(ev){if($u.touch.start||$u.touch.active){return;};if(DayPilotScheduler.$qK&&false){clearTimeout(DayPilotScheduler.$qK);DayPilotScheduler.$qK=null;};$A.$qM();$A.$pl();$A.$ip(ev);if(DayPilotScheduler.$qN){return false;};var $cU=$t(ev);if($A.$qO()){return false;};if($cU.middle||($cU.right&&$A.$qn($A.coords))){return false;};var $dr=$A.$qn($A.coords);if($dr){return false;};var $ds=$cU.left?"left":($cU.right?"right":($cU.middle?"middle":"unknown"));$A.$qP=$ds;var $1M=ev.ctrlKey;var $1N=ev.metaKey;var $6z=ev.shiftKey;var $1w=$1M||$1N;var $G={};$G.action="None";if($0B.$is()!=="Disabled"&&$6z){$G.action="RectangleSelect";}else if($A.timeRangeSelectedHandling!=='Disabled'){$G.action="TimeRangeSelect";};$G.shift=$6z;$G.ctrl=$6z;$G.meta=$1N;$G.originalEvent=ev;$G.button=$ds;$G.preventDefault=function(){$G.action="None";};if(typeof $A.onGridMouseDown==="function"){$A.onGridMouseDown($G);};if($G.action==="None"){if(typeof DayPilot.Menu!=="undefined"){DayPilot.Menu.hide({"calendar":$A});};ev.preventDefault();ev.stopPropagation();return false;};if($G.action==="RectangleSelect"){var $69={};$69.start=$A.coords;$69.calendar=$A;DayPilotScheduler.$qN=$69;return false;};if($A.allowMultiRange&&!$1w){mr.clear();};var $U=$A.$kw($A.coords.y,$A.coords.grid).element;if($U.isNewRow){return false;};DayPilotScheduler.$m4=$A.$qp();if(DayPilotScheduler.$m4){DayPilotScheduler.$m4.ctrl=$1w;DayPilotScheduler.$qL=$A;};return false;};this.$qp=function(){var $23={};var cx=$A.$id($A.coords.x).x;var $1g=$A.getDate($A.coords.x,true);$23.start={y:$A.$kw($A.coords.y,$A.coords.grid).i,x:cx,"grid":$A.coords.grid,"time":$1g};$23.end={x:cx,"time":$1g};if($A.$kZ($A.$kw($A.coords.y,$A.coords.grid).i,$A.coords.grid)){return null;};$23.calendar=$A;$A.$jW($23);return $23;};this.$n0=function(){$A.$ml();var $2U=DayPilotScheduler.$mm;var ev=DayPilotScheduler.$m3;(function(){var $1c=$A.$qQ;var $0R={"start":$2U.start,"end":$A.$iD($2U.end)};$2U.original=$0R;var $dt=DayPilotScheduler.$m3.dpBorder==="left"?"start":"end";var so=$2U.original;if(so&&$1c&&$1c.start===so.start&&$1c.end===so.end){return;};$1D.clear();$1D.$mM();if($1c){$m($2U,$1c.cssClass);$2U.firstChild.innerHTML="";};var $cp=ev.event.part.dayIndex;var $U=$A.rowlist[$cp];var $G={};$G.start=$0R.start;$G.end=$0R.end;$G.duration=new DayPilot.Duration($G.start,$G.end);$G.row=$A.$k2($U);$G.e=ev.event;$G.allowed=true;$G.resizing=$dt;$G.what=$dt;$G.anchor=$G.what==="end"?$0R.start:$0R.end;$G.left={};$G.left.html=$G.start.toString($A.eventResizingStartEndFormat,$0B.$i9());$G.left.enabled=$A.eventResizingStartEndEnabled;$G.left.space=5;$G.left.width=null;$G.left.height=$A.eventHeight;$G.right={};$G.right.html=$G.end.toString($A.eventResizingStartEndFormat,$0B.$i9());$G.right.enabled=$A.eventResizingStartEndEnabled;$G.right.space=5;$G.right.width=null;$G.right.height=$A.eventHeight;$G.cssClass=null;$G.html=null;$G.overlapping=$G.row.events.forRange($G.start,$G.end).filter(function(e){return !$A.$j5(e,$G.e);}).length>0;$G.shift=$A.coords.shift;$G.ctrl=$A.coords.ctrl;$G.meta=$A.coords.meta;$G.alt=$A.coords.alt;$G.multiresize=$1D.$mK();var $1E={};$1E.event=ev.event;$1E.start=$G.start;$1E.end=$G.end;$G.multiresize.splice(0,0,$1E);$A.$qQ=$0R;if(typeof $A.onEventResizing==='function'){$A.onEventResizing($G);};$1D.list=$v($G.multiresize,true);$1D.list.splice(0,1);$1D.$mS();$2U.allowed=$G.allowed;$n($2U,$G.cssClass);if($G.html){$2U.firstChild.innerHTML=$G.html;};var $09=$G.start;var end=$A.$jI($G.end);$2U.finalStart=$09;$2U.finalEnd=end;if($A.viewType==="Days"){var $27=$U.start.getTime()-$A.$i1().getTime();$09=$09.addTime(-$27);end=end.addTime(-$27);};var $1l=DayPilot.DateUtil.diff($09,end);$1l=$p($1l,1);var $4a=$0B.$l1($1l);var $4w=$A.snapToGrid&&$A.snapToGridEventResizing;var $0c=$4w?$A.getPixels($09).boxLeft:$A.getPixels($09).left;var $0d=$4w?$A.getPixels(end).boxRight:$A.getPixels(end).left;$2U.style.left=$0c+"px";$2U.style.width=($0d-$0c)+"px";$2U.left=$0c;$2U.width=$0d-$0c;$A.$n4(DayPilotScheduler.$mm,$G);$A.$n5(DayPilotScheduler.$mm,$G);})();};this.$pq=function(ev){if(DayPilotScheduler.$qN){ev.cancelBubble=true;ev.preventDefault();DayPilotScheduler.$pJ(ev);return false;};$A.$ii={};if($A.$jV){var $cU=$t(ev);if($cU.left){var $23=$A.$jV;if($A.$qn($A.coords)){var $du=function($23){return function(){DayPilotScheduler.$qK=null;var $24=$A.$jT($23);if(!$24){return;};var $G={};$G.start=$24.start;$G.end=$24.end;$G.resource=$24.resource;$G.preventDefault=function(){$G.preventDefault.value=true;};if(typeof $A.onTimeRangeClick==="function"){$A.onTimeRangeClick($G);};if(!$G.preventDefault.value){if(typeof $A.onTimeRangeClicked==="function"){$A.onTimeRangeClicked($G);}}};};if($A.timeRangeClickHandling!="Disabled"){if($A.timeRangeDoubleClickHandling==="Disabled"){$du($23)();}else{clearTimeout(DayPilotScheduler.$qK);DayPilotScheduler.$qK=setTimeout($du($23),$A.doubleClickTimeout);}}}}};var $cU=$t(ev);if($cU.right){$A.$qo(ev);}};this.$qo=function(ev){if($A.timeRangeSelectedHandling==='Disabled'){return;};if($A.timeRangeRightClickHandling==="Disabled"){return;};var $23=DayPilotScheduler.$m4||$A.$jV;if(!$23){return;};var $G=$23.args;var $U=$A.$kw($A.coords.y,$A.coords.grid);if($A.$kZ($U.i)){DayPilotScheduler.$m4=null;return;};var $dv=null;if($A.$qn($A.coords)){$dv=$A.$jT($A.$jV);}else{$dv=$A.$jT();};if(!$dv){DayPilotScheduler.$m4=null;return;};if($G&&!$G.ignoreDisabledCells&&$A.$n6($dv.start,$dv.end,$dv.resource)){DayPilotScheduler.$m4=null;$A.clearSelection();return;};$dv.end=$A.$iD($dv.end);var $G={};$G.start=$dv.start;$G.end=$dv.end;$G.resource=$dv.resource;$G.ctrl=ev.ctrlKey;$G.shift=ev.shiftKey;$G.meta=ev.metaKey;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onTimeRangeRightClick==="function"){$A.onTimeRangeRightClick($G);if($G.preventDefault.value){return;}};if($A.timeRangeRightClickHandling==="ContextMenu"&&$A.contextMenuSelection){$A.contextMenuSelection.show($dv);};if(typeof $A.onTimeRangeRightClicked==="function"){$A.onTimeRangeRightClicked($G);}};this.$qO=function(){var $dw=DayPilotScheduler.$m3||DayPilotScheduler.$ii||DayPilotScheduler.$m4||DayPilotScheduler.$n3;if($dw){return true;};if($A.$ii.$qj){return true;};return false;};this.dragInProgress=function(){return $A.$qO();};this.$ip=function(ev){var $2T=DayPilot.mo3($A.$hj,ev);$2T=$2T||{};$2T.grid="main";if($A.$hi.top.enabled()){var top=$A.$hi.top;var $d0=DayPilot.mo3(top.divCells,ev);if($d0&&$d0.y>0&&$d0.y<=top.height){$2T=$d0;$2T.grid="top";}};if($A.$hi.bottom.enabled()){var $0l=$A.$hi.bottom;var $d1=DayPilot.mo3($0l.divCells,ev);if($d1&&$d1.y>0&&$d1.y<=$0l.height){$2T=$d1;$2T.grid="bottom";}};$2T.stamp=$2T.grid+"_"+$2T.x+"_"+$2T.y;if(!$A.coords||$A.coords.stamp!==$2T.stamp){$A.coords=$2T;}};this.getCoords=function(){if(!$A.coords){return null;};var $B={};$B.x=$A.coords.x;$B.y=$A.coords.y;$B.grid=$A.coords.grid;var $U=$A.$kw($B.y,$B.grid).element;$B.row=$U;$B.time=$A.getDate($B.x,true);$B.cell=$A.cells.findByPixels($B.x,$B.y,$B.grid)[0];$B.event=$A.coords.insideEvent?$A.coords.insideEvent:null;$B.eventOffset=null;if($B.event){$B.eventOffset=$r($A.eventOffset,{},["x","y"]);};return $B;};this.$pm=true;this.$n9=function(ev){if($u.touch.active){return;};var $dx=DayPilot.mc(ev);$A.$ip(ev);ev.insideMainD=true;$A.$pm=true;if(window.event&&window.event.srcElement){window.event.srcElement.inside=true;};if($A.$ii.$qj){var $dy=2;var $Z=DayPilot.distance($A.$ii.$qi,$dx);if($Z>$dy){$r($A.$ii,DayPilotScheduler);$j().style.cursor='move';$A.$ii={};}};if(DayPilotScheduler.$m3&&DayPilotScheduler.$mn.calendar===$A){if(!DayPilotScheduler.$m3.event){DayPilotScheduler.$m3.event=DayPilotScheduler.$mn;};$A.$qR();}else if(DayPilotScheduler.$lY){var $4h=DayPilotScheduler.$lY.calendar;var $dz=$4h!==$A;if($dz&&$4h){DayPilotScheduler.$lY.calendar.$p7();};DayPilotScheduler.$lY.part.external=$dz;$A.$qS();}else if(DayPilotScheduler.$m4&&DayPilotScheduler.$m4.calendar===$A){DayPilotScheduler.$m4.moved=true;$A.$qT();}else if($3d.source){var $0O=$3d.source;$1Q.$lo($0O.coords,$A.coords);}else if(DayPilotScheduler.$qN){DayPilotScheduler.$qN.moved=true;clearTimeout($1q.$qU);$1q.$qU=setTimeout(function(){$1q.draw();},0);};if($A.crosshairType!=='Disabled'){$A.$qV();};$A.$qW();var $dA=$A.coords.insideEvent;if($A.cellBubble&&$A.coords&&$A.rowlist&&$A.rowlist.length>0&&!$dA){var x=$A.$id($A.coords.x).x;var y=$A.$kw($A.coords.y).i;if(0<=y&&y<$A.rowlist.length&&0<=x&&x<$A.itline.length){var $0e={};$0e.calendar=$A;$0e.start=$A.itline[x].start;$0e.end=$A.itline[x].end;$0e.resource=$A.rowlist[y].id;$0e.toJSON=function(){var $2n={};$2n.start=this.start;$2n.end=this.end;$2n.resource=this.resource;return $2n;};$A.cellBubble.showCell($0e);}};if(DayPilotScheduler.$n3){$A.$qM();if(DayPilotScheduler.$qX){$j().removeChild(DayPilotScheduler.$qX);};DayPilotScheduler.$qX=null;if(!DayPilotScheduler.$mY&&$A.coords&&$A.rowlist.length>0){if(!DayPilotScheduler.$lY){DayPilotScheduler.$ii=DayPilotScheduler.$n3.$qY||{};var $dB=DayPilotScheduler.$n3.$qY?DayPilotScheduler.$n3.$qY.event:null;var event=$dB||DayPilotScheduler.$n3.event;if(!event){var ev=$A.$qZ();event=new DayPilot.Event(ev);event.calendar=$A;event.calendar=null;event.part.duration=DayPilotScheduler.$n3.duration*1000;event.part.external=true;}else if($A!==event.calendar){var $4h=event.calendar;var $dC=event;var $dD=$r(event.data);event=new DayPilot.Event($dD);event.calendar=$4h;event.part.duration=$4h.$m7($dC);event.part.external=true;}else{event.part.external=false;};if(!DayPilotScheduler.$ii.event){DayPilotScheduler.$ii.event=event;};DayPilotScheduler.$lY=event;};DayPilotScheduler.$mY=$A.$kX(DayPilotScheduler.$lY);};ev.cancelBubble=true;};var $2T={x:$A.coords.x,y:$A.coords.y,"grid":$A.coords.grid};$A.$qt($2T);};this.$qZ=function(){var $8N=$A.itline[0].start;var ev;var $I=DayPilotScheduler.$n3.$r0;if($I){ev=$r($I,{});ev.start=$8N;ev.end=$8N.addSeconds(DayPilotScheduler.$n3.duration);}else{ev={'id':DayPilotScheduler.$n3.id,'start':$8N,'end':$8N.addSeconds(DayPilotScheduler.$n3.duration),'text':DayPilotScheduler.$n3.text};var $z=DayPilotScheduler.$n3.$r1;if($z){var $6y=['duration','element','remove','id','text'];for(var name in $z){if($w($6y,name)){continue;};ev[name]=$z[name];}}};return ev;};function invertedPct($8s,$X){return 1-$8s/$X;};this.$qt=function($2T){var $2V=$2T.grid;var $dE=DayPilotScheduler.$ii||DayPilotScheduler.$m3||DayPilotScheduler.$m4||DayPilotScheduler.$qN;var $dF=$A.autoScroll==="Always";var $dG=$A.autoScroll==="Drag"&&$dE;var $dH=$dF||$dG;var $dI=false;var $dJ=DayPilotScheduler.$m3||DayPilotScheduler.$m4||$2V!=="main";if($dH){var $dK=$A.nav.scroll;$2T.x-=$dK.scrollLeft;$2T.x+=$0a.$hq;$2T.y-=$dK.scrollTop;var $Y=$dK.clientWidth;var $0g=$dK.clientHeight;var $4T=30;var $0c=$2T.x<$4T?$2T.x:0;var $0d=$Y-$2T.x<$4T?$Y-$2T.x:0;var $dL=$A.$hi.top.height;var $dM=$2T.y-$dL;var top=$dM<$4T&&$dM>0?$dM:0;var $dN=$0g-$A.$hi.bottom.height-$A.$hi.top.height;var $0l=$dN-$dM<$4T?$0g-$2T.y:0;var x=0;var y=0;var $dO=50;if($0c){x=-$dO*invertedPct($0c,$4T);};if($0d){x=$dO*invertedPct($0d,$4T);};if(top){y=-$dO*invertedPct(top,$4T)/2;};if($0l){y=$dO*invertedPct(top,$4T)/2;};if($dJ){y=0;};if($dI){x=0;};if(x||y){$A.$r2=setTimeout(function(){$A.$r3(x,y);},200);}else{clearTimeout($A.$r2);$A.$pl();}}};this.$qT=function(){var $23=DayPilotScheduler.$m4;var x=$A.$id($A.coords.x).x;var $1g=$A.getDate($A.coords.x,true);$23.end={x:x,"time":$1g};$A.$jW($23);};this.$qR=function(){if(!DayPilotScheduler.$mm){DayPilotScheduler.$mm=$A.$kX(DayPilotScheduler.$m3);};$A.$mZ();};this.$qS=function(){if(DayPilotScheduler.$mY&&DayPilotScheduler.$mY.calendar!==$A&&DayPilotScheduler.$mY.calendar){DayPilotScheduler.$mY.calendar.$p7();DayPilotScheduler.$mY.calendar=null;$x(DayPilotScheduler.$mY);DayPilotScheduler.$mY=null;};if(!DayPilotScheduler.$mY){$n(DayPilotScheduler.$ii,$A.$hy($0w.eventMovingSource));var mv=DayPilotScheduler.$lY;DayPilotScheduler.$mY=$A.$kX(mv);};$A.$mh();$A.$mj();};this.$r4={};var $1q=this.$r4;$1q.start=function(){var $69={};$69.start=$A.coords;$69.calendar=$A;DayPilotScheduler.$qN=$69;};$1q.draw=function(){var $69=DayPilotScheduler.$qN;if(!$69){return;};var $09=DayPilotScheduler.$qN.start;var end=$A.coords;$1q.clear();var $0R={"x":$69.x,"y":$69.y,"width":$69.width,"height":$69.height};var $0c,top,$Y,$0g;var $0h,$0j,$0i,$0k;(function rectifyStartEnd(){$0h=Math.min($09.x,end.x);$0i=Math.max($09.x,end.x);if($0B.$is()==="Free"){$0j=Math.min($09.y,end.y);$0k=Math.max($09.y,end.y);}else if($0B.$is()==="Row"){$0j=$09.y;$0k=$09.y;}})();if($0B.$is()==="Free"){$0c=$0h;top=$0j;$Y=$0i-$0h;$0g=$0k-$0j;}else if($0B.$is()==="Row"){var y=$A.$kw($0j).i;var $U=$A.rowlist[y];top=$U.top;$0g=$U.height;var $4w=$A.snapToGrid&&$A.snapToGridRectangleSelecting;if($4w){var $5b=$A.$id($0h).cell;$0c=$5b.left;var $5c=$A.$id($0i).cell;$Y=$5c.left+$5c.width-$0c;}else{$0c=$0h;$Y=$0i-$0h;}}else{throw new DayPilot.Exception("Invalid DayPilot.Scheduler.rectangleSelectMode value: "+$A.rectangleSelectMode);};var $0r=$o($A.divRectangle,$0c,top,$Y,$0g);$0r.style.boxSizing="border-box";$0r.className=$A.$hy("_selectionrectangle");$69.x=$0c;$69.y=top;$69.width=$Y;$69.height=$0g;if($69.x!==$0R.x||$69.y!==$0R.y||$69.width!==$0R.width||$69.height!==$0R.height){if(typeof $A.onRectangleEventSelecting==="function"||typeof $A.onRectangleSelecting==="function"){var $dP=$A.$kw($69.y).i;var $dQ=$A.$kw($69.y+$69.height).i;var $08={"start":{"y":$dP},"end":{"y":$dQ}};var $ah=$A.$kr($08);var $G={};$G.events=$0f.$hu($69.x,$69.y,$69.width,$69.height).map(function($0p){return $0p.event;});$G.start=$A.getDate($69.x,true);$G.end=$A.getDate($69.x+$69.width,true);$G.resources=$ah;$G.visible=true;if(typeof $A.onRectangleEventSelecting==="function"){$A.onRectangleEventSelecting($G);};if(typeof $A.onRectangleSelecting==="function"){$A.onRectangleSelecting($G);};if(!$G.visible){$0r.style.display="none";}}}};$1q.clear=function(){$A.divRectangle.innerHTML='';$A.elements.rectangle=[];};this.$r5=function(){if(!$A.coords){return null;};if(!$A.$pu()){return null;};if(!$A.itline||$A.itline.length===0){return null;};var x=$A.$id($A.coords.x).x;var $U=$A.$kw($A.coords.y,$A.coords.grid).element;if(!$U){return null;};var y=$U.index;var $0b=$A.cells.findXy(x,y,$A.coords.grid);return $0b[0];};this.$qW=function(){var $0e=this.$r5();if(this.hover.cell){if(this.hover.cell.x===$0e.x&&this.hover.cell.y===$0e.y&&this.hover.cell.grid===$0e.grid){return;};this.$pn();};this.hover.cell=$0e;var $G={};$G.cell=$0e;if(typeof this.onCellMouseOver==='function'){this.onCellMouseOver($G);};if(typeof this.onCellMouseEnter==='function'){this.onCellMouseEnter($G);}};this.$pn=function(){if(!this.hover.cell){return;};var $G={};$G.cell=this.hover.cell;if(typeof this.onCellMouseOut==='function'){this.onCellMouseOut($G);};if(typeof this.onCellMouseLeave==='function'){this.onCellMouseLeave($G);};this.hover.cell=null;};this.hover={};this.$qV=function(){var $2T=$A.$r6();if(!$2T){return;};var ch=$A.hover.crosshair;if(ch){if(ch.x===$2T.x&&ch.y===$2T.y&&ch.grid===$2T.grid&&ch.thX===$2T.thX){return;}};$A.hover.crosshair=$2T;this.$jG();};this.$r6=function(){if(!$A.coords){return null;};if(!$A.$pu()){return null;};if(!$A.itline||$A.itline.length===0){return null;};var $U=$A.$kw($A.coords.y,$A.coords.grid).element;if(!$U){return null;};var y=$U.index;var x=null;var $1f=$A.$id($A.coords.x);if($1f){x=$1f.x;};var $dR=$A.$r7();var $dS=null;var $dT=$A.$mA($dR,$A.coords.x);if($dT){$dS=$dT.x;};return{"x":x,"thX":$dS,"y":y,"grid":$A.coords.grid};};this.$qM=function(){this.$hi.top.divCrosshair.innerHTML='';this.$hi.main.divCrosshair.innerHTML='';this.$hi.bottom.divCrosshair.innerHTML='';this.$r8=null;this.$r9=null;};this.$jF=function(){this.$qM();$A.hover.crosshair=null;if(this.$ra&&this.$ra.parentNode){this.$ra.parentNode.removeChild(this.$ra);this.$ra=null;};if(this.$rb){for(var i=0;i<this.$rb.length;i++){var ch=this.$rb[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.$rb=null;};this.$go=-1;this.$gn=-1;this.$rc=null;};this.$r7=function(){var $dR=this.timeHeader?this.timeHeader.length-1:1;if(typeof $A.crosshairTimeHeaderLevel==="number"){if($A.crosshairTimeHeaderLevel<$dR&&$A.crosshairTimeHeaderLevel>=0){$dR=$A.crosshairTimeHeaderLevel;}};return $dR;};this.$jG=function(){if(!$A.coords){return;};if(!$A.$pu()){return;};var $U=$A.$kw($A.coords.y,$A.coords.grid).element;if(!$U){return;};var x=$A.$id($A.coords.x).x;var y=$U.index;var $2V=$U.grid;var $2K=$A.$kT($2V);var $dU=["top","main","bottom"];var $0m=this.crosshairType;if(!this.$r8){this.$r8={};};function drawVertical($2V,$1f){var $2K=$A.$hi[$2V];var $0g=$2K.height;var $0c=$1f.left;var $14=$A.$r8[$2V];if(!$14){var $14=$k();$14.style.height=$0g+'px';$14.style.position='absolute';$14.style.top='0px';$14.className=$A.$hy("_crosshair_vertical");$A.$r8[$2V]=$14;$2K.divCrosshair.appendChild($14);};$14.style.left=$0c+'px';$14.style.width=$1f.width+'px';};if($0m==='Full'){var $1f=this.itline[x];$dU.forEach(function(g){drawVertical(g,$1f);});var top=$U.top;var $0g=$U.height;var $Y=$A.$hC();var $14=$A.$r9;if($14&&$14.parentNode&&$A.$rc!==$2V){$14.parentNode.removeChild($14);$14=null;};if(!$14){var $14=$k();$14.style.width=$Y+'px';$14.style.height=$0g+'px';$14.style.position='absolute';$14.style.top=top+'px';$14.style.left='0px';$14.className=$A.$hy("_crosshair_horizontal");$A.$r9=$14;$2K.divCrosshair.appendChild($14);};$14.style.top=top+'px';$14.style.height=$0g+'px';};var $dR=$A.$r7();var $dT=$A.$mA($dR,$A.coords.x);if($dT&&$A.$go!==$dT.x){if($A.$ra&&this.$ra.parentNode){$A.$ra.parentNode.removeChild($A.$ra);$A.$ra=null;};var $0g=$7c.$mH($dR).height;var $14=$k();$14.style.width=$dT.cell.width+"px";$14.style.height=$0g+"px";$14.style.left='0px';$14.style.top='0px';$14.style.position='absolute';$14.className=$A.$hy("_crosshair_top");$A.$ra=$14;var $dg=this.divNorth;var $dV=$dR;if($A.nav.timeHeader){$A.$gt.timeHeader[$dT.x+"_"+$dV].appendChild($14);}else{if($dg&&$dg.firstChild.rows[$dV].cells[x]){$dg.firstChild.rows[$dV].cells[x].firstChild.appendChild($14);}}};if($A.$gn!==y||$A.$rc!==$2V){if($A.$rb){for(var i=0;i<$A.$rb.length;i++){var ch=$A.$rb[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};$A.$rb=null;};var $2D=this.rowHeaderCols?this.rowHeaderCols.length:1;$A.$rb=[];if($2K.rowlist[y]){for(var i=0;i<$2K.rowlist[y].cells.length;i++){var $0e=$2K.rowlist[y].cells[i];var $7p=$0e.refCell;var $0g=$U.height;var $dW=y;if($7p){$0g=$7p.row.split.totalHeight();$dW=$7p.y;}else if($0e.rowspan>1){$0g=$0e.totalHeight();};var $dX=$2K.divHeader.rows[$dW]&&$2K.divHeader.rows[$dW].cells[i];if(!$dX){continue;};var $Y=$A.$hF();var $14=$k();$14.style.width=$Y+"px";$14.style.height=$0g+"px";$14.style.left='0px';$14.style.top='0px';$14.style.position='absolute';$14.className=$A.$hy("_crosshair_left");$A.$rb.push($14);$2K.divHeader.rows[$dW].cells[i].firstChild.appendChild($14);}}};if($dT){$A.$go=$dT.x;};$A.$gn=y;$A.$rc=$2V;};this.$mA=function(y,$W){var $U=$A.timeHeader[y];if(!$U){return null;};for(var i=0;i<$U.length;i++){var $0e=$U[i];if($W>=$0e.left&&$W<$0e.left+$0e.width){var $B={};$B.cell=$0e;$B.x=i;return $B;}};return null;};this.$rd=function($W){return $A.$mA($A.timeHeader.length-1,$W);};this.$pp=function(ev){ev.cancelBubble=true;if(!$A.allowDefaultContextMenu){return false;}};this.$qn=function($2T){var $23=$A.$jV;if(!$23||!$23.start||!$23.end){return false;};$23=$23.$qv?$23.$qv:$23;var $2V=$23.start.grid;var $U=this.$lp($23.start.y,$23.start.grid);var $c3=0;if($2V==="main"){$c3=$A.$hi.top.height;};var $dY=$23.start.time.getTime()<$23.end.time.getTime();var $09=$dY?$23.start.time:$23.end.time;var end=$dY?$23.end.time:$23.start.time;var $dZ=$A.getPixels($09).left;var $e0=$A.getPixels(end).left;var $e1=$U.top+$c3;var $e2=$U.bottom+$c3;var $e3=$2T.x>=$dZ&&$2T.x<=$e0;var $e4=$2T.y>=$e1&&$2T.y<=$e2;var $e5=$2T.grid===$23.start.grid;if($e3&&$e4&&$e5){return true;};return false;};this.$jW=function($23,$z){var $23=$23||DayPilotScheduler.$m4;if(!$23){return;};if($23.calendar!==$A){return;};if(DayPilotScheduler.$lu){DayPilotScheduler.$lu.blur();};$z=$z||{};var $e6=$z.justDraw;var $e7=$23.forceSnap;var $4w=$A.snapToGrid&&$A.snapToGridTimeRangeSelecting;if($e7){$4w=true;};var $2K=$A.$kT($23.start.grid);var $2M=$2K.rowlist;(function(){var $d9=$23.end.time>=$23.start.time;var $0h=$d9?$23.start.x:$23.end.x;var $0i=($d9?$23.end.x:$23.start.x);var y=$23.start.y;var $U=$2M[y];if(!$U){return;};if($U.hidden){return;};var $09=$A.itline[$0h];var end=$A.itline[$0i];var $1c=$A.$re;var $e8=$09.start.addTime($U.data.offset);var $e9=end.end.addTime($U.data.offset);if(!$4w){if($d9){$e8=$23.start.time;$e9=$23.end.time;}else{$e8=$23.end.time;$e9=$23.start.time;}};if(!$e6&&$1c&&$1c.start.getTime()===$e8.getTime()&&$1c.rawend.getTime()===$e9.getTime()&&$1c.resource===$2M[y].id){return;};var $0R={"start":$e8,"end":$A.$iD($e9),"rawend":$e9,"resource":$2M[y].id};var $G={};$G.anchor=$d9?$0R.start:$0R.end;$G.start=$0R.start;$G.end=$0R.end;$G.duration=new DayPilot.Duration($e8,$e9);$G.resource=$2M[y].id;$G.row=$A.$k2($U);$G.allowed=true;$G.control=$A;$G.ignoreDisabledCells=false;$G.left={};$G.left.html=$G.start.toString($A.timeRangeSelectingStartEndFormat,$0B.$i9());$G.left.enabled=$A.timeRangeSelectingStartEndEnabled;$G.left.space=5;$G.left.width=null;$G.left.height=$A.eventHeight;$G.right={};$G.right.html=$G.end.toString($A.timeRangeSelectingStartEndFormat,$0B.$i9());$G.right.enabled=$A.timeRangeSelectingStartEndEnabled;$G.right.space=5;$G.right.width=null;$G.right.height=$A.eventHeight;$G.overlapping=$G.row.events.forRange($e8,$e9).length>0;$G.html=null;$G.cssClass=null;$G.button=$A.$qP;$A.$re=$0R;if(typeof $A.onTimeRangeSelecting==='function'&&!$e6){$A.onTimeRangeSelecting($G);$G.resource=$0R.resource;};$G.end=$A.$jI($G.end);$23.args=$G;var $aO=$A.$rf($23);$A.$jU($aO,$G.start,$G.end);var $0e=draw($aO,$G);if($G.html){$0e.firstChild.innerHTML=$G.html;};if($G.cssClass){$n($0e,$G.cssClass);};$A.$n4($0e,$G);$23.$qv=$aO;$23.disabled=!$G.allowed;$A.$n5($0e,$G);})();function draw($23,$G){var $d9=$23.end.time>$23.start.time;var $0c,$0d;var $ea,$eb;var y=$23.start.y;var $ec=$23.start.time&&$23.end.time;if($4w||!$ec){var $0h=$d9?$23.start.x:$23.end.x;var $0i=($d9?$23.end.x:$23.start.x);var $09=$A.itline[$0h];var end=$A.itline[$0i];$0c=$09.left;$0d=end.left+end.width;}else{if($d9){$ea=$23.start.time;$eb=$23.end.time;}else{$ea=$23.end.time;$eb=$23.start.time;};$0c=$A.getPixels($ea).left;$0d=$A.getPixels($eb).left;};var $Y=$0d-$0c;var $0e=$A.elements.range2;if(!$0e){$0e=$k();$0e.style.position='absolute';$0e.setAttribute("unselectable","on");var $0u=$k();$0u.className=$A.$hy("_shadow_inner");$0e.appendChild($0u);$2K.divShadow.appendChild($0e);};if($0e.grid!==$23.start.grid){$0e.parentNode.removeChild($0e);$2K.divShadow.appendChild($0e);};$0e.className=$A.$hy("_shadow");$0e.firstChild.innerHTML="";$0e.style.left=($0c)+"px";$0e.style.top=$2M[y].top+"px";$0e.style.width=$Y+"px";$0e.style.height=($2M[y].height-1)+"px";$0e.calendar=$A;$0e.grid=$23.start.grid;$A.elements.range2=$0e;(function checkOverlap(){$0e.overlapping=false;var $U=$2M[y];$A.$mT($0e,$U,$0c,$Y,null);var $09=$d9?$23.start.time:$23.end.time;var end=$d9?$23.end.time:$23.start.time;if(!$G.ignoreDisabledCells){$A.$mU($0e,$09,end,$U.id);}})();return $0e;}};this.$rf=function($23){return{"start":{"x":$23.start.x,"y":$23.start.y,"time":$23.start.time,"grid":$23.start.grid},"end":{"x":$23.end.x,"time":$23.end.time},"disabled":$23.disabled,"calendar":$23.calendar,"args":$23.args,"forceSnap":$23.forceSnap}};this.range={};this.range.all=function(){return $A.multirange.get();};this.multirange={};this.multirange.get=function(){return mr.get(true);};this.multirange.add=function($24){if(!$24){throw new DayPilot.Exception("Range not specified");};if(!$24.start||!$24.end||!$24.resource){throw new DayPilot.Exception("Invalid range specified");};if($v(mr.list).isEmpty()){var $ed=$A.$jT();if($ed){var $23=$A.$rg($ed.start,$ed.end,$ed.resource);$A.$rh.add($23);}};var $23=$A.$rg($24.start,$24.end,$24.resource);$A.$jW($23);$A.$rh.add($23);};this.multirange.clear=function(){mr.clear();$A.clearSelection();$A.$re=null;};this.$rh={};var mr=this.$rh;this.$rh.list=[];this.$rh.drawLaterTimeout=null;this.$rh.drawLater=function(){clearTimeout($A.$rh.drawLaterTimeout);$A.$rh.drawLaterTimeout=setTimeout(function(){mr.list.forEach(function($23){$A.elements.range2=null;$A.$jW($23);});},0);};this.$rh.clear=function(){$x($v(mr.list).map(function($0p){return $0p.div;}));mr.list=[];};this.$rh.add=function($23){$23.div=$A.elements.range2;$A.elements.range2=null;$A.$n8();mr.list.push($23);};this.$rh.get=function($ee){var $0n=$v(mr.list).map(function($0p){return $A.$jT($0p);});if($ee&&$0n.isEmpty()){var $24=$A.$jT();if($24){$0n.push($24);}};return $0n;};this.$rh.dispatch=function(){if(!$A.allowMultiRange){return;};if(DayPilotScheduler.$m4){return;};var $1c=$v(mr.list).last();$A.$jR($1c);};this.$ri=function(ev){if($A.timeRangeSelectedHandling==='Disabled'){return false;};if($u.touch.active||$u.touch.start){return;};var $cU=$t(ev);if(DayPilotScheduler.$m4){return;};if(DayPilotScheduler.$qN){return;};if($A.$jV&&$A.$qn($A.coords)&&($cU.right||$cU.middle)){return;};if($A.$kZ($A.$kw($A.coords.y).i)){return;};var $23={};var cx=$A.$id($A.coords.x).x;$23.start={y:$A.$kw($A.coords.y).i,x:cx,"grid":$A.coords.grid};$23.end={x:cx,};$23.calendar=$A;$A.$jV=$23;$A.$jR($23);};this.$in={};this.$in.$h2=null;this.$in.drawCells=null;this.$in.drawRows=null;this.$in.click=null;this.$in.resClick=[];this.$in.updateFloats=null;this.$h8=function(ev,$z){if($A.$gp){return;};$z=$z||{};if(typeof DayPilot.Bubble!=="undefined"&&!$z.dontHideBubble){DayPilot.Bubble.hideActive();};$A.$gF();var $ef=$A.nav.scroll;$A.$mz=$ef.scrollLeft;$A.$mx=$ef.scrollTop;$A.$pP=$ef.clientWidth;if($A.divTimeScroll){$A.divTimeScroll.scrollLeft=$A.$mz;};if($A.$hi.top.enabled()){$A.$hi.top.div.scrollLeft=$A.$mz;};if($A.$hi.bottom.enabled()){$A.$hi.bottom.div.scrollLeft=$A.$mz;};if($d&&DayPilotScheduler.$pa){$e();}else{$A.divResScroll.scrollTop=$A.$mx;};if($0a.$i3()&&$A.$hc&&$A.cellWidthSpec!="Auto"&&!$A.$hf){if($0a.$hY){$e();}else{if($A.nav.scroll.scrollLeft<$A.infiniteScrollingMargin){$0a.$hY=true;$A.nav.scroll.style.overflowX="hidden";setTimeout(function(){$0a.$hV(-$A.infiniteScrollingStepDays);},100);return;}else if($A.nav.scroll.scrollWidth-($A.nav.scroll.scrollLeft+$A.nav.scroll.clientWidth)<$A.infiniteScrollingMargin){$0a.$hY=true;$A.nav.scroll.style.overflowX="hidden";setTimeout(function(){$0a.$hV($A.infiniteScrollingStepDays);},100);return;}}};if($A.navigatorBackSync){(function backSync(){var $eg=DayPilot.Util.evalVariable($A.navigatorBackSync);var $09=$A.getViewPort().start;$eg.select($09,{"dontNotify":true,"dontFocus":true});})();};if($A.progressiveRowRendering){if($A.$in.drawRows){clearTimeout($A.$in.drawRows);$A.$in.drawRows=null;};if($A.scrollDelayRows>0){$A.$in.drawRows=setTimeout(function(){$A.$jc();},$A.scrollDelayRows);}else{$A.$jc();}};if($A.$in.drawCells){clearTimeout($A.$in.drawCells);$A.$in.drawCells=null;};if($A.scrollDelayCells>0){$A.$in.drawCells=setTimeout($A.$rj(),$A.scrollDelayCells);}else{var f=$A.$rj();f();};if($A.dynamicLoading){$A.$h5();$A.$rk();return;};if($A.$in.$h2){clearTimeout($A.$in.$h2);$A.$in.$h2=null;};if($A.scrollDelayEvents>0){$A.$in.$h2=setTimeout($A.$rl(),$A.scrollDelayEvents);}else{$A.$h2();};if($A.$in.updateFloats){clearTimeout($A.$in.updateFloats);$A.$in.updateFloats=null;};if($A.scrollDelayFloats>0){$A.$in.updateFloats=setTimeout(function(){$A.$h6();},$A.scrollDelayFloats);}else{$A.$h6();};$A.onScrollCalled=true;};this.$rj=function(){return function(){if(!$A){return;};$A.$h5();$A.$h0();};};this.$rl=function(){var $cj=true;return function(){if(!$A){return;};if($A.$q2()){window.setTimeout(function(){$A.$pZ();window.setTimeout(function(){$A.$h2($cj);},50);},50);}else{$A.$hs();}};};this.$gF=function(){$A.$gt.eventHeight=null;$A.$gt.drawArea=null;};this.show=function(){$A.visible=true;$A.$gs=true;$A.nav.top.style.display='';$A.$gR();$A.$gS();$A.$lF();$A.$h8();};this.hide=function(){$A.visible=false;$A.$gs=false;$A.nav.top.style.display='none';};this.$rk=function(){var $ef=$A.nav.scroll;$A.$mz=$ef.scrollLeft;$A.$mx=$ef.scrollTop;$A.$pP=$ef.clientWidth;$A.divTimeScroll.scrollLeft=$A.$mz;$A.divResScroll.scrollTop=$A.$mx;if($A.refreshTimeout){window.clearTimeout($A.refreshTimeout);};var $0E=$A.scrollDelayDynamic;$A.refreshTimeout=window.setTimeout($A.$rm($ef.scrollLeft,$ef.scrollTop),$0E);$A.$h6();};this.$lH=function($I){if(!$A.events.list){return null;};for(var j=0;j<this.events.list.length;j++){var ex=this.events.list[j];if($A.$j5(ex,$I)){var $B={};$B.ex=ex;$B.index=j;$B.modified=!$A.$rn($I,ex);return $B;}};return null;};this.$rn=function($1i,$aP){for(var name in $1i){if(typeof $1i[name]==='object'&&!($1i[name]instanceof DayPilot.Date)){continue;};if($1i[name]!==$aP[name]){return false;}};for(var name in $aP){if(typeof $aP[name]==='object'){continue;};if($1i[name]!==$aP[name]){return false;}};return true;};this.$h3=function($eh,$ei,$G){var $b4=$G&&$G.clearEvents;var $ej=$G&&$G.remove;var $ek=$G&&$G.dontForceCellRendering;var $el=[];if(!$A.events.list){$A.events.list=[];};if($b4){$A.$gL($eh);}else{var $em=[];$v($ej).forEach(function(id){var $I=$v($A.events.list).find(function($I){return $I.id===id;});if($I){$em.push($I);}});$em.forEach(function($I){var $1J=$A.events.$iJ($I);$el=$el.concat($1J);DayPilot.rfa($A.events.list,$I);});var $en=[];for(var i=0;i<$eh.length;i++){var e=$eh[i];$en[i]=$A.$lH(e);};for(var i=0;i<$eh.length;i++){var e=$eh[i];var $2Z=$en[i];var $3e=$2Z&&$2Z.modified;var $eo=!$2Z;if($3e){this.events.list[$2Z.index]=e;var $1J=$A.events.$iJ($2Z.ex);$el=$el.concat($1J);}else if($eo){this.events.list.push(e);};if($3e||$eo){$el=$el.concat($A.events.$iK(e));}};$A.$iL($el);$A.$iM();};$A.$gQ();$A.$gV();var $ep=!$b4;if($b4||$ek){$A.$gX();var $eq=$A.$jB||!$A.beforeCellRenderCaching;if($eq){$A.$gW();};$A.$gT();if($eq){$A.$h0();}else{$A.$lF();};$A.$h2();$ei&&$ei();}else{$A.$iN($el,false,function(){$ei&&$ei();$A.$pZ();$A.$h2();});$A.$lF();}};this.$rm=function(scrollX,scrollY){if(!$A.$hQ()){return function(){if(typeof $A.onScroll==='function'){var $3e=function($G){var $ei=function(){if($A.$hb()){if(typeof $A.onAfterRender==='function'){var $G={};$G.isCallBack=false;$G.isScroll=true;$G.data=null;$A.onAfterRender($G);}}};$A.$h3($G.events,$ei,$G);};var $G={};$G.viewport=$A.getViewPort();$G.async=true;$G.events=[];$G.remove=[];$G.clearEvents=true;$G.dontForceCellRendering=false;$G.loaded=function(){if(this.async){$3e($G);}};$A.onScroll($G);if(!$G.async){$3e($G);}}};}else{return function(){$A.scrollX=scrollX;$A.scrollY=scrollY;$A.$il('Scroll');};}};this.$ro=function(){var $08=this.$ho();var $er=$08.xStart;var $0Y=$08.xEnd-$08.xStart;var $53=$08.yStart;var $es=$08.yEnd-$08.yStart;if(!this.cellProperties){this.cellProperties={};};var $et=$A.$hi.top;var $eu=$A.$hi.bottom;for(var i=0;i<=$0Y;i++){var x=$er+i;for(var j=0;j<$es;j++){var y=$53+j;if(!this.rowlist[y].hidden){this.$lR(x,y);}};this.$rp(x);if($et.enabled()){for(var y=0;y<$et.rowlist.length;y++){this.$lR(x,y,"top");};this.$rp(x,"top");};if($eu.enabled()){for(var y=0;y<$eu.rowlist.length;y++){this.$lR(x,y,"bottom");};this.$rp(x,"bottom");}};var $ev=this.$nc();for(var y=$ev.start;y<$ev.end;y++){if(!this.rowlist[y].hidden){this.$rq(y);}};if($et.enabled()){for(var y=0;y<$et.rowlist.length;y++){if(!$et.rowlist[y].hidden){this.$rq(y,"top");}}};if($eu.enabled()){for(var y=0;y<$eu.rowlist.length;y++){if(!$eu.rowlist[y].hidden){this.$rq(y,"bottom");}}}};this.$h0=function(){if($A.$gp){return;};var $2M=$A.$i0();if($2M&&$2M.length>0){var $ew=this.cellSweeping;if($ew){var $ex=this.cellSweepingCacheSize;this.$q1($ex);};$1W.$lv();this.$ro();this.$rr();$1W.$kf({"dontFocus":true});};this.$jB=false;};this.$rr=function(){var $08=this.$ho();var $et=$A.$hi.top;var $eu=$A.$hi.bottom;for(var x=$08.xStart;x<$08.xEnd;x++){var $ey=(x<this.itline.length-1)?this.itline[x+1].breakBefore:false;if($ey){this.$rs(x);if($et.enabled()){this.$rs(x,"top");};if($eu.enabled()){this.$rs(x,"bottom");}}}};this.$rs=function(x,$2V){$2V=$2V||"main";var $2K=$A.$hi[$2V];var $bX=$2K.divBreaks;var $ez=$2V==="main";var $0g=$ez?$A.$gq:$2K.height;var $1K=$2V+"_x_"+x;if(this.$gt.breaks[$1K]){return;};var $G={};if(typeof $A.onBeforeGridLineRender==="function"){var $eA=$A.itline[x];var $eB=$A.itline[x+1];$G.start=$eA&&$eA.end;$G.end=$eB&&$eB.start;$G.hidden=false;$G.cssClass=null;$G.type="VerticalBreak";$G.grid=$2V;$G.color=null;$A.onBeforeGridLineRender($G);if($G.hidden){return;}};var $0c=$A.itline[x+1].left-1;var $14=$k();$14.style.left=$0c+"px";$14.style.top="0px";$14.style.width="1px";$14.style.height=$0g+"px";$14.style.fontSize='1px';$14.style.lineHeight='1px';$14.style.overflow='hidden';$14.style.position='absolute';$14.setAttribute("unselectable","on");$14.className=this.$hy("_matrix_vertical_break");if($G.cssClass){$14.className+=" "+$G.cssClass;};if($G.color){$14.style.backgroundColor=$G.color;};$bX.appendChild($14);this.elements.breaks.push($14);this.$gt.breaks[$1K]=$14;};this.$ho=function(){if($A.$gt.drawArea){return $A.$gt.drawArea;};if(!this.nav.scroll){return null;};var $eC=$A.$mx;var $08={};var $eD=this.dynamicEventRenderingMarginX!=null?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin;var $eE=this.dynamicEventRenderingMarginY!=null?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin;var $0c=$A.$mz-$eD-$0a.$hq;var $0d=$0c+$A.$pP+2*$eD;var $09=0;var end=0;if($A.itline&&$A.itline.length>0){$09=$A.$id($0c).x;end=$A.$id($0d,true).x;var $58=this.$my();end=Math.min(end,$58);$09=$p($09,0);};var top=$eC-$eE;var $0l=$eC+this.nav.scroll.offsetHeight+2*$eE;var $53=this.$kw(top).i;var $54=this.$kw($0l).i;if($54<this.rowlist.length){$54++;};$08.xStart=$09;$08.xEnd=end;$08.yStart=$53;$08.yEnd=$54;var $7p=$A.nav.scroll;if($7p.clientWidth===0){$7p=$A.divTimeScroll;};$08.pixels={};$08.pixels.left=$7p.scrollLeft-$0a.$hq;$08.pixels.right=$7p.scrollLeft-$0a.$hq+$7p.clientWidth;$08.pixels.top=$7p.scrollTop;$08.pixels.bottom=$7p.scrollTop+$7p.clientHeight;$08.pixels.width=$7p.scrollWidth;$08.sw=DayPilot.sw($A.nav.scroll);$A.$gt.drawArea=$08;return $08;};this.$hC=function(){var $B=0;var $1c=this.itline[this.itline.length-1];if(!$1c){$B=0;}else{$B=$1c.left+$1c.width;};if($B<0||isNaN($B)){$B=0;};return $B;};this.$rq=function(y,$2V){$2V=$2V||"main";var $2K=$A.$hi[$2V];var $2M=$2K.rowlist;var $bW=$2K.divLines;var $ez=$2V==="main";var $1K=$2V+"_y_"+y;if(this.$gt.$gv[$1K]){return;};var $U=$2M[y];var $G={};if(typeof $A.onBeforeGridLineRender==="function"){$G.row=$A.$k2($U);$G.hidden=false;$G.cssClass=null;$G.type="HorizontalLine";$G.color=null;$A.onBeforeGridLineRender($G);if($G.hidden){return;}};var $0g=typeof $U.forcedHeight==="number"?$U.forcedHeight:$U.height;var top=$U.top+$0g-1;var $Y=this.$hC();var $14=$k();var $eF=$14.style;$eF.left="0px";$eF.top=top+"px";$eF.width=$Y+"px";$eF.height="1px";$eF.fontSize='1px';$eF.lineHeight='1px';$eF.overflow='hidden';$eF.position='absolute';$14.setAttribute("unselectable","on");$14.className=this.$hy("_matrix_horizontal_line");if($G.cssClass){$14.className+=" "+$G.cssClass;};if($G.color){$eF.backgroundColor=$G.color;};$bW.appendChild($14);this.$gt.$gv[$1K]=$14;};this.$rp=function(x,$2V){var $1f=this.itline[x];if(!$1f){return;};$2V=$2V||"main";var $2K=$A.$hi[$2V];var $bW=$2K.divLines;var $ez=$2V==="main";var $0g=$ez?$A.$gq:$2K.height;var $1K=$2V+"_x_"+x;if(this.$gt.$gu[$1K]){return;};var $G={};if(typeof $A.onBeforeGridLineRender==="function"){$G.start=$1f.start;$G.end=$1f.end;$G.hidden=false;$G.cssClass=null;$G.type="VerticalLine";$G.color=null;$A.onBeforeGridLineRender($G);if($G.hidden){return;}};var $0c=$1f.left+$1f.width-1;var $14=$k();var $eF=$14.style;$eF.left=$0c+"px";$eF.top="0px";$eF.width="1px";$eF.height=$0g+"px";$eF.fontSize='1px';$eF.lineHeight='1px';$eF.overflow='hidden';$eF.position='absolute';$14.setAttribute("unselectable","on");$14.className=this.$hy("_matrix_vertical_line");if($G.cssClass){$14.className+=" "+$G.cssClass;};if($G.color){$eF.backgroundColor=$G.color;};$bW.appendChild($14);this.elements.linesVertical.push($14);this.$gt.$gu[$1K]=$14;};this.$mi=function($1K,$z){if($A.$he.$lM){$A.$he.skip=true;};var $U=this.rowlist[$1K];var $a6=!$U.expanded;$U.expanded=$a6;if($U.resource){$U.resource.expanded=$a6;};$z=$z||{};$A.$gK({"includeHidden":true});if($A.treeAnimation&&!$z.notAnimated){var $1J=this.$rt($1K,$U.expanded,true);$A.$nF($1J,$a6?"show":"hide",function onComplete(){performUpdate();});}else{performUpdate();};function performUpdate(){var $1J=$A.$rt($1K,$U.expanded,false);if(!$a6){for(var i=0;i<$1J.length;i++){var ri=$1J[i];$A.$jC(ri);}};$A.$nG();$A.$gV();$A.$h5();var r=$A.$k2($U,$1K);if($a6){$A.$kd(r);}else{$A.$kc(r);}}};this.$nG=function(){$A.$gQ();$A.$gM();$A.$gN();$A.$gV();$A.$gF();$A.$jE();$1Q.$j8();$A.$gW();$A.$h0();$A.$jc();$A.$h2();$A.$gF();};this.$nA=function(i){var $1t={};$1t.index=i;if(typeof this.onLoadNode==='function'){var $G={};var $22=this.rowlist[i].resource;$G.resource=$22;$G.async=false;$G.loaded=function(){if(this.async){$22.dynamicChildren=false;$22.expanded=true;$A.update();}};this.onLoadNode($G);if(!$G.async){$22.dynamicChildren=false;$22.expanded=true;this.update();}}else{this.$il('LoadNode',$1t);}};this.$rt=function(i,$eG,$eH){var $U=this.rowlist[i];var $ae=[];if($U.children===null||$U.children.length===0){return $ae;};for(var k=0;k<$U.children.length;k++){var $1K=$U.children[k];var $eI=this.rowlist[$1K];var $cw=$eG&&$U.expanded&&!$eI.$oK;if($eG&&$eI.hidden){$eI.forcedHeight=0;};if(!$eH||$eG){$eI.hidden=!$cw;};if(!$eH){delete $eI.forcedHeight;};if($eG===$cw){$ae.push($1K);};var $eJ=this.$rt($1K,$eG&&!$eI.hidden);if($eJ.length>0){$ae=$ae.concat($eJ);}};return $ae;};this.$r3=function($eK,$eL){this.$pl();this.$ru($eK,$eL);};this.$rv=function($03){if(!$03){return false;};var $eM=this.nav.scroll;var $0I=$eM.scrollWidth;var $09=$eM.scrollLeft;var $Y=$eM.clientWidth;var $0d=$09+$Y;if($03<0&&$09<=0){return false;};if($03>0&&$0d>=$0I){return false;};$eM.scrollLeft+=$03;$A.coords.x+=$03;$A.$rw();return true;};this.$rx=function($03){if(!$03){return false;};var $eM=this.nav.scroll;var $0I=$eM.scrollHeight;var $09=$eM.scrollTop;var $0g=$eM.clientHeight;var $0l=$09+$0g;if($03<0&&$09<=0){return false;};if($03>0&&$0l>=$0I){return false;};$eM.scrollTop+=$03;$A.coords.y+=$03;$A.$rw();return true;};this.$rw=function(){if(DayPilotScheduler.$m3&&DayPilotScheduler.$m3.event.calendar===$A){$A.$qR();}else if(DayPilotScheduler.$ii&&(DayPilotScheduler.$lY.calendar===$A||(DayPilotScheduler.$lY.calendar&&DayPilotScheduler.$lY.calendar.dragOutAllowed))){if(!DayPilotScheduler.$ii.event){DayPilotScheduler.$ii.event=DayPilotScheduler.$lY;};$A.$qS();}else if(DayPilotScheduler.$m4&&DayPilotScheduler.$m4.calendar===$A){$A.$qT();}};this.$ru=function($eK,$eL){if(!$A.$qz){var $eN=this.$rv($eK)||this.$rx($eL);if(!$eN){return;}};var $eO=function($eK,$eL){return function(){$A.$ru($eK,$eL);};};this.$ry=window.setTimeout($eO($eK,$eL),100);};this.$pl=function(){if($A.$ry){window.clearTimeout($A.$ry);$A.$ry=null;}};this.$gQ=function(){if($A.$hi.top.enabled()){$A.$hi.top.height=$A.$rz($A.$hi.top.rowlist,0);};if($A.$hi.bottom.enabled()){$A.$hi.bottom.height=$A.$rz($A.$hi.bottom.rowlist,0);};$A.$gq=$A.$rz($A.rowlist,$A.$hi.top.height);};this.$rz=function($2M,top){var $eP=0;var $eQ=top||0;var top=top||0;for(var i=0;i<$2M.length;i++){var $U=$2M[i];if(!$U.hidden){$U.top=top;$U.displayY=$eP;if(typeof $U.forcedHeight==="number"){top+=$U.forcedHeight;}else{top+=$U.height;};$eP+=1;};$U.absTop=$eQ;$eQ+=$U.height;};return top;};this.$gW=function(){var $2N=typeof $A.onBeforeRowHeaderDomAdd==="function"&&$A.$hh.reactDOM;if(DayPilot.browser.ie||$2N){$A.$rA();};$A.elements.cells=[];$A.elements.breaks=[];$A.$gt.cells=[];$A.$gt.breaks=[];$A.divBreaks.innerHTML='';$A.$hi.top.divBreaks.innerHTML='';$A.$hi.bottom.divBreaks.innerHTML='';$A.divCells.innerHTML='';$A.$hi.top.divCells.innerHTML='';$A.$hi.bottom.divCells.innerHTML='';$A.$nl();};this.$nl=function(){$A.divLines.innerHTML='';$A.$hi.top.divLines.innerHTML='';$A.$hi.bottom.divLines.innerHTML='';$A.$gt.$gu={};$A.$gt.$gv={};$A.elements.linesVertical=[];};this.$rA=function(y){var $0n=$v();for(var name in $A.$gt.cells){$0n.push($A.$gt.cells[name]);};$0n.forEach(function($0p){$A.$lQ($0p);});};this.$jH=function(y,$2V){$2V=$2V||"main";var $0n=$v();for(var name in $A.$gt.cells){$0n.push($A.$gt.cells[name]);};$0n.filter(function($0p){return $0p&&$0p.coords&&$0p.coords.y===y&&$0p.coords.grid===$2V;}).forEach(function($0p){$A.$lQ($0p);});};this.$rB=0;this.$rC=$v(['html','cssClass','backColor','backImage','backRepeat','areas','disabled']);this.$rD=$A.$rC.add('business');this.$lR=function(x,y,$2V){if(!this.$hc){return;};var $1f=$A.$io(x);if(!$1f){return;};$2V=$2V||"main";var $2K=this.$hi[$2V];var $2M=$2K.rowlist;var $bV=$2K.divCells;var $ez=$2V==="main";var $1K=$2V+"_"+x+'_'+y;if(this.$gt.cells[$1K]){return;};var p=this.$lT(x,y,$2V);$A.$mF(x,y,$2V);if(!this.drawBlankCells){var $eR=false;if($ez&&this.$me(y)){$eR=false;}else if(!this.$rE(p,$A.$rC)){$eR=true;};if($eR){return;}};var $0e=$k();$0e.style.left=($1f.left)+"px";$0e.style.top=$2M[y].top+"px";$0e.style.width=($1f.width)+"px";$0e.style.height=($2M[y].height)+"px";$0e.style.position='absolute';if(p&&p.backColor){$0e.style.backgroundColor=p.backColor;};$0e.setAttribute("unselectable","on");$0e.className=this.$hy('_cell');$0e.coords={};$0e.coords.x=x;$0e.coords.y=y;$0e.coords.grid=$2V;if($ez&&$A.$me(y)){$n($0e,this.$hy("_cellparent"));};if($8v.$gt[y]){$n($0e,this.$hy("_cell_selected"));};var c=$A.cells.findXy(x,y,$2V)[0];if(p){if(p.cssClass){$n($0e,p.cssClass);};if(!$q(p.html)){$0e.innerHTML=p.html;};if(p.backImage){$0e.style.backgroundImage="url(\"" + p.backImage + "\")";};if(p.backRepeat){$0e.style.backgroundRepeat=p.backRepeat;};if(p.business&&$A.cellsMarkBusiness){$n($0e,$A.$hy("_cell_business"));};if(p.disabled){$n($0e,$A.$hy("_cell_disabled"));};var $0y=DayPilot.Areas.resolvePosition(p.areas,$A,$1f.left,$1f.width);DayPilot.Areas.attach($0e,c,{"areas":$0y});};(function domAdd(){if(typeof $A.onBeforeCellDomAdd!=="function"&&typeof $A.onBeforeCellDomRemove!=="function"){return;};var $G={};$G.control=$A;$G.cell=c;$G.element=null;$0e.domArgs=$G;if(typeof $A.onBeforeCellDomAdd==="function"){$A.onBeforeCellDomAdd($G);};if($G.element){var $2g=$0e;if($2g){$G.$kV=$2g;var $8G=$s($G.element);if($8G){if(!$A.$hh.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");};$A.$hh.$lN($G.element,$2g);}else{$2g.appendChild($G.element);}}}})();$bV.appendChild($0e);this.elements.cells.push($0e);this.$gt.cells[$1K]=$0e;if(typeof $A.onAfterCellRender==='function'){var $G={};$G.cell=$r(c,{},["x","y","displayY","start","end","resource","grid"]);$G.div=$0e;$A.onAfterCellRender($G);}};this.$i4={};this.$lF=function(){$A.$of();var $1J=$A.$rF();$1J.forEach(function($0p){$A.$jH($0p.y,$0p.grid);});$A.$h0();};this.$of=function(){forGrid("main");forGrid("top");forGrid("bottom");function forGrid($2K){var $2M=$A.$hi[$2K].rowlist;$2M.forEach(function($U,y){if($U.isNewRow){return;};if(!$U.resource.cellsAutoUpdated){return;};$A.itline.forEach(function(ci,x){var i=$2K+"_"+x+"_"+y;delete $A.$i4[i];});});}};this.$rF=function(){var $B=$v();var $08=this.$ho();var $er=$08.xStart;var $0Y=$08.xEnd-$08.xStart;var $53=$08.yStart;var $es=$08.yEnd-$08.yStart;forRowlist("main",$53,$es);forRowlist("top",0,$A.$hi.top.rowlist.length);forRowlist("bottom",0,$A.$hi.bottom.rowlist.length);function forRowlist($2K,top,$0g){for(var j=0;j<$0g;j++){var y=top+j;var $U=$A.$hi[$2K].rowlist[y];for(var i=0;i<=$0Y;i++){var x=$er+i;if(!$U.hidden){if(!$A.$i4[$2K+"_"+x+"_"+y]){$B.push({"grid":$2K,"y":y});break;}}}}};return $B;};this.$mF=function(x,y,$2V){if(typeof this.onBeforeCellRender==='function'){$2V=$2V||"main";var $1K=$2V+"_"+x+"_"+y;if($A.beforeCellRenderCaching&&$A.$i4[$1K]){return;};$A.$i4[$1K]=true;var $1f=$A.$io(x);if(!$1f){return;};var $0e=$A.cells.findXy(x,y,$2V)[0];var $G={};$G.cell=$0e;$G.control=$A;$G.getPixels=function($M){var $M=new DayPilot.Date($M);var $eS=$A.getPixels($M).left;return $eS-$1f.left;};this.onBeforeCellRender($G);$r($G.cell,$G.cell.properties,$A.$rD);if($G.cell.properties.disabled){$A.$i4.$n7=true;};return $G;}};this.$rE=function($2Q,$0v){if($0v){for(var i=0;i<$0v.length;i++){if(!$q($2Q[$0v[i]])){return true;}}}else{for(var name in $2Q){if(!$q($2Q[name])){return true;}}};return false;};this.clearSelection=function(){this.$h4();mr.clear();};this.cleanSelection=this.clearSelection;this.$rg=function($09,end,$22){$09=new DayPilot.Date($09);end=new DayPilot.Date(end);var $U=$A.$hm($22);var $eT=$A.$if($09);var $4H=$eT.current||$eT.next;if(!$4H){throw new DayPilot.Exception("Time range selection 'start' out of timeline");};var $eU=$A.$if(new DayPilot.Date(end).addMilliseconds(-1));var $4I=$eU.current||$eU.previous;if(!$4I){throw new DayPilot.Exception("Time range selection 'end' out of timeline");};var $23={};$23.start={y:$U.index,x:$y($A.itline,$4H),"time":$09,"grid":$U.grid};$23.end={x:$y($A.itline,$4I),"time":end};$23.calendar=this;return $23;};this.selectTimeRange=function($09,end,$22,$eV){var $23=$A.$rg($09,end,$22);$A.$jW($23);if(!$eV){setTimeout(function(){$A.$jR($23);},0);}};this.$jM=function(){var $0O=DayPilotScheduler.$mY&&DayPilotScheduler.$mY.source;if($0O){$m($0O,$A.$hy($A.$qs.eventMovingSource));};$x(DayPilotScheduler.$mY);DayPilotScheduler.$mY=null;$A.$n8();$A.$mW.clear();if($u.movingLink){$u.movingLink.clear();$u.movingLink=null;}};this.$h4=function(){if($A.divShadow){$A.divShadow.innerHTML="";};if($A.$hi.top.divShadow){$A.$hi.top.divShadow.innerHTML="";};if($A.$hi.bottom.divShadow){$A.$hi.bottom.divShadow.innerHTML="";};$A.elements.range=[];$A.elements.range2=null;$A.$n8();$A.$jV=null;$A.$re=null;};var $1W={};$1W.$lB=null;$1W.$lw=false;$1W.$rG=function($O){if(!$O){return null;};var f={};if($O.type==="event"){f.e=$O.event;}else if($O.type==="cell"){var ci=$1W.$rH($O.x,$O.y);f.cell={};f.cell.start=ci.thc.start;f.cell.end=ci.thc.end;f.cell.resource=ci.row.id;};return f;};$1W.$kf=function($z){if(DayPilotScheduler.$lu){return;};if($1W.$lw){return;};$z=$z||{};var $eW=$z.dontFocus;var $O=$1W.$lB;if(!$O){return;};var x=$O.x;var y=$O.y;if($O.type==="cell"){var ci=$1W.$rH(x,y);var $U=ci.row;var $0r=$1W.$rI(x,y);if($0r){$n($0r,$A.$hy("_cell_focus"));};if($O.line==="top"&&$U.marginTop){$n($0r,$A.$hy("_cell_focus_top"));};if($O.line==="bottom"&&$U.marginBottom){$n($0r,$A.$hy("_cell_focus_bottom"));}}else{var $0r=$A.$j2($O.event);if($0r){$n($0r,$A.$hy("_event_focus"));}};if(!$eW){var $08=$A.$kx();if($08.start.x>=x){var $09=$A.itline[x].start;$A.scrollTo($09);}else if($08.end.x<=x){var end=$A.itline[x].end;$A.scrollTo(end,false,"right");};if($08.start.y>=y){$A.nav.scroll.scrollTop=$A.rowlist[y].top-$A.$hi.top.height;}else if($08.end.y<=y){var $U=$A.rowlist[y];var $0l=$U.top+$U.height;$A.nav.scroll.scrollTop=$0l-$A.nav.scroll.clientHeight+$A.$hi.bottom.height;}}};$1W.$lv=function(){var $O=$1W.$lB;if(!$O){return;};if($O.type==="cell"){var $0r=$1W.$rI($1W.$lB.x,$1W.$lB.y);if($0r){$m($0r,$A.$hy("_cell_focus"));$m($0r,$A.$hy("_cell_focus_top"));$m($0r,$A.$hy("_cell_focus_bottom"));}}else{var $0r=$A.$j2($O.event);if($0r){$m($0r,$A.$hy("_event_focus"));}}};$1W.$rH=function(x,y){var $B={};var $U=$A.rowlist[y];var $dT=$A.itline[x];var $0o=[];var $eX=$U.lines.map(function($14){var $B=$14.filter(function(e){return $l(e.part.start,e.part.end,$dT.start,$dT.end);});$0o=$0o.concat($B);return $B;});$B.lines=$eX;$B.thc=$dT;$B.row=$U;$B.events=$0o;return $B;};$1W.$jv=function(){var $O=$1W.$lB;if(!$O){return;};$1W.$lv();$1W.$lB=$1W.$rJ($O.x,$O.y,$O.pixels,$O.line);$1W.$kf({"dontFocus":true});};$1W.$rJ=function(x,y,$W,$14){var $O={};$W=$W||$A.itline[x].left;$14=$q($14)?"top":$14;var ci=$1W.$rH(x,y);var $eX=ci.lines;var $U=ci.row;var $0o=ci.events;var $eY=$U.marginTop||$U.marginBottom;var $eZ=false;var $f0=$0o.length>0;var $f1=$14;var event=null;var $f2=null;if(!$f0){$eZ=true;if($eY){$f1=$1W.$rK($14,$U);}else{$f1=0;}}else if($U.marginTop&&$14==="top"){$eZ=true;$f1="top";}else if($U.marginBottom&&$14==="bottom"){$eZ=true;$f1="bottom";}else{if($14==="top"){if($U.marginBottom){var $f3=ci.lines.find(function($14){return $14.find(function(e){return e.part.left<=$W&&$W<=e.part.right;});});if($f3){$f1=ci.lines.indexOf($f3);}else{var $f4=ci.lines.find(function($14){return $14.find(function(e){return $l(e.part.left,e.part.right,ci.thc.left,ci.thc.left+ci.thc.right);});});if($f4){$f1=ci.lines.indexOf($f4);$f2=$f4[0];}else{$f1="bottom";}}}else if($U.marginTop){$f1="top";}else{$f1=0;}}else if($14==="bottom"){if($eY){var $f3=ci.lines.slice().reverse().find(function($14){return $14.find(function(e){return e.part.left<=$W&&$W<=e.part.right;});});$f1=ci.lines.indexOf($f3);if($f1===-1){$f1=$1W.$rK($14,$U);}}else{$f1=$eX.length-1;}}else{$f1=$14;};var $f5=$eX[$f1];if(!$f2){$f2=$f5&&$f5.find(function(e){return e.part.left<=$W&&$W<=e.part.right;});};if(!$f2){$eZ=true;$f1=$1W.$rK($f1,$U);};event=$f2;};$O.x=x;$O.y=y;if($eZ){$O.type="cell";$O.pixels=$W;$O.line=$f1;return $O;}else{$O.type="event";$O.event=event;$O.pixels=event.part.left;$O.x=$A.$id(event.part.left).x;$O.line=$f1;};return $O;};$1W.$rL=function($9B){var $O={};var $f6=$1W.$lB;var $U=$A.rowlist[$f6.y];var $14=$U.lines[$f6.line];var ci=$1W.$rH($f6.x,$f6.y);var $eY=$U.marginTop||$U.marginBottom;if($9B==="right"){if($f6.type==="event"){var end=$f6.event.part.end;var $0d=$f6.event.part.right;var $dT=$A.$if(end);var $f7=$dT.i;var $f8=$dT.current.left+$dT.current.width;var $f9=$14.indexOf($f6.event)+1;var $4L=$14[$f9];var $fa=ci.lines[$f6.line];var $fb=$fa[$fa.indexOf($f6.event)+1];if($4L&&$4L.part.left===$0d){$O.x=$f7+1;$O.y=$f6.y;$O.type="event";$O.line=$f6.line;$O.pixels=$4L.part.left;$O.event=$4L;return $O;}else if($fb&&$eY){$O.x=$f7;$O.y=$f6.y;$O.type="event";$O.line=$f6.line;$O.pixels=$fb.part.left;$O.event=$fb;return $O;}else{if($f8===$0d){var $fc=$1W.$rM($f7);if($fc===$f7){return $f6;};$O.x=$f7+1;$O.y=$f6.y;$O.type="cell";$O.pixels=$A.itline[$O.x].left;$O.line=$f6.line;if($U.marginTop){$O.line="top";}else if($U.marginBottom){$O.line="bottom";};return $O;}else{$O.x=$f7;$O.y=$f6.y;$O.type="cell";$O.line=$f6.line;$O.pixels=$f6.event.part.right;if($eY){$O.line=$1W.$rK($f6.line,$U);};return $O;}}}else{var ci=$1W.$rH($f6.x,$f6.y);var $14=ci.lines[$f6.line];var $4L=$14&&$14.find(function(ev){return ev.part.left>$f6.pixels;});if($4L){$O.x=$f6.x;$O.y=$f6.y;$O.type="event";$O.event=$4L;$O.pixels=$4L.part.left;$O.line=$f6.line;return $O;}else{var $fc=$1W.$rM($f6.x);if($fc===$f6.x){return $f6;};return $1W.$rJ($f6.x+1,$f6.y,null,$f6.line);}}}else if($9B==="left"){var x=$f6.x;if($f6.type==="event"){x=$A.$id($f6.event.part.left).x;var $dT=$A.itline[x];if($f6.event.part.left===$dT.left){$O=$1W.$rJ(x-1,$f6.y,$dT.right,$f6.line);}else{var $f9=$14.indexOf($f6.event)-1;var $4L=$14[$f9];if($4L&&$4L.part.right===$f6.event.part.left){$dT=$A.$id($4L.part.right,true);$O.x=$dT.x;$O.y=$f6.y;$O.type="event";$O.line=$f6.line;$O.pixels=$4L.part.right;$O.event=$4L;return $O;}else{$dT=$A.$id($f6.event.part.left);$O.x=$dT.x;$O.y=$f6.y;$O.type="cell";$O.line=$f6.line;$O.pixels=$f6.event.part.left;if($eY){$O.line=$1W.$rK($f6.line,$U);};return $O;}}}else{var ci=$1W.$rH($f6.x,$f6.y);var $14=ci.lines[$f6.line];var $4L=$14&&$14.slice().reverse().find(function(ev){return ev.part.right<$f6.pixels;});if($4L){$O.x=$f6.x;$O.y=$f6.y;$O.type="event";$O.event=$4L;$O.pixels=$4L.part.right;$O.line=$f6.line;return $O;};var $fc=$1W.$rN($f6.x);if($fc===$f6.x){return $f6;};var $dT=$A.itline[x-1];var $f8=$dT.left+$dT.width;$O=$1W.$rJ(x-1,$f6.y,$f8,$f6.line);};return $O;}else if($9B==="down"){var ci=$1W.$rH($f6.x,$f6.y);var $f3=ci.lines.find(function($14){return $14.find(function(e){return e.part.left<=$f6.pixels&&$f6.pixels<=e.part.right;});});if($f6.line==="top"&&$U.marginTop){if($f3){var i=ci.lines.indexOf($f3);$O=$1W.$rJ($f6.x,$f6.y,$f6.pixels,i);$O.pixels=$f6.pixels;$O.x=$f6.x;return $O;}else{var $f4=ci.lines.find(function($14){return $14.find(function(e){return $l(e.part.left,e.part.right,ci.thc.left,ci.thc.left+ci.thc.right);});});if($f4){var e=$f4[0];$O=$1W.$rJ($f6.x,$f6.y,e.part.left,ci.lines.indexOf($f4));$O.pixels=$f6.pixels;$O.x=$f6.x;return $O;}else{var $fd=$1W.$rO($f6.y);if($fd===$f6.y){return $f6;};$O=$1W.$rJ($f6.x,$f6.y+1,$f6.pixels,"top");$O.pixels=$f6.pixels;$O.x=$f6.x;return $O;}}}else if($f6.line==="bottom"&&$U.marginBottom){var $fd=$1W.$rO($f6.y);if($fd===$f6.y){return $f6;};$O=$1W.$rJ($f6.x,$f6.y+1,$f6.pixels,"top");$O.pixels=$f6.pixels;$O.x=$f6.x;return $O;}else if($f6.line<$U.lines.length-1){var y=$f6.y;var $fe=$f6.line+1;if($U.marginTop&&$f6.line==="top"){$fe=0;};var $f3=ci.lines.slice($fe).find(function($14){return $14.find(function(e){return e.part.left<=$f6.pixels&&$f6.pixels<=e.part.right;});});if($f3){$fe=ci.lines.indexOf($f3);}else if($U.marginBottom){$fe="bottom";}else if($U.marginTop){var $f4=ci.lines.slice($f6.line+1).find(function($14){return $14.find(function(e){return $l(e.part.left,e.part.right,ci.thc.left,ci.thc.left+ci.thc.right);});});if($f4){var e=$f4[0];$O=$1W.$rJ($f6.x,$f6.y,e.part.left,ci.lines.indexOf($f4));return $O;}else{$fe="top";y+=1;}}else if($f6.event){$fe=$U.lines.length-1;}else{$fe=0;y+=1;};$O=$1W.$rJ($f6.x,y,$f6.pixels,$fe);$O.pixels=$f6.pixels;$O.x=$f6.x;return $O;}else if($f6.line===$U.lines.length-1&&$U.marginBottom){$O=$1W.$rJ($f6.x,$f6.y,$f6.pixels,"bottom");$O.pixels=$f6.pixels;$O.x=$f6.x;return $O;}else{var $fd=$1W.$rO($f6.y);if($fd===$f6.y){return $f6;};$O=$1W.$rJ($f6.x,$f6.y+1,$f6.pixels,"top");$O.pixels=$f6.pixels;$O.x=$f6.x;return $O;};throw new DayPilot.Exception("unhandled key");}else if($9B==="up"){var ci=$1W.$rH($f6.x,$f6.y);var $f3=ci.lines.slice().reverse().find(function($14){return $14.find(function(e){return e.part.left<=$f6.pixels&&$f6.pixels<=e.part.right;});});if($f6.line==="bottom"&&$U.marginBottom&&$f3){var i=ci.lines.indexOf($f3);$O=$1W.$rJ($f6.x,$f6.y,$f6.pixels,i);}else if($f6.line===0&&$U.marginTop){$O=$1W.$rJ($f6.x,$f6.y,$f6.pixels,"top");}else if($f6.line>0){var $fe="bottom";var y=$f6.y;var $f3=ci.lines.slice(0,$f6.line).reverse().find(function($14){return $14.find(function(e){return e.part.left<=$f6.pixels&&$f6.pixels<=e.part.right;});});if($f3){$fe=ci.lines.indexOf($f3);}else if($U.marginTop){$fe="top";}else if($U.marginBottom){y-=1;}else{$fe=0;};var $fd=$1W.$rP(y);if($fd===y){return $f6;};$O=$1W.$rJ($f6.x,y,$f6.pixels,$fe);}else{var $fd=$1W.$rP($f6.y);if($fd===$f6.y){return $f6;};$O=$1W.$rJ($f6.x,$f6.y-1,$f6.pixels,"bottom");};$O.x=$f6.x;$O.pixels=$f6.pixels;return $O;};return null;};$1W.$rK=function($14,$U){var $ff=($14==="top"&&$U.marginTop)||($14==="bottom"&&$U.marginBottom);if(typeof $14==="number"||!$ff){if($U.marginTop){return "top";}else if($U.marginBottom){return "bottom";}};return $14;};$1W.$rI=function(x,y,$2V){$2V=$2V||"main";var $1K=$2V+"_"+x+"_"+y;var $0r=$A.$gt.cells[$1K];return $0r;};$1W.$rQ=function(){return $1W.$lB;};$1W.$rR=function(){var $fg=$A.keyboardTarget;switch($fg){case "component":return $A.nav.top;case "document":return document;};throw new DayPilot.Exception("Invalid keyboardTarget value: "+$fg);};$1W.$m4=null;$1W.$rS=function(ev){if(ev.keyCode===16){var $23=$1W.$m4;$1W.$m4=null;if(!$23||!$23.end){return;};var $d9=$23.start.x<$23.end.x;var $0h=$d9?$23.start.x:$23.end.x;var $0i=$d9?$23.end.x:$23.start.x;$1W.$rT($0h,$23.start.y,$0i,{"forceSnap":true});}};$1W.$rU=function(ev){var $0c=37;var up=38;var $0d=39;var $fh=40;var $fi=13;var $fj={};$fj["_"+$0c]="left";$fj["_"+$0d]="right";$fj["_"+up]="up";$fj["_"+$fh]="down";var $eg=[$0c,up,$0d,$fh];var $fk=$eg.indexOf(ev.keyCode)!==-1;var $fl=[$0c,up,$0d,$fh,$fi];var $fm=$fl.indexOf(ev.keyCode)!==-1;var $de=DayPilotScheduler.$lu;if($de){return;};if(typeof $A.onKeyDown==="function"){var $G={};$G.originalEvent=ev;$G.preventDefault=function(){$G.preventDefault.value=true;};$A.onKeyDown($G);if($G.preventDefault.value){return;}};if($fk){ev.preventDefault();if(!$1W.$lB){$1W.$rV();return;}};if(!$fm){return;};var $6z=ev.shiftKey;if($1W.$lB){var $4O=$A.$me($1W.$lB.y);var $fn=!($4O&&$A.treePreventParentUsage);if($6z&&!$1W.$lB.event&&!$1W.$m4&&$fn){$1W.$m4={"calendar":$A,"forceSnap":true,"start":{x:$1W.$lB.x,y:$1W.$lB.y,$1g:$A.itline[$1W.$lB.x].start}};}};var $fo=!$1W.$m4;if(!$fo&&(ev.keyCode===up||ev.keyCode===$fh)){return;};var $4L=$1W.$rL($fj["_"+ev.keyCode]);var $G={};$G.previous=$A.keyboard.getFocus();$G.focus=$1W.$rG($4L);$G.preventDefault=function(){$G.preventDefault.value=true;};if($fk&&typeof $A.onKeyboardFocusChange==="function"){$A.onKeyboardFocusChange($G);if($G.preventDefault.value){return;}};if($fk){$1W.$lv();$1W.$lB=$4L;$1W.$kf();}else{switch(ev.keyCode){case $fi:ev.preventDefault();if($1W.$lB&&$1W.$lB.event){var $0r=$A.$j2($1W.$lB.event);$1W.$rW($0r,ev);}else if($fn){$1W.$rT($1W.$lB.x,$1W.$lB.y);};break;}};if($fk&&typeof $A.onKeyboardFocusChanged==="function"){$A.onKeyboardFocusChanged($G);if($G.preventDefault.value){return;}};if(ev.keyCode===$0c||ev.keyCode===$0d){if($1W.$m4){$1W.$m4.end={x:$1W.$lB.x,y:$1W.$lB.y,$1g:$A.itline[$1W.$lB.x].start};$A.$jW($1W.$m4);}};if($1W.$m4){}};$1W.$kM=function(){var $2g=$1W.$rR();$2g.removeEventListener("keyup",$1W.$rS);$2g.removeEventListener("keydown",$1W.$rU);};$1W.$rX=function(){var $2g=$1W.$rR();if($2g!==document){$A.nav.top.setAttribute("tabindex","-1");};if($A.$hQ()){return;};$2g.addEventListener("keyup",$1W.$rS);$2g.addEventListener("keydown",$1W.$rU);};$1W.$rW=function($0r,ev){$A.$im($0r,ev);};$1W.$rT=function(x,y,x2){$z=$z||{};var $23={};$23.forceSnap=true;$23.start={y:y,x:x,$1g:$A.itline[x].start};$23.end={x:typeof x2==="undefined"?x:x2};$23.end.time=$A.itline[$23.end.x].start;$23.calendar=$A;$A.$jV=$23;$A.$jR($23);};$1W.$rV=function(){var $08=$A.$kx();$1W.$lv();$1W.$lB=$1W.$rJ($08.start.x,$08.start.y);$1W.$kf();};$1W.$rY=function(){var $fp=$A.useEventBoxes==="Always";$fp=$fp&&!$A.$hQ();if(!$fp){return;};$1W.$rX();if($1W.$rR()!==document){$A.nav.top.focus();}};$1W.$rP=function(y){if(y<=0){return y;};var i=y;while(i>0){i-=1;if(!$A.rowlist[i].hidden){return i;}};return y;};$1W.$rO=function(y){var $X=$A.rowlist.length-1;if(y>=$X){return y;};var i=y;while(i<$X){i+=1;if(!$A.rowlist[i].hidden){return i;}};return y;};$1W.$rM=function(x){var $X=$A.itline.length-1;if(x>=$X){return x;};return x+1;};$1W.$rN=function(x){if(x<=0){return x;};return x+1;};$1W.$jk=function(){$1W.$lB=null;};this.$jj=$1W;this.keyboard={};this.keyboard.focusCell=function($M,$22){var $0e=$A.$jp($M,$22);if(!$0e){throw new DayPilot.Exception("Can't find the specified cell");};if($0e.grid!=="main"){throw new DayPilot.Exception("Can't focus a cell in a frozen row");};$1W.$lv();$1W.$lB=$1W.$rJ($0e.x,$0e.y);$1W.$kf();};this.keyboard.focusEvent=function(id){if(id instanceof DayPilot.Event){id=id.id();};var ev=$A.events.find(id);if(!ev){throw new DayPilot.Exception("Event not found");};ev=$A.events.$lh(ev.data);var $U=$A.rowlist[ev.part.dayIndex];var $O={};$O.type="event";$O.event=ev;$O.pixels=ev.part.left;$O.x=$A.$id(ev.part.left).x;$O.y=ev.part.dayIndex;$O.line=ev.part.line;$1W.$lv();$1W.$lB=$O;$1W.$kf();};this.keyboard.resetFocus=function(){$1W.$rV();};this.keyboard.getFocus=function(){return $1W.$rG($1W.$lB);};this.keyboard.move=function($9B,$z){$z=$z||{};var $eV=$z.dontFireEvent;$1W.$lv();var $4L=$1W.$rL($9B);var $G={};$G.previous=$A.keyboard.getFocus();$G.focus=$1W.$rG($4L);$G.preventDefault=function(){$G.preventDefault.value=true;};if(typeof $A.onKeyboardFocusChange==="function"&&!$eV){$A.onKeyboardFocusChange($G);if($G.preventDefault.value){$1W.$kf();return;}};$1W.$lB=$4L;$1W.$kf();if(typeof $A.onKeyboardFocusChanged==="function"&&!$eV){$A.onKeyboardFocusChanged($G);}};this.$jh={};var $0B=this.$jh;$0B.$ji=function(){delete $A.$gt.eventHeight;delete $A.$gt.headerHeight;};$0B.$qc=function(){return $A.xssProtection!=="Disabled";};$0B.$i9=function(){return DayPilot.Locale.find($A.locale);};$0B.$qD=function(){if($A.timeFormat!=='Auto'){return $A.timeFormat;};return $0B.$i9().timeFormat;};$0B.$qE=function(){if($A.weekStarts==='Auto'){var $as=$0B.$i9();if($as){return $as.weekStarts;}else{return 0;}}else{return $A.weekStarts||0;}};$0B.$nm=function(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("mobile")!==-1||ua.indexOf("android")!=-1;};$0B.$oS=function(){var $fq=/MSIE 6/i.test(navigator.userAgent);if($A.layout==='Auto'){if($fq){return 'TableBased';}else{return 'DivBased';}};return $A.layout;};$0B.$iI=function(){var $0m;if($A.notifyCommit==='Immediate'){$0m="Notify";}else if($A.notifyCommit==='Queue'){$0m="Queue";}else{throw new DayPilot.Exception("Invalid notifyCommit value: "+$A.notifyCommit);};return $0m;};$0B.$nI=function(){return $A.viewType!=='Days';};$0B.$l1=function($fr){if($A.useEventBoxes==='Always'){return true;};if($A.useEventBoxes==='Never'){return false;};return $fr<$A.$m1()*60*1000;};$0B.$mG=function(){var $fs=4;return typeof $A.durationBarHeight==="number"?$A.durationBarHeight:$fs;};$0B.$l0=function(){if($A.$gt.eventHeight){return $A.$gt.eventHeight;};var $0g=$A.$pD("_event_height").height;if(!$0g){$0g=$A.eventHeight;};$A.$gt.eventHeight=$0g;return $0g;};$0B.$p5=function(){if($A.$gt.headerHeight){return $A.$gt.headerHeight;};var $0g=$A.$pD("_header_height").height;if(!$0g){$0g=$A.headerHeight;};$A.$gt.headerHeight=$0g;return $0g;};$0B.$pc=function(){if($A.$gt.scrollLineHeight){return $A.$gt.scrollLineHeight;};var $0r=$k();$0r.style.fontSize="initial";$0r.style.display="none";$j().appendChild($0r);var $B=parseInt(window.getComputedStyle($0r).fontSize)||16;$j().removeChild($0r);$A.$gt.scrollLineHeight=$B;return $B;};$0B.$hG=function(){if($A.rowHeaderScrolling){return $A.rowHeaderSplitterWidth;};return 1;};$0B.$is=function(){if(typeof $A.multiSelectRectangle==="string"){return $A.multiSelectRectangle;};if($A.rectangleSelectHandling==="Disabled"){return "Disabled";};return $A.rectangleSelectMode;};$0B.$rZ=function(){if(typeof $A.multiSelectRectangle==="string"){if($A.multiSelectRectangle==="Free"||$A.multiSelectRectangle==="Row"){return "EventSelect";};return "Disabled";};return $A.rectangleSelectHandling;};$0B.$mD=function(){return $v($A.rowHeaderColumns).filter(function($68){return !$68.hidden;});};this.$s0={};var $7c=this.$s0;$7c.$mH=function($1L){var h={};h.top=0;h.height=0;var $ft=$0B.$p5();for(var i=0;i<=$1L;i++){var th=$A.timeHeaders[i];h.top+=h.height;h.height=th.height||$ft;};return h;};this.$lT=function(x,y,$2V){$2V=$2V||"main";var $1K=$2V+"_"+x+'_'+y;var $2K=$A.$hi[$2V];var $2M=$2K.rowlist;if($A.cellConfig){$1K=x+'_'+y;var $fu=0;for(var i=0;i<$A.resources.length;i++){if(!$A.resources[i].hidden){if($fu===y){y=i;break;};$fu+=1;}}};if(!this.cellProperties){this.cellProperties={};};if(this.cellProperties[$1K]){return this.cellProperties[$1K];};if(this.$gj){this.cellProperties[$1K]=$A.$s1(x,y);};if(!this.cellProperties[$1K]){var $U=$2M[y];var $22=$U.id;var $27=$U.start.getTime()-$A.$i1().getTime();var $1f=$A.$io(x);var $09=$1f.start.addTime($27);var end=$1f.end.addTime($27);var $fv={};$fv.start=$09;$fv.end=end;$fv.resource=$22;var $0e={};$0e.business=$A.isBusiness($fv);if($U.cellsDisabled){$A.$i4.$n7=true;$0e.disabled=true;};this.cellProperties[$1K]=$0e;};return this.cellProperties[$1K];};this.$s2=function($2f,x,y){var $1K=x+'_'+y;this.cellProperties[$1K]={};$r($2f,this.cellProperties[$1K],$A.$rD);return this.cellProperties[$1K];};this.$s1=function(x,y){if(!this.cellConfig){return null;};var $7l=this.cellConfig;var $0e=this.cellProperties[x+"_"+y];if(!$0e&&$7l.vertical){$0e=this.cellProperties[x+"_0"];};if(!$0e&&$7l.horizontal){$0e=this.cellProperties["0_"+y];};if(!$0e&&$7l["default"]){$0e=$7l["default"];};var $aO={};$r($0e,$aO,$A.$rD);return $aO;};this.$gJ=function(){if(this.$gj){return;};if(this.$gk){return;};this.$gk=true;if(!this.cellConfig){return;};var $7l=this.cellConfig;if($7l.vertical){for(var x=0;x<$7l.x;x++){var $fw=this.cellProperties[x+"_0"];if(!$fw){continue;};for(var y=1;y<$7l.y;y++){this.$s2($fw,x,y);}}};if($7l.horizontal){for(var y=0;y<$7l.y;y++){var $fw=this.cellProperties["0_"+y];if(!$fw){continue;};for(var x=1;x<$7l.x;x++){this.$s2($fw,x,y);}}};if($7l["default"]){var $fw=$7l["default"];for(var y=0;y<$7l.y;y++){for(var x=0;x<$7l.x;x++){if(!this.cellProperties[x+"_"+y]){this.$s2($fw,x,y);}}}}};this.isBusiness=function($0e,$15){var $09=$0e.start;var end=$0e.end;var $4J=(end.getTime()-$09.getTime())/(1000*60);if($4J<=1440){if(!$A.businessWeekends&&!$15){if($0e.start.dayOfWeek()===0||$0e.start.dayOfWeek()===6){return false;}}};if($4J<720){var $fx=$09.getHours();$fx+=$09.getMinutes()/60.0;$fx+=$09.getSeconds()/3600.0;$fx+=$09.getMilliseconds()/3600000.0;var $fy=this.businessBeginsHour;var $fz=this.businessEndsHour;if($fz===0){$fz=24;};if($fy===$fz){return false;};if($fy<$fz){if($fx<$fy){return false;};if($fz>=24){return true;};if($fx>=$fz){return false;}}else{if($fx<$fz){return true;};if($fx>=$fy){return true;};return false;}};return true;};this.$pw=function(){switch($A.$gx){case "aspnet":if(!this.$kn()){throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");};break;case "netmvc":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");};break;case "javaxx":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");};break;}};this.$gR=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$mo=function(){var el=$A.nav.top;if(!el){return false;};return el.offsetWidth>0&&el.offsetHeight>0;};this.$s3=function(){var $cw=$A.$mo;if($cw()){$A.$pg();return;};if(!$A.$kD){$A.$kD=setInterval(function(){if($cw()){clearInterval($A.$kD);$A.show();$A.$ne();$A.$pg();}},100);}};this.$s4=function($W){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$W-(this.$hH()+2);this.$gV();};this.setHeight=this.$s4;this.$hm=function(id){return $A.$nL(id).first();};this.$s5=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw new DayPilot.Exception("DayPilot.Scheduler: The placeholder element not found: '"+id+"'.");}}else{throw new DayPilot.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");}};this.$s6=function(){this.rowHeaderColumnsMode="Legacy";this.$pC();this.$gI();this.$gK();this.$jn();this.$gS();this.$pG();this.$kB();DayPilotScheduler.$s7(this);this.$gE(this.afterRenderData,false);this.$pO();this.$gD();this.$il("Init");};this.init=function(){if(this.$hc){throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.")};this.$s5();if(this.nav.top.dp){if(this.nav.top.dp===$A){return $A;};if(this.$kn()){return $A;};throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");};this.$pv();this.$s8();this.$s3();this.$s9();return this;};this.$s9=function(){if($A.keyboardEnabled){$1W.$rY();}};this.$sa=function(){$A.multiselect.$gZ($A.selectedEvents);};this.$s8=function(){this.$jf();var $fA=this.$lq();if($fA){this.$s6();this.$hc=true;this.$gF();return;};this.$pG();this.$kB();DayPilotScheduler.$s7(this);this.$pO();this.$sa();if($A.zoomLevels&&$A.zoomLevels[$A.zoom.active]){$A.zoom.setActive($A.zoom.active);};if(!$A.$hc&&$0a.$i3()){if(!$A.$hf){$A.$hf={"date":$A.startDate};}};this.$iU();var angular=$A.$jq.scope||$A.$he.enabled;if($A.scrollToDate){$A.scrollTo($A.scrollToDate);}else if($A.scrollX||$A.scrollY){$A.setScroll($A.scrollX,$A.scrollY);}else if(!angular){$A.$h8();};if($A.scrollToResourceId){$A.scrollToResource($A.scrollToResourceId);$A.scrollToResourceId=null;};var $fB=function(){if($A.scrollY){$A.setScroll($A.scrollX,$A.scrollY);}};window.setTimeout($fB,200);if(this.messageHTML){window.setTimeout(function(){$A.message($A.messageHTML);},0);};this.$gD();this.$gF();this.$gE(this.afterRenderData,false);if($A.initEventEnabled){setTimeout(function(){$A.$il("Init");});};this.$jx();this.$hc=true;this.$sb=true;var p=$A.$hf;if(p){$A.scrollTo(p.date,p.animated,p.position);}else{$A.$h8();};$A.$hf=null;};this.$px=function(){if($A.$hQ()){delete $A.infinite;}};this.$sc=null;this.$ju=function($z){if(!$z){return;};var $fC={"resources":{"preInit":function(){var $ah=this.data;if(!$ah){return;};$A.resources=$ah;}},"events":{"preInit":function(){var $0o=this.data;if(!$0o){return;};if(DayPilot.isArray($0o.list)){$A.events.list=$0o.list;}else{$A.events.list=$0o;}},"postInit":function(){}},"links":{"preInit":function(){var $fD=this.data;if(!$fD){return;};if(DayPilot.isArray($fD.list)){$A.links.list=$fD.list;}else{$A.links.list=$fD;}},"postInit":function(){}},"scrollTo":{"preInit":function(){},"postInit":function(){if(this.data){$A.$hd(this.data,$z.scrollToAnimated,$z.scrollToPosition);}}},"scrollX":{"postInit":function(){if(this.data){$A.$hk(this.data);}}},"scrollY":{"postInit":function(){if(this.data){$A.$hD(this.data);}}},"zoom":{"preInit":function(){var $1K=this.data;if(typeof $1K==="string"){var id=$1K;$1K=$A.zoom.$iO(id);};var $fE=$1K!==$A.zoom.active;var $M=$A.zoom.$iP();var $G=$A.zoom.$iQ($1K,$M);if($fE){this.date=$M;}else{this.date=null;}},"postInit":function(){if(this.date){$A.$hd(this.date,false,$A.zoomPosition);}}},};$A.$sc=$fC;if($A.$he.scrollToRequested){$fC.scrollTo.data=$A.$he.scrollToRequested;$A.$he.scrollToRequested=null;};if($A.$he.scrollXRequested){$fC.scrollX.data=$A.$he.scrollXRequested;$A.$he.scrollXRequested=null;};if($A.$he.scrollYRequested){$fC.scrollY.data=$A.$he.scrollYRequested;$A.$he.scrollYRequested=null;};for(var name in $z){if(!$fC[name]){$A[name]=$z[name];}};for(var name in $z){if($fC[name]){var $0p=$fC[name];$0p.data=$z[name];if($0p.preInit){$0p.preInit();}}}};this.$jx=function(){var $fC=$A.$sc;for(var name in $fC){var $0p=$fC[name];if($0p.postInit){$0p.postInit();}};$A.$sc={};};this.diag=function(){var $B={};$B.dataEvents=$A.events.list&&$A.events.list.length;$B.dataRows=$A.rowlist&&$A.rowlist.length;$B.dataTimeline=$A.itline&&$A.itline.length;$B.dataCells=$B.dataTimeline*$B.dataRows;$B.renderedEvents=$A.elements.events.length;$B.renderedCells=$A.elements.cells.length;$B.renderedRows=$A.divResScroll.firstChild.childNodes.length-1;$B.domEvents=$A.divEvents.getElementsByTagName("*").length;$B.domCells=$A.divCells.getElementsByTagName("*").length;$B.domRows=$A.divResScroll.getElementsByTagName("*").length;return $B;};this.temp={};this.temp.allowDuplicateEventIds=false;this.internal={};this.internal.initialized=function(){return $A.$hc;};this.internal.dragInProgress=this.$qO;this.internal.startMoving=this.$ou;this.internal.invokeEvent=this.$iB;this.internal.eventMenuClick=this.$jQ;this.internal.timeRangeMenuClick=this.$jY;this.internal.resourceHeaderMenuClick=this.$k0;this.internal.linkMenuClick=this.$jZ;this.internal.bubbleCallBack=this.$jO;this.internal.findEventDiv=this.$j2;this.internal.rowStartMoving=this.$k9.$ou;this.internal.getNodeChildren=this.$kz;this.internal.callback=function(){$A.$il.apply($A,arguments);};this.internal.createRowObject=this.$k2;this.internal.restools=this.$ox;this.internal.gantt=null;this.internal.adjustEndIn=$A.$jI;this.internal.adjustEndNormalize=$A.$jJ;this.internal.xssTextHtml=$A.$hz;this.internal.touch=$A.$nx;this.internal.cssNames=$A.$qs;this.internal.enableCellStacking=function($bN){$A.$gl=true;$A.$gm=$bN;};this.internal.deleteDragSource=function(){$A.$gC();};this.internal.skipUpdate=$A.$he.skipUpdate;this.internal.skipped=$A.$he.skipped;this.internal.loadOptions=$A.$ju;this.internal.postInit=$A.$jx;this.internal.enableAngular2=function(){$A.$he.enabled=true;};this.internal.eventsFromAttr=function(){$A.$he.$lC=true;};this.internal.resourcesFromAttr=function(){$A.$he.$lM=true;};this.internal.evImmediateRefresh=function(){$A.events.$jN();};this.internal.enableReact=function($fF,$fG){$A.$hh.react=$fF;$A.$hh.reactDOM=$fG;};this.internal.reactRefs=function(){return $r($A.$hh,{},["react","reactDOM"]);};this.Init=this.init;this.$ju($z);};debug=new DayPilot.Scheduler().v==="${v\u007d";DayPilot.Row=function($U,$A){if(!$U){throw new DayPilot.Exception("No row object supplied when creating DayPilot.Row");};if(!$A){throw new DayPilot.Exception("No parent control supplied when creating DayPilot.Row");};this.$sd={};var $0R=this.$sd;$0R.id=$U.id;$0R.name=$U.name;$0R.data=$U.resource;$0R.tags=$U.tags;var r=this;r.isRow=true;r.menuType='resource';r.start=$U.start;r.name=$U.name;r.value=$U.id;r.id=$U.id;r.tags=$U.tags;r.bubbleHtml=$U.bubbleHtml;r.index=$U.index;r.displayY=$U.displayY;r.level=$U.level;r.calendar=$A;r.data=$U.resource;r.grid=$U.grid;r.$mR=$U;r.$={};r.$.row=$U;r.toJSON=function($95){var $2n={};$2n.start=this.start;$2n.name=this.name;$2n.value=this.value;$2n.id=this.id;$2n.index=this.index;return $2n;};r.parent=function(){if(!r.$mR.$ow){return null;};return $A.$k2(r.$mR.$ow);};r.children=function(){var $0n=$v(r.$.row.children).map(function(i){return $A.$k2($A.rowlist[i]);});$0n.add=function($eI){var r1=r.$.row.resource;if(!r1.children){r1.children=[];};r1.children.push($eI);};return $0n;};r.splitParent=function(){if(r.$mR.split.parent){return $A.$k2(r.$mR.split.parent);};return null;};r.splitChildren=function(){var $0n=r.$mR.split.list||[];return $0n.map(function(c){return $A.$k2(c);});};r.loaded=function(){return r.$mR.loaded;};Object.defineProperty(r,"hidden",{get:function(){return r.$mR.hidden;},});Object.defineProperty(r,"hiddenUsingFilter",{get:function(){return r.$mR.$oK;},set:function($fH){r.$mR.$oK=$fH;if(!$fH){r.$mR.hidden=!r.$mR.$oM();}}});r.cells={};r.cells.all=function(){var $0n=[];var $2x=$A.itline.length;var y=r.index;for(var x=0;x<$2x;x++){var $0e=$A.cells.findXy(x,y,r.grid);$0n.push($0e[0]);};return $A.$lU($0n);};r.cells.forRange=function($09,end){var $U=r;var $27=$U.start.getTime()-$A.$i1().getTime();$09=new DayPilot.Date($09);end=new DayPilot.Date(end);var $80=$A.$i1().addTime($27);var $2X=$A.$i7().addTime($27);if($09<$80){$09=$80;};if(end>$2X){end=$2X;};var $5b=$A.cells.find($09,r)[0];var $5c=$A.cells.find(end.addTime(-1),r)[0];if(!$5b){return null;};if(!$5c){return null;};if($5b.y!==$5c.y){return null;};var y=$5b.y;var $0n=[];for(var x=$5b.x;x<=$5c.x;x++){$0n.push($A.cells.$lP(x,y,$5b.grid));};return $A.$lU($0n);};r.cells.totalDuration=function(){return new DayPilot.Duration(r.cells.all().map(function($0e){return $0e.end.getTime()-$0e.start.getTime();}).reduce(function($fI,$fH){return $fI+$fH;},0));};r.events={};r.events.all=function(){var $0n=$v();for(var i=0;i<r.$mR.events.length;i++){$0n.push(r.$mR.events[i]);};return $0n;};r.events.isEmpty=function(){return r.$mR.events.length===0;};r.events.forRange=function($09,end){return r.$mR.events.forRange($09,end);};r.events.totalDuration=function(){var $16=0;r.events.all().forEach(function($0p){$16+=$0p.part.end.getTime()-$0p.part.start.getTime();});return new DayPilot.Duration($16);};r.groups={};r.groups.collapseAll=function(){for(var i=0;i<r.$mR.blocks.length;i++){var $9f=r.$mR.blocks[i];var $fJ=new $fK($9f);$fJ.$se();};$A.$iM();$A.$iN([r.$mR]);$A.$gV();};r.groups.expandAll=function(){for(var i=0;i<r.$mR.blocks.length;i++){var $9f=r.$mR.blocks[i];var $fJ=new $fK($9f);$fJ.$sf();};$A.$iM();$A.$iN([r.$mR]);$A.$gV();$A.$h2();};r.groups.expanded=function(){var $0n=[];for(var i=0;i<r.$mR.blocks.length;i++){var $9f=r.$mR.blocks[i];if($9f.expanded&&$9f.lines.length>$A.groupConcurrentEventsLimit){$0n.push(new $fK($9f));}};return $v($0n);};r.groups.collapsed=function(){var $0n=[];for(var i=0;i<r.$mR.blocks.length;i++){var $9f=r.$mR.blocks[i];if(!$9f.expanded){$0n.push(new $fK($9f));}};return $v($0n);};r.groups.all=function(){var $0n=[];for(var i=0;i<r.$mR.blocks.length;i++){var $9f=r.$mR.blocks[i];$0n.push(new $fK($9f));};return $v($0n);};r.events.collapseGroups=r.groups.collapseAll;r.events.expandGroups=r.groups.expandAll;r.column=function(i){return new $fL(r,i);};r.toggle=function(){$A.$mi(r.index);};r.collapse=function(){if(r.$.row.expanded){r.toggle();}};r.expand=function(){if(!r.$.row.expanded){r.toggle();}};r.remove=function(){$A.rows.remove(r);};r.edit=function(){$A.rows.edit(r);};r.addClass=function($5f){var $U=r;var $8d=$A.divHeader;var $U=$8d.rows[$U.index];if($U){var $0b=$v($U.cells).map(function($0e){return $0e.cellDiv;});$n($0b,$5f);};r.$.row.cssClass=DayPilot.Util.addClassToString(r.$.row.cssClass,$5f);r.data.cssClass=$5f;};r.removeClass=function($5f){var $U=r;var $8d=$A.divHeader;var $U=$8d.rows[$U.index];if($U){var $0b=$v($U.cells).map(function($0e){return $0e.cellDiv;});$m($0b,$5f);};r.$.row.cssClass=DayPilot.Util.removeClassFromString(r.$.row.cssClass,$5f);r.data.cssClass=DayPilot.Util.removeClassFromString(r.data.cssClass,$5f);};var $fK=function($9f){var $fM=function($9f){for(var i=0;i<$A.elements.events.length;i++){var $0r=$A.elements.events[i];if($0r.event===$9f){return $0r;}};return null;};this.$sf=function(){$9f.expanded=true;var $0n=$A.$nT;$v($9f.events).forEach(function(e){$0n.push(e.id());});var $0r=$fM($9f);if($0r){$A.$pY($0r);var $cB=$y($A.elements.events,$0r);if($cB!==-1){$A.elements.events.splice($cB,1);}}};this.expand=function(){this.$sf();$A.$iM();$A.$iN([$9f.row]);$A.$gV();$A.$h2();};this.$se=function(){if($9f.lines.length>$A.groupConcurrentEventsLimit){$9f.expanded=false;var $4Q=$v($9f.events).map(function(e){return e.id()});$A.$nT=$A.$nT.filter(function($0p){return !$w($4Q,$0p);});}};this.collapse=function(){this.$se();$A.$iM();$A.$iN([$9f.row]);$A.$gV();};};var $fL=function($U,i){this.html=function($0F){var $8d=$U.calendar.divHeader;var $U=$8d.rows[$U.index];if(!$U){throw new DayPilot.Exception("Row not rendered");};var $0e=$U.cells[i];var $0C=$0e.textDiv;if(typeof $0F==="undefined"){return $0C.innerHTML;}else{$0C.innerHTML=$0F;}};};};DayPilotScheduler.$ii=null;DayPilotScheduler.$lY=null;DayPilotScheduler.$qi=null;DayPilotScheduler.$m3=null;DayPilotScheduler.$mn=null;DayPilotScheduler.$ih=false;DayPilotScheduler.$pH=false;DayPilotScheduler.$qK=null;DayPilotScheduler.$sg=null;DayPilotScheduler.$sh=function(element,$1l,id,$0C){DayPilot.us(element);var $fN=DayPilotScheduler.$n3={};$fN.element=element;$fN.duration=$1l;$fN.text=$0C;$fN.id=id;$fN.data={"id":id,"text":$0C,"duration":$1l,"externalHtml":$0C};return false;};DayPilot.Scheduler.def={};DayPilot.Scheduler.startDragging=function($z){var $z=$z||{};var element=$z.element;var $fO=$z.keepElement?null:element;DayPilot.us(element);var $fN=DayPilotScheduler.$n3={};$fN.element=$fO;$fN.id=$z.id;$fN.duration=$z.duration||60;$fN.text=$z.text||"";$fN.data=$z;$fN.$r1=$z;$fN.$r0=$z.data;return false;};DayPilot.Scheduler.makeDraggable=function($z){$z=$z||{};var element=$z.element;var $fO=$z.keepElement?null:($z.remove||element);var $I=$z.data||{};var id=typeof $z.id!=="undefined"?$z.id:$I.id;var $0C=typeof $z.text==="string"?$z.text:$I.text||"";var $1l=$z.duration||$I.duration;if($1l instanceof DayPilot.Duration){$1l=$1l.totalSeconds();};if(!$1l){if($I.start&&$I.end){$1l=new DayPilot.Duration($I.start,$I.end).totalSeconds();}else{$1l=60;}};if(!element){throw new DayPilot.Exception("makeDraggable(options): options.element must be specified");};DayPilot.us(element);DayPilot.re(element,"mousedown",function(ev){if(!$t(ev).left){return;};startDragging();var element=(ev.target||ev.srcElement);if(element.tagName){var $fP=element.tagName.toLowerCase();if($fP==="textarea"||$fP==="select"||$fP==="input"){return false;}};ev.preventDefault();return false;});DayPilot.reNonPassive(element,"touchstart",function(ev){var $cX=0;window.setTimeout(function(){startDragging();DayPilotScheduler.$pM(ev);ev.preventDefault();},$cX);ev.preventDefault();});function startDragging(){var $fN=DayPilotScheduler.$n3={};$fN.element=$fO;$fN.id=id;$fN.duration=$1l;$fN.text=$0C;$fN.data=$z;$fN.$r1=$z;$fN.$r0=$z.data;}};DayPilot.Scheduler.stopDragging=function(){if(DayPilotScheduler.$n3){if(DayPilotScheduler.$n3.$qY){var e=DayPilotScheduler.$n3.$qY;var $fQ=e.event.calendar;if($fQ){$m(e,$fQ.$hy($A.$qs.eventMovingSource));}}};DayPilotScheduler.$si();if(DayPilotScheduler.$m3){$x(DayPilotScheduler.$mm);DayPilotScheduler.$m3=null;DayPilotScheduler.$mn=null;DayPilotScheduler.$mm=null;};if(DayPilotScheduler.$ii){var $A=DayPilotScheduler.$lY.calendar;if($A){$A.$jM();$A.$jL=null;$m(DayPilotScheduler.$ii,$A.$hy($A.$qs.eventMovingSource));};$x(DayPilotScheduler.$mY);DayPilotScheduler.$ii=null;DayPilotScheduler.$lY=null;DayPilotScheduler.$mY=null;};if(DayPilotScheduler.$m4){var $A=DayPilotScheduler.$m4.calendar;$A.clearSelection();DayPilotScheduler.$m4=null;};$j().style.cursor='';$v(DayPilotScheduler.$sj).forEach(function($A){$A.$pl();$A.$n8();$A.$k9.$oj();$A.$mW.clear();});};DayPilot.Scheduler.registerDropTarget=function($z){$z=$z||{};var element=$z.element;var $fR=$z.onDragOver;var $fS=typeof $fR==="function";var $fT=$z.onDrop;var $fU=typeof $fT==="function";var $fV=$z.onDragLeave;var $fW=typeof $fV==="function";if(!element){throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified");};element.addEventListener("mousemove",function(ev){if(!DayPilotScheduler.$n3){return;};var event=DayPilotScheduler.$n3.event;if(!event){return;};if(!$fS){return;};var $G={};$G.e=event;$fR($G);});element.addEventListener("mouseleave",function(ev){if(!DayPilotScheduler.$n3){return;};var event=DayPilotScheduler.$n3.event;if(!event){return;};if(!$fW){return;};var $G={};$G.e=event;$fV($G);});element.addEventListener("mouseup",function(ev){if(!DayPilotScheduler.$n3){return;};var event=DayPilotScheduler.$n3.event;if(!event){return;};if(!$fU){return;};var $G={};$G.e=event;$fT($G);});};DayPilotScheduler.$si=function(){if(DayPilotScheduler.$qX){$j().removeChild(DayPilotScheduler.$qX);DayPilotScheduler.$qX=null;};DayPilotScheduler.$n3=null;};DayPilotScheduler.$sk=function(){var $fN=DayPilotScheduler.$n3;if(!$fN){return;};var $z=$fN&&$fN.$r1;var $fT=$z&&$z.onDrop;if(typeof $fT==="function"){var $G={};$G.options=$z;$fT($G);}};DayPilotScheduler.$s7=function($A){if(!DayPilotScheduler.$sj){DayPilotScheduler.$sj=$v();DayPilotScheduler.$sj.out=function(){var $0n=DayPilotScheduler.$sj;$0n.forEach(function(c){c.$p7();});};};for(var i=0;i<DayPilotScheduler.$sj.length;i++){if(DayPilotScheduler.$sj[i]===$A){return;}};DayPilotScheduler.$sj.push($A);};DayPilotScheduler.$kS=function($A){var a=DayPilotScheduler.$sj;if(a){var i=$y(a,$A);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotScheduler.$pI);DayPilot.ue(document,'mouseup',DayPilotScheduler.$pJ);DayPilot.ue(document,'mousedown',DayPilotScheduler.$pK);DayPilot.ue(document,'touchmove',DayPilotScheduler.$pM);DayPilot.ue(document,'touchend',DayPilotScheduler.$pL);DayPilot.ue(window,'keyup',DayPilotScheduler.$pN);DayPilotScheduler.$pH=false;}};function calendarFromTouchEvent(ev){var $fX=ev.touches[0].clientX;var $fY=ev.touches[0].clientY;var el=document.elementFromPoint($fX,$fY);while(el&&el.parentNode){el=el.parentNode;if(el.daypilotMainD){return el.calendar;}};return false;};function touchMousePos(ev){var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $dx={};$dx.x=x;$dx.y=y;return $dx;};function status($g,$b4){var status=document.getElementById("status");if(!status){return;};if($b4){status.innerHTML="";};status.innerHTML+=" "+$g;};DayPilotScheduler.$pM=function(ev){if(DayPilotScheduler.$m3){var $A=DayPilotScheduler.$m3.event.calendar;$A.coords=$A.$nx.$qk(ev);$A.$nx.$qq();};if(DayPilotScheduler.$ii&&!DayPilotScheduler.$n3){var $A=DayPilotScheduler.$lY.calendar;$A.coords=$A.$nx.$qk(ev);$A.$nx.$qr();(function dragOut(){if(!$A.dragOutAllowed){return;};var $fZ=calendarFromTouchEvent(ev);if(!$fZ||$fZ!==$A){var e=DayPilotScheduler.$lY;DayPilotScheduler.$n3={};var $fN=DayPilotScheduler.$n3;$fN.id=e.id();$fN.text=e.text();$fN.$qY=DayPilotScheduler.$ii;$fN.element=null;$fN.duration=(e.rawend().getTime()-e.start().getTime())/1000;$fN.text=e.text();$fN.id=e.id();$fN.event=$r(e,new DayPilot.Event());$A.$n8();$x(DayPilotScheduler.$mY);DayPilotScheduler.$mY.calendar=null;DayPilotScheduler.$mY=null;DayPilotScheduler.$m2=null;DayPilotScheduler.$sj.out();}})();};if(DayPilotScheduler.$n3){var $dx=touchMousePos(ev);var $A=calendarFromTouchEvent(ev);if($A){if(DayPilotScheduler.$qX){$j().removeChild(DayPilotScheduler.$qX);};DayPilotScheduler.$qX=null;$A.coords=$A.$nx.$qk(ev);if(!DayPilotScheduler.$mY&&$A.rowlist.length>0){if(!DayPilotScheduler.$ii){DayPilotScheduler.$ii={};var event=DayPilotScheduler.$n3.event;if(!event){var ev=$A.$qZ();event=new DayPilot.Event(ev);event.calendar=$A;event.part.duration=DayPilotScheduler.$n3.duration*1000;};event.part.external=true;var $0O=DayPilotScheduler.$n3.$qY;if($0O&&$0O.event&&$0O.event.calendar===$A){event.part.external=false;};DayPilotScheduler.$lY=event;};DayPilotScheduler.$mY=$A.$kX(DayPilotScheduler.$lY);};if(DayPilotScheduler.$ii){$A.$nx.$qr();}}else{$x(DayPilotScheduler.$mY);var $g0=DayPilotScheduler.$ii;DayPilotScheduler.$ii=null;DayPilotScheduler.$lY=null;DayPilotScheduler.$mY=null;if(!DayPilotScheduler.$qX){DayPilotScheduler.$qX=DayPilotScheduler.$sl(DayPilotScheduler.$n3.$r1);DayPilotScheduler.$qX.source=$g0;};var $2U=DayPilotScheduler.$qX;$2U.style.left=$dx.x+'px';$2U.style.top=$dx.y+'px';DayPilotScheduler.$sj.out();}}};DayPilotScheduler.$pL=function(ev){DayPilotScheduler.$pa=false;DayPilotScheduler.$pJ(ev);};DayPilotScheduler.$pI=function(ev){if(typeof(DayPilotScheduler)==='undefined'){return;};if($u.touch.active||$u.touch.start){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $dx=DayPilot.mc(ev);if(DayPilotScheduler.$n3){if(!DayPilotScheduler.$n3.$sm){var $z=DayPilotScheduler.$n3.$r1||{};var $g1=$z.onDragStart;var $2c=false;if(typeof $g1==="function"){var $G={};$G.options=$z;$G.preventDefault=function(){$G.preventDefault.value=true;};$g1($G);$2c=$G.preventDefault.value;};DayPilotScheduler.$n3.$sm=true;if($2c){DayPilotScheduler.$sk();DayPilotScheduler.$n3=null;return;}};$j().style.cursor='move';if(!DayPilotScheduler.$qX){DayPilotScheduler.$qX=DayPilotScheduler.$sl(DayPilotScheduler.$n3.$r1);};var $2U=DayPilotScheduler.$qX;$2U.style.left=$dx.x+'px';$2U.style.top=$dx.y+'px';DayPilotScheduler.$ii=null;DayPilotScheduler.$lY=null;if(DayPilotScheduler.$mY){var $g2=DayPilotScheduler.$mY.calendar;$g2&&$g2.$n8();DayPilotScheduler.$mY.calendar=null;$x(DayPilotScheduler.$mY);DayPilotScheduler.$mY=null;}}else if(DayPilotScheduler.$ii&&DayPilotScheduler.$lY&&DayPilotScheduler.$lY.calendar.dragOutAllowed&&!DayPilotScheduler.$n3){var $g2=DayPilotScheduler.$lY.calendar;var ev=DayPilotScheduler.$lY;$j().style.cursor='move';if(!DayPilotScheduler.$qX){DayPilotScheduler.$qX=DayPilotScheduler.$sl(ev.data);DayPilotScheduler.$qX.source=DayPilotScheduler.$ii;};var $2U=DayPilotScheduler.$qX;$2U.style.left=$dx.x+'px';$2U.style.top=$dx.y+'px';DayPilotScheduler.$n3={};var $fN=DayPilotScheduler.$n3;$fN.$qY=DayPilotScheduler.$ii;$fN.element=null;$fN.duration=(ev.rawend().getTime()-ev.start().getTime())/1000;$fN.text=ev.text();$fN.id=ev.value();$fN.event=$r(ev,new DayPilot.Event());$g2.$n8();$x(DayPilotScheduler.$mY);DayPilotScheduler.$mY.calendar=null;DayPilotScheduler.$mY=null;};if(DayPilotScheduler.$nk&&ev.buttons===0){var $bf=DayPilotScheduler.$nk;$bf.cleanup();DayPilotScheduler.$nk=null;};DayPilotScheduler.$sj.out();};DayPilotScheduler.$sn=function(ev){if(!DayPilotScheduler.$sj){return;};for(var i=0;i<DayPilotScheduler.$sj.length;i++){var c=DayPilotScheduler.$sj[i];DayPilotScheduler.$kS(c);}};DayPilotScheduler.$pK=function(ev){if(DayPilotScheduler.$lu){DayPilotScheduler.$lu.blur();}};DayPilotScheduler.$pN=function(ev){var $95=ev.keyCode;if($95===17){if(DayPilotScheduler.$qL){var $A=DayPilotScheduler.$qL;$A.$rh.dispatch();}}};DayPilotScheduler.$pJ=function(ev){$v(DayPilotScheduler.$sj).forEach(function($A){$A.$pl();$A.$ii={};$A.$qP=null;});if(DayPilotScheduler.$m3){var $g3=function(){var e=DayPilotScheduler.$mn;var $A=e.calendar;$j().style.cursor='';DayPilotScheduler.$m3=null;DayPilotScheduler.$mn=null;$x(DayPilotScheduler.$mm);DayPilotScheduler.$mm=null;if($A){$A.$qQ=null;}};setTimeout(function(){DayPilotScheduler.$ih=false;});if(!DayPilotScheduler.$mm){$g3();return;};var e=DayPilotScheduler.$mn;var $A=e.calendar;var $0S=DayPilotScheduler.$mm.finalStart;var $1y=DayPilotScheduler.$mm.finalEnd;var $3W=DayPilotScheduler.$mm.overlapping;var $cZ=!DayPilotScheduler.$mm.allowed;var $g4=$A.$mJ.isInvalid();$A.$n8();$A.$mJ.clear();var $1B=DayPilotScheduler.$m3.dpBorder==="left"?"start":"end";$g3();if($3W||$cZ||$g4||$A.$mJ.forbidden){return;};$A.$iC(e,$0S,$1y,$1B);}else if(DayPilotScheduler.$lY){var $g3=function(){$u.movingAreaData=null;var $A=DayPilotScheduler.$mY&&DayPilotScheduler.$mY.calendar;if(DayPilotScheduler.$mY){$x(DayPilotScheduler.$mY);DayPilotScheduler.$mY.calendar=null;};$j().style.cursor='';DayPilotScheduler.$ii=null;DayPilotScheduler.$lY=null;DayPilotScheduler.$sk();DayPilotScheduler.$n3=null;if($A){$A.$jL=null;}};setTimeout(function(){DayPilotScheduler.$ih=false;});if(!DayPilotScheduler.$mY){$g3();return;};var $0O=DayPilotScheduler.$n3&&DayPilotScheduler.$n3.$qY;var e=$0O?$0O.event:DayPilotScheduler.$lY;var $A=DayPilotScheduler.$mY.calendar;if(!$A){$g3();return;};if(e.calendar&&e.calendar!==$A){var $4h=e.calendar;var $dC=e;var $dD=$r(e.data);e=new DayPilot.Event($dD,$4h);e.part={"external":true,"duration":$4h.$m7($dC)};};DayPilotScheduler.$mY.source=DayPilotScheduler.$ii;(function clearSourceCss(){if(DayPilotScheduler.$n3){if(DayPilotScheduler.$n3.$qY){var e=DayPilotScheduler.$n3.$qY;if(e&&e.event){var $fQ=e.event.calendar;$m(e,$fQ.$hy($A.$qs.eventMovingSource));}}}})();if(!DayPilotScheduler.$mY.row){$g3();return;};clearTimeout($A.$mg.timeout);var $0S=DayPilotScheduler.$mY.start;var $1y=DayPilotScheduler.$mY.end;var $1G=($A.viewType!=='Days')?DayPilotScheduler.$mY.row.id:null;var external=e.part.external;var $14=DayPilotScheduler.$mY.line;var $3W=DayPilotScheduler.$mY.overlapping;var $cZ=!DayPilotScheduler.$mY.allowed;if(DayPilotScheduler.$n3){if(!$A.$h9){$A.$h9={};};$A.$h9.$ha=DayPilotScheduler.$n3.element;DayPilotScheduler.$sk();DayPilotScheduler.$n3=null;};DayPilotScheduler.$mY.calendar=null;$j().style.cursor='';DayPilotScheduler.$ii=null;DayPilotScheduler.$lY=null;if($3W||$cZ||$A.$mW.forbidden||$A.$mW.invalid){$A.$jM();return;};$A.$jK(e,$0S,$1y,$1G,external,ev,$14);$u.movingAreaData=null;}else if(DayPilotScheduler.$m4){var $cU=$t(ev);var $23=DayPilotScheduler.$m4;var $A=$23.calendar;var $g3=function(){};$A.$re=null;var $1M=ev.ctrlKey||ev.metaKey;if($A.allowMultiRange){if(!$A.elements.range2.overlapping){$A.$rh.add($23);}else{$x($A.elements.range2);$A.elements.range2=null;$A.$n8();};DayPilotScheduler.$m4=null;if(!$1M){if($cU.left){$A.$rh.dispatch();}};$g3();return;};if(DayPilotScheduler.$qK){clearTimeout(DayPilotScheduler.$qK);DayPilotScheduler.$qK=null;$g3();return;};$A.$jV=$23;DayPilotScheduler.$m4=null;var $g5=function($23){return function(){DayPilotScheduler.$qK=null;var $2U=$A.elements.range2;if($2U&&$2U.overlapping){$A.clearSelection();return;};$A.$jR($23);};};var rc=$A.$rf($23);$g3();if(!$cU.left){DayPilotScheduler.$qK=null;return;};if($23.moved||$A.timeRangeDoubleClickHandling==='Disabled'){$g5(rc)();ev.cancelBubble=true;return false;}else{DayPilotScheduler.$qK=setTimeout($g5(rc),$A.doubleClickTimeout);}}else if($8F.row){var $A=$8F.calendar;if($A){$A.$oi();}}else if($3d.source){var $A=$3d.calendar;$A.$l3.$ln();$A.$l3.$jo();$3d.source=null;$3d.calendar=null;}else if(DayPilotScheduler.$nk){var $bf=DayPilotScheduler.$nk;$bf.cleanup();DayPilotScheduler.$nk=null;}else if(DayPilotScheduler.$qN){var $69=DayPilotScheduler.$qN;var $A=$69.calendar;if(!$69.moved){DayPilotScheduler.$qN=null;if(!$A.$qn($A.coords)){$A.$ri(ev);};return;};var x=$69.x;var y=$69.y;var $Y=$69.width;var $0g=$69.height;var $g6=false;var $0o=$A.$ht.$hu(x,y,$Y,$0g).map(function($0p){return $0p.event;});var $g7=function(){setTimeout(function(){$A.$r4.clear();DayPilotScheduler.$qN=null;},0);$A.$n8();};if(typeof $A.onRectangleEventSelect==="function"||typeof $A.onRectangleSelect==="function"){var $dP=$A.$kw(y).i;var $dQ=$A.$kw(y+$0g).i;var $08={"start":{"y":$dP},"end":{"y":$dQ}};var $ah=$A.$kr($08);var $G={};$G.events=$0o;$G.append=false;$G.start=$A.getDate(x,true);$G.end=$A.getDate(x+$Y,true);$G.resources=$ah;$G.preventDefault=function(){this.preventDefault.value=true;};if(typeof $A.onRectangleEventSelect==="function"){$A.onRectangleEventSelect($G);};if(typeof $A.onRectangleSelect==="function"){$A.onRectangleSelect($G);};if($G.preventDefault.value){$A.$r4.clear();DayPilotScheduler.$qN=null;$g7();return;};$g6=$G.append;};if($A.$jh.$rZ()==="EventSelect"){if(!$g6){$A.multiselect.clear(true);};$0o.forEach(function(e){$A.multiselect.add(e,true);});$A.multiselect.redraw();};$g7();if(typeof $A.onRectangleEventSelected==="function"||typeof $A.onRectangleSelected==="function"){var $G={};$G.events=$0o;if(typeof $A.onRectangleEventSelected==="function"){$A.onRectangleEventSelected($G);};if(typeof $A.onRectangleSelected==="function"){$A.onRectangleSelected($G);}}};if(DayPilotScheduler.$n3){if(DayPilotScheduler.$n3.event&&DayPilotScheduler.$n3.event.part){delete DayPilotScheduler.$n3.event.part.external;};DayPilotScheduler.$sk();DayPilotScheduler.$n3=null;$j().style.cursor='';};if(DayPilotScheduler.$qX){if(DayPilotScheduler.$qX.source){var $0O=DayPilotScheduler.$qX.source;if(!$0O.event){$e();}else{var $A=DayPilotScheduler.$qX.source.event.calendar;$m(DayPilotScheduler.$qX.source,$A.$hy($A.$qs.eventMovingSource));}};$j().removeChild(DayPilotScheduler.$qX);DayPilotScheduler.$qX=null;};DayPilotScheduler.$lX=null;DayPilotScheduler.$m2=null;};DayPilotScheduler.$sl=function($z){$z=$z||{};var $2U=document.createElement('div');$2U.setAttribute('unselectable','on');$2U.style.position='absolute';$2U.style.width='100px';$2U.style.height='20px';$2U.style.zIndex=101;$2U.style.pointerEvents="none";$2U.style.backgroundColor="#aaaaaa";$2U.style.opacity=0.5;$2U.style.overflow="hidden";$2U.className=$z.externalCssClass;if($z.externalHtml){$2U.innerHTML=$z.externalHtml;};$j().appendChild($2U);return $2U;};var $8F={};$u.rowmoving=$8F;var $3d={};$u.linking=$3d;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotScheduler=function($z){var $1i=null;var j=this.each(function(){if(this.daypilot){return;};var $g8=new DayPilot.Scheduler(this.id||this,$z);$g8.init();this.daypilot=$g8;if(!$1i){$1i=$g8;}});if(this.length===1){return $1i;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $g9=DayPilot.am();if(!$g9){return;};$g9.directive("daypilotScheduler",['$parse',function($ga){return{"restrict":"E","template":"<div id='{{id}};'></div>","compile":function compile(element,$gb){element[0].removeAttribute("id");element[0].innerHTML=this["template"].replace("{{id\u007d\u007d",$gb["id"]);return function link($gc,element,$gb){var $A=new DayPilot.Scheduler(element[0].firstChild);$A.$jq.scope=$gc;var $gd=$gb["id"];if($gd){$gc[$gd]=$A;};var $ge=$gb["publishAs"];if($ge){var getter=$ga($ge);var setter=getter.assign;setter($gc,$A);};for(var name in $gb){if(name.indexOf("on")===0){var $gf=DayPilot.Util.shouldApply(name);if($gf){(function(name){$A[name]=function($G){var f=$ga($gb[name]);DayPilot.Util.safeApply($gc,function(){f($gc,{"args":$G});});};})(name);}else{(function(name){$A[name]=function($G){var f=$ga($gb[name]);f($gc,{"args":$G});};})(name);}}};var $gg=$gc["$watch"];var $7l=$gb["config"]||$gb["daypilotConfig"];var $0o=$gb["events"]||$gb["daypilotEvents"];if(!$7l){$A.init();};$gg.call($gc,$7l,function($8s,$gh){$A.$ju($8s);if($A.$hc){$A.update();$A.$jx();}else{$A.init();}},true);$0o&&$gg.call($gc,$0o,function($8s){$A.events.list=$8s;$A.$iU({"eventsOnly":true});},true);$gc.$on("$destroy",function(){$A.dispose();});};}};}]);})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})(DayPilot);


