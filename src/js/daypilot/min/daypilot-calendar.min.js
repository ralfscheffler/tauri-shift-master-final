/**
@license
DayPilot Pro for JavaScript 2023.2.5592
Copyright (c) 2005 - 2023 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(DayPilot){if(typeof DayPilot.Calendar!=='undefined'&&DayPilot.Calendar.def){return;};var $a=10;var $b=function(){return document.createElement("div");};var $c=DayPilot.rePassive;var $d=DayPilot.reNonPassive;var $e=DayPilot.re;var $f=DayPilot.Util.addClass;var $g=DayPilot.Util.removeClass;var $h=DayPilot.Util.isMouseEvent;var $i=DayPilot.Util.copyProps;var $j=DayPilot.Util.isReactComponent;var $k=DayPilot.Util.overlaps;var $l=DayPilot.list;var $m=DayPilot.Global;var $n=DayPilot.de;DayPilot.Calendar=function(id,$o){this.v='2023.2.5592;';var $p=false;if(this instanceof DayPilot.Calendar&&!this.$8d){$p=true;this.$8d=true;};if(!$p){throw new DayPilot.Exception("DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'");};var $q=this;this.uniqueID=null;this.clientName=id;this.id=id;this.isCalendar=true;this.allDayEnd="DateTime";this.allDayEventHeight=30;this.allDayEventTextWrappingEnabled=false;this.allowEventOverlap=true;this.allowMultiSelect=true;this.api=2;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.autoScroll="Drag";this.backendUrl=null;if(typeof DayPilot.Bubble==="function"){this.bubble=new DayPilot.Bubble();}else{this.bubble=null;};this.cellBubble=null;this.columnBubble=null;this.businessBeginsHour=9;this.businessEndsHour=18;this.cellHeight=30;this.cellDuration=30;this.clientState={};this.columnMarginRight=5;this.columnMoveSameLevelOnly=false;this.columnWidth=200;this.columnWidthMin=10;this.columnWidthSpec="Auto";this.columnsLoadMethod="GET";this.contextMenu=null;this.contextMenuSelection=null;this.cornerText="";this.cornerHtml=null;this.crosshairType="Header";this.cssClass=null;this.dayBeginsHour=0;this.dayEndsHour=24;this.days=1;this.doubleClickTimeout=300;this.durationBarVisible=true;this.dynamicEventRendering="Disabled";this.dynamicEventRenderingMarginX=0;this.dynamicEventRenderingMarginY=0;this.eventArrangement="Cascade";this.eventsLoadMethod="GET";this.headerHeight=30;this.headerTextWrappingEnabled=false;this.headerHeightAutoFit=false;this.headerLevels="Auto";this.height=300;this.heightSpec='BusinessHours';this.hideFreeCells=false;this.hideUntilInit=true;this.headerDateFormat=null;this.hourWidth=60;this.initEventEnabled=false;this.initScrollPos=null;this.loadingLabelText="Loading...";this.loadingLabelHtml=null;this.loadingLabelVisible=true;this.locale="en-us";this.messageHideAfter=5000;this.moveBy="Full";this.notifyCommit='Immediate';this.rtl=false;this.scrollDelayCells=0;this.scrollDelayEvents=10;this.scrollLabelsVisible=false;this.showToolTip=true;this.showAllDayEvents=false;this.showEventStartEnd=false;this.showHeader=true;this.showHours=true;this.showCurrentTime=true;this.showCurrentTimeMode="Day";this.showCurrentTimeOffset=0;this.startDate=DayPilot.Date.today();this.cssClassPrefix="calendar_default";this.tapAndHoldTimeout=300;this.theme=null;this.timeFormat='Auto';this.timeHeaderCellDuration=60;this.timeRangeSelectingStartEndEnabled=false;this.timeRangeSelectingStartEndFormat="Auto";this.eventMovingStartEndEnabled=false;this.eventMovingStartEndFormat="Auto";this.eventResizingStartEndEnabled=false;this.eventResizingStartEndFormat="Auto";this.useEventBoxes='Always';this.viewType='Days';this.visible=true;this.watchWidthChanges=true;this.weekStarts="Auto";this.width=null;this.xssProtection="Enabled";this.columnMoveHandling="Disabled";this.columnResizeHandling="Disabled";this.eventClickHandling='Enabled';this.eventDoubleClickHandling='Disabled';this.eventRightClickHandling='ContextMenu';this.eventDeleteHandling='Disabled';this.eventEditHandling='Update';this.eventHoverHandling='Bubble';this.eventResizeHandling='Update';this.eventMoveHandling='Update';this.eventSelectHandling='Update';this.eventTapAndHoldHandling='Move';this.headerClickHandling='Enabled';this.timeRangeTapAndHoldHandling='Select';this.timeRangeSelectedHandling='Enabled';this.timeRangeClickHandling="Enabled";this.timeRangeDoubleClickHandling="Disabled";this.timeRangeRightClickHandling="ContextMenu";this.onAutoRefresh=null;this.onColumnFilter=null;this.onColumnResize=null;this.onColumnResized=null;this.onEventFilter=null;this.onEventClick=null;this.onEventClicked=null;this.onEventDelete=null;this.onEventDeleted=null;this.onEventEdit=null;this.onEventEdited=null;this.onEventMove=null;this.onEventMoved=null;this.onEventMoving=null;this.onEventResize=null;this.onEventResized=null;this.onEventResizing=null;this.onEventSelect=null;this.onEventSelected=null;this.onEventRightClick=null;this.onEventRightClicked=null;this.onEventDoubleClick=null;this.onEventDoubleClicked=null;this.onHeaderClick=null;this.onHeaderClicked=null;this.onTimeRangeClick=null;this.onTimeRangeClicked=null;this.onTimeRangeRightClick=null;this.onTimeRangeRightClicked=null;this.onTimeRangeDoubleClick=null;this.onTimeRangeDoubleClicked=null;this.onTimeRangeSelect=null;this.onTimeRangeSelected=null;this.onTimeRangeSelecting=null;this.onAfterRender=null;this.onAfterEventRender=null;this.onAfterCellRender=null;this.onBeforeEventRender=null;this.onBeforeEventExport=null;this.onBeforeEventDomAdd=null;this.onBeforeEventDomRemove=null;this.onBeforeCellRender=null;this.onBeforeCellExport=null;this.onBeforeCornerDomAdd=null;this.onBeforeCornerDomRemove=null;this.onBeforeCornerRender=null;this.onBeforeHeaderRender=null;this.onBeforeHeaderExport=null;this.onBeforeTimeHeaderRender=null;this.$8e=true;this.$8f=$a;this.$8g=true;this.$8h=true;this.$8i=true;this.$8j={};this.$8j.pixels={};this.$8j.events=[];this.$8j.drawArea=null;this.$8j.$8k=null;this.elements={};this.elements.events=[];this.elements.separators=[];this.elements.selection=[];this.elements.cells={};this.elements.crosshair=[];this.elements.timeHeaders=[];this.events={};this.events.list=[];this.nav={};this.$8l=0;this.$8m=false;this.$8n=false;this.members={};this.members.obsolete=["Init","cleanSelection","cssClassPrefix","clientName","uniqueID"];this.members.ignore=["internal","nav","debug","temp","elements","members","onCallbackError"];this.$8o='javasc';this.$8p={};this.$8p.ie=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);this.$8p.ff=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1);this.clearSelection=function(){if(!this.$8q){this.$8q=[];return;};DayPilotCalendar.$8r=null;DayPilotCalendar.$8s=null;$m.selecting=null;this.$8t();this.$8q=[];};this.$8t=function(){if(!this.$8q){return;};$n($q.elements.selection);$q.elements.selection=[];$q.nav.activeSelection=null;};this.cleanSelection=this.clearSelection;this.$8u=function(){if($q.$8j.drawArea){return $q.$8j.drawArea;};var $r=$q.$8v();if(!$r){return null;};var $s={};$s.pixels={};$s.pixels.left=$r.scrollLeft;$s.pixels.right=$r.scrollLeft+$r.clientWidth;$s.pixels.top=$r.scrollTop;$s.pixels.bottom=$r.scrollTop+$r.clientHeight;$s.pixels.width=$r.scrollWidth;var $t=$q.dynamicEventRenderingMarginX;if($t){$s.pixels.left-=$t;$s.pixels.right+=$t;if($s.pixels.left<0){$s.pixels.left=0;};if($s.pixels.right>$s.pixels.width){$s.pixels.right=$s.pixels.width;}};var $u=$q.dynamicEventRenderingMarginY;if($u){$s.pixels.top-=$u;$s.pixels.bottom+=$u;var $v=$q.$8w();if($s.pixels.top<0){$s.pixels.top=0;};if($s.pixels.bottom>$v){$s.pixels.bottom=$v;}};var $w=$q.$8x();var $x=null;var $y=null;for(var x=0;x<$w.length;x++){var $z=$w[x];var $A=$z.left+$z.width;if($x===null&&$A>$s.pixels.left){$x=x;};if($x!==null&&$y===null){if($A>=$s.pixels.right||x===$w.length-1){$y=x;break;}}};var $B=Math.floor($s.pixels.top/$q.cellHeight);$B=DayPilot.Util.atLeast(0,$B);var $C=Math.ceil($s.pixels.bottom/$q.cellHeight);$C=DayPilot.Util.atMost($q.$8y()-1,$C);$s.xStart=$x;$s.xEnd=$y;$s.yStart=$B;$s.yEnd=$C;$q.$8j.drawArea=$s;return $s;};this.$8z=function(x){if(!$q.$8j.$8k){$q.$8j.$8k=$q.$8x();};return $q.$8j.$8k[x];};this.$8A=function(){$q.$8j.drawArea=null;$q.$8j.$8k=null;};this.$8B=function($D,$E){if($q.$8C.$8D()){return DayPilot.Util.escapeTextHtml($D,$E);};if(!DayPilot.Util.isNullOrUndefined($E)){return $E;};if(DayPilot.Util.isNullOrUndefined($D)){return "";};return $D;};this.$8E=function($F,$G,$H){var $I={};$I.action=$F;$I.parameters=$H;$I.data=$G;$I.header=this.$8F();var $J="JSON"+JSON.stringify($I);__doPostBack($q.uniqueID,$J);};this.$8G=function($F,$H,$G,$K){if(!this.$8H()){$q.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");return;};if(typeof $K==='undefined'){$K="CallBack";};$q.$8I();var $I={};$I.action=$F;$I.type=$K;$I.parameters=$H;$I.data=$G;$I.header=this.$8F();var $J="JSON"+JSON.stringify($I);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$8J,$J,this.$8K);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$J,this.$8L,this.clientName,this.onCallbackError,true);}};this.$8H=function(){return($q.$8o!=="javasc"&&$q.$8o.indexOf("DCODE")===-1)||$q.devsb;};this.$8M=function(){if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$8K=function($L){if(typeof $q.onAjaxError==='function'){var $M={};$M.request=$L;$q.onAjaxError($M);}else if(typeof $q.ajaxError==='function'){$q.ajaxError($L);}};this.dispose=function(){var c=$q;clearInterval(c.$8N);if(!c.$8m){return;};if(c.$8n){return;};c.$8n=true;if(c.$8O){c.$8O.disconnect();};c.$8P();c.$8Q();if(c.nav.messageClose){c.nav.messageClose.onclick=null;};if(c.nav.hourTable){c.nav.hourTable.oncontextmenu=null;c.nav.hourTable.onmousemove=null;};if(c.nav.header){c.nav.header.oncontextmenu=null;};if(c.nav.corner){c.nav.corner.oncontextmenu=null;};if(c.nav.zoom){c.nav.zoom.onmousemove=null;c.nav.zoom.oncontextmenu=null;};if(c.nav.scroll){c.nav.scroll.onscroll=null;c.nav.scroll.root=null;};DayPilot.pu(c.nav.loading);c.$8R();c.$8S();c.$8T();c.$8U();c.nav.select=null;c.nav.cornerRight=null;c.nav.scrollable=null;c.nav.bottomLeft=null;c.nav.bottomRight=null;c.nav.allday=null;c.nav.zoom=null;c.nav.loading=null;c.nav.events=null;c.nav.header=null;c.nav.hourTable=null;c.nav.scrolltop=null;c.nav.scroll=null;c.nav.vsph=null;c.nav.main=null;c.nav.message=null;c.nav.messageClose=null;c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.removeEventListener("mouseleave",$q.$8V);var $N=!($q.$8W.reactDOM&&DayPilot.browser.ie);if($N){c.nav.top.innerHTML="";};c.nav.top.dp=null;c.nav.top=null;DayPilot.ue(window,'resize',c.$8X);DayPilotCalendar.$8Y(c);if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.cancelShowing();DayPilot.Bubble.hide({"calendar":c});};if(typeof DayPilot.Menu!=="undefined"){DayPilot.Menu.hide({"calendar":c});}};this.$8Z=function(){this.nav.top.dispose=this.dispose;};this.$8J=function($O){$q.$8L($O.responseText);};this.$8F=function(){var h={};h.v=this.v;h.control="dpc";h.id=this.id;h.clientState=$q.clientState;h.columns=this.$90();h.days=$q.days;h.startDate=$q.startDate;h.cellDuration=$q.cellDuration;h.cssClassPrefix=$q.cssClassPrefix;h.heightSpec=$q.heightSpec;h.businessBeginsHour=$q.businessBeginsHour;h.businessEndsHour=$q.businessEndsHour;h.viewType=$q.viewType;h.dayBeginsHour=$q.dayBeginsHour;h.dayEndsHour=$q.dayEndsHour;h.headerLevels=$q.headerLevels;h.eventHeaderVisible=$q.eventHeaderVisible;h.timeFormat=$q.timeFormat;h.timeHeaderCellDuration=$q.timeHeaderCellDuration;h.locale=$q.locale;h.scrollY=$q.scrollPos;h.showAllDayEvents=$q.showAllDayEvents;h.tagFields=$q.tagFields;h.weekStarts=$q.weekStarts;h.selected=$q.multiselect.events();h.hashes=$q.hashes;return h;};this.$91=function(){$q.$92();$q.$93();$q.$94=null;};this.$90=function(){var $P=[];$P.ignoreToJSON=true;if(!this.$95){return $P;};for(var i=0;i<this.$95.length;i++){var $Q=this.$95[i];var $R=this.$96($Q);$P.push($R);};return $P;};this.$96=function($Q){var $R={};$R.Value=$Q.id;$R.Name=$Q.name;$R.ToolTip=$Q.toolTip;$R.Date=$Q.start;$R.Children=this.$97($Q.children);return $R;};this.$97=function($S){var $T=[];$T.ignoreToJSON=true;if(!$S){return $T;};for(var i=0;i<$S.length;i++){$T.push(this.$96($S[i]));};return $T;};this.$8L=function($U,$V){var $U=JSON.parse($U);if($U.BubbleGuid){var $W=$U.BubbleGuid;var $X=this.bubbles[$W];delete this.bubbles[$W];$q.$98();if(typeof $U.Result.BubbleHTML!=='undefined'){$X.updateView($U.Result.BubbleHTML,$X);};return;};if($U.CallBackRedirect){document.location.href=$U.CallBackRedirect;return;};if(typeof $U.ClientState!=='undefined'){$q.clientState=$U.ClientState;};if($U.UpdateType==="None"){$q.$98();$q.$99($U.CallBackData,true);if($U.Message){$q.message($U.Message);};return;};$q.$8A();if($U.VsUpdate){var $Y=document.createElement("input");$Y.type='hidden';$Y.name=$q.id+"_vsupdate";$Y.id=$Y.name;$Y.value=$U.VsUpdate;$q.nav.vsph.innerHTML='';$q.nav.vsph.appendChild($Y);};$q.$8Q();$q.multiselect.clear(true);$q.multiselect.$9a=$U.SelectedEvents;if(typeof $U.TagFields!=='undefined'){$q.tagFields=$U.TagFields;};if(typeof $U.SortDirections!=='undefined'){$q.sortDirections=$U.SortDirections;};if($U.UpdateType==="Full"){$q.colors=$U.Colors;$q.palette=$U.Palette;$q.dirtyColors=$U.DirtyColors;$q.cellProperties=$U.CellProperties;$q.cellConfig=$U.CellConfig;if($q.$9b()===$q.columns){$q.columns=$U.Columns;}else{$q.columns.list=$U.Columns;};$q.days=$U.Days;$q.startDate=new DayPilot.Date($U.StartDate).getDatePart();$q.cellDuration=$U.CellDuration;$q.heightSpec=$U.HeightSpec?$U.HeightSpec:$q.heightSpec;$q.businessBeginsHour=$U.BusinessBeginsHour?$U.BusinessBeginsHour:$q.businessBeginsHour;$q.businessEndsHour=$U.BusinessEndsHour?$U.BusinessEndsHour:$q.businessEndsHour;$q.viewType=$U.ViewType;$q.headerLevels=$U.HeaderLevels;$q.backColor=$U.BackColor?$U.BackColor:$q.backColor;$q.nonBusinessBackColor=$U.NonBusinessBackColor?$U.NonBusinessBackColor:$q.nonBusinessBackColor;$q.eventHeaderVisible=$U.EventHeaderVisible?$U.EventHeaderVisible:$q.eventHeaderVisible;$q.timeFormat=$U.TimeFormat?$U.TimeFormat:$q.timeFormat;$q.timeHeaderCellDuration=typeof $U.TimeHeaderCellDuration!=='undefined'?$U.TimeHeaderCellDuration:$q.timeHeaderCellDuration;$q.locale=$U.Locale?$U.Locale:$q.locale;$q.dayBeginsHour=typeof $U.DayBeginsHour!=='undefined'?$U.DayBeginsHour:$q.dayBeginsHour;$q.dayEndsHour=typeof $U.DayEndsHour!=='undefined'?$U.DayEndsHour:$q.dayEndsHour;$q.cornerHtml=$U.CornerHTML;$q.hours=$U.Hours;$q.$9c();$q.$9d();};if($U.Hashes){for(var $Z in $U.Hashes){$q.hashes[$Z]=$U.Hashes[$Z];}};$q.$9e($U.Events);$q.$9f();if($U.UpdateType==="Full"||$q.hideFreeCells){$q.$9g();$q.$9h();$q.$9i();$q.$9j();$q.$9k();$q.$9l();$q.$9m();$q.$9n();$q.clearSelection();$q.$9o();if(typeof $U.ScrollY!=="undefined"){$q.scrollToY($U.ScrollY);}else{$q.scrollToY($q.initScrollPos);}};$q.$9p();$q.$9q();$q.$9r();$q.$9s();if($q.heightSpec==="Parent100Pct"){$q.$9t();};if($q.timeRangeSelectedHandling!=="HoldForever"){$q.clearSelection();};$q.$9u();if($q.todo){if($q.todo.del){var $00=$q.todo.del;$00.parentNode.removeChild($00);$q.todo.del=null;}};$q.$99($U.CallBackData,true);$q.$98();$q.$9v();if($U.Message){$q.message($U.Message);}};this.$99=function($G,$01){var $02=function($G,$03){return function(){if($q.$9w()){if(typeof $q.onAfterRender==='function'){var $M={};$M.isCallBack=$03;$M.data=$G;$q.onAfterRender($M);}}else{if($q.afterRender){$q.afterRender($G,$03);}}};};window.setTimeout($02($G,$01),0);};this.$9x=function($04,$05){var $06=$q.nav.events;var $07=$06.rows[0].cells.length;var i=$q.$9y($q.coords.x);if(i<0){i=0;};if(i>=$07){i=$07-1;};if($q.rtl){i=$q.$9z.length-i-1;};var $Q=$06.rows[0].cells[i];var $08=0;var $09=0;var top=0;if(typeof $04.duration!=='undefined'){var $0a=$04.duration;top=Math.floor((($q.coords.y-$08)+$q.cellHeight/ 2)/ $q.cellHeight)*$q.cellHeight+$08;$09=$0a*$q.cellHeight/(60*$q.cellDuration);$09=Math.max($09,$q.cellHeight);}else{var e=$04.event;$09=e.part.height;top=e.part.top;};var $0b=$b();$0b.setAttribute('unselectable','on');$0b.style.position='absolute';$0b.style.width='100%';$0b.style.height=$09+'px';$0b.style.left='0px';$0b.style.top=top+'px';$0b.style.zIndex=$q.$8f;$0b.exclude=true;var $0c=$b();$0b.appendChild($0c);$0b.className=$q.$9A("_shadow");$0c.className=this.$9A("_shadow_inner");$Q.events.appendChild($0b);return $0b;};this.$9B=function(){return this.$9C()/(3600*1000);};this.$9D=function(){if(this.businessBeginsHour>this.businessEndsHour){return 24-this.businessBeginsHour+this.businessEndsHour;}else{return this.businessEndsHour-this.businessBeginsHour;}};this.$9E=function(){if(this.dayBeginsHour>=this.dayEndsHour){return 24-this.dayBeginsHour+this.dayEndsHour;}else{return this.dayEndsHour-this.dayBeginsHour;}};this.$9C=function($v){var $0d=0;if(this.heightSpec==='BusinessHoursNoScroll'){$0d=this.$9D();}else if(this.hideFreeCells&&!$v){var $0e=(this.$9F-1)*this.cellDuration/this.cellHeight;var $0f=Math.ceil($0e/60);var $0g=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;$0d=Math.max(this.dayBeginsHour+$0f,$0g)-this.$9G();}else{$0d=this.$9E();};return $0d*60*60*1000;};this.message=function($D,$0h){if($D===null){return;};if(!$q.$8m){return;};var $o={};var $0i;if(typeof arguments[1]==="object"){$o=arguments[1];$0i=$o.delay;}else{$0i=$0h;};var $E="";if($o.rawHtml){$E=$D;}else{$E=DayPilot.Util.escapeHtml($D);};$0i=$0i||this.messageHideAfter||2000;var $0j;var top=this.$9H();var $0k=this.showHours?this.hourWidth:0;var $A=DayPilot.sw($q.$9I());if($q.rtl){var $0l=$0k;$0k=$A;$A=$0l;};if(!this.nav.message){$0j=$b();$0j.style.position="absolute";$0j.style.left=($0k)+"px";$0j.style.top=(top)+"px";$0j.style.right="0px";$0j.style.display='none';$0j.onmousemove=function(){if($0j.messageTimeout&&!$0j.status){clearTimeout($0j.messageTimeout);}};$0j.onmouseout=function(){if($q.nav.message.style.display!=='none'){$0j.messageTimeout=setTimeout($q.$9J,500);}};var $0c=$b();$0c.onclick=function(){$q.nav.message.style.display='none';};$0c.className=this.$9A("_message");$0j.appendChild($0c);var close=$b();close.style.position="absolute";close.className=this.$9A("_message_close");close.onclick=function(){$q.nav.message.style.display='none';};$0j.appendChild(close);this.nav.top.insertBefore($0j,this.nav.loading);this.nav.message=$0j;this.nav.messageClose=close;}else{$0j=$q.nav.message;this.nav.message.style.top=top+"px";};if(this.nav.cornerRight){this.nav.message.style.right=$A+"px";}else{this.nav.message.style.right="0px";};var $0m=function(){if(!$q.nav.message){return;};var $0c=$q.nav.message.firstChild;$0c.className=$q.$9A("_message");if($o.cssClass){$f($0c,$o.cssClass);};$0c.innerHTML=$E;var end=function(){$0j.messageTimeout=setTimeout($q.$9J,$0i);};DayPilot.fade($q.nav.message,0.2,end);};clearTimeout($0j.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($q.nav.message,-0.2,$0m);}else{$0m();}};this.message.show=function($E){$q.message($E);};this.message.hide=function(){$q.$9J();};this.$9J=function(){var end=function(){$q.nav.message.style.display='none';};DayPilot.fade($q.nav.message,-0.2,end);};this.$9j=function(){if(this.nav.message){this.nav.message.style.top=(this.$9H())+"px";}};this.$8y=function(){return this.$9C()/(60*1000*this.cellDuration);};this.eventClickPostBack=function(e,$G){this.$8E('EventClick',$G,e);};this.eventClickCallBack=function(e,$G){this.$8G('EventClick',e,$G);};this.$9K=function(e){var $0j=this;var e=e||window.event;var $0n=e.ctrlKey;var $0o=e.metaKey;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($q.eventDoubleClickHandling==='Disabled'){$q.$9L($0j,$0n,$0o,e);return;};if(!$q.timeouts){$q.timeouts=[];}else{for(var $0p in $q.timeouts){window.clearTimeout($q.timeouts[$0p]);};$q.timeouts=[];};var $0q=function($0j,$0n,$0o,e){return function(){$q.$9L($0j,$0n,$0o,e);};};$q.timeouts.push(window.setTimeout($0q(this,$0n,$0o,e),$q.doubleClickTimeout));};this.$9L=function($0r,$0n,$0o,$0s){var e=$0r.event;if(!e.client.clickEnabled()){return;};if($q.$9w()){var $M={};$M.e=e;$M.control=$q;$M.ctrl=$0n;$M.meta=$0o;$M.originalEvent=$0s;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onEventClick==='function'){$q.onEventClick($M);if($M.preventDefault.value){return;}};switch($q.eventClickHandling){case 'PostBack':$q.eventClickPostBack(e);break;case 'CallBack':$q.eventClickCallBack(e);break;case 'Edit':$q.$9M($0r);break;case 'Select':$q.$9N($0r,e,$0n,$0o);break;case 'Bubble':if($q.bubble){$q.bubble.showEvent(e);};break;case 'ContextMenu':var $0t=e.client.contextMenu();if($0t){$0t.show(e);}else{if($q.contextMenu){$q.contextMenu.show(e);}};break;};if(typeof $q.onEventClicked==='function'){$q.onEventClicked($M);}}else{switch($q.eventClickHandling){case 'PostBack':$q.eventClickPostBack(e);break;case 'CallBack':$q.eventClickCallBack(e);break;case 'JavaScript':$q.onEventClick(e);break;case 'Edit':$q.$9M($0r);break;case 'Select':$q.$9N($0r,e,$0n,$0o);break;case 'Bubble':if($q.bubble){$q.bubble.showEvent(e);};break;case 'ContextMenu':var $0t=e.client.contextMenu();if($0t){$0t.show(e);}else{if($q.contextMenu){$q.contextMenu.show(e);}};break;}}};this.eventDoubleClickPostBack=function(e,$G){this.$8E('EventDoubleClick',$G,e);};this.eventDoubleClickCallBack=function(e,$G){this.$8G('EventDoubleClick',e,$G);};this.$9O=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($q.timeouts){for(var $0p in $q.timeouts){window.clearTimeout($q.timeouts[$0p]);};$q.timeouts=null;};var e=this.event;var ev=ev||window.event;if($q.$9w()){var $M={};$M.e=e;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onEventDoubleClick==='function'){$q.onEventDoubleClick($M);if($M.preventDefault.value){return;}};switch($q.eventDoubleClickHandling){case 'PostBack':$q.eventDoubleClickPostBack(e);break;case 'CallBack':$q.eventDoubleClickCallBack(e);break;case 'Edit':if(!e.allday()){$q.$9M(this);};break;case 'Select':if(!e.allday()){$q.$9N(this,e,ev.ctrlKey);};break;case 'Bubble':if($q.bubble){$q.bubble.showEvent(e);};break;};if(typeof $q.onEventDoubleClicked==='function'){$q.onEventDoubleClicked($M);}}else{switch($q.eventDoubleClickHandling){case 'PostBack':$q.eventDoubleClickPostBack(e);break;case 'CallBack':$q.eventDoubleClickCallBack(e);break;case 'JavaScript':$q.onEventDoubleClick(e);break;case 'Edit':if(!e.allday()){$q.$9M(this);};break;case 'Select':if(!e.allday()){$q.$9N(this,e,ev.ctrlKey);};break;case 'Bubble':if($q.bubble){$q.bubble.showEvent(e);};break;}}};this.eventRightClickPostBack=function(e,$G){this.$8E('EventRightClick',$G,e);};this.eventRightClickCallBack=function(e,$G){this.$8G('EventRightClick',e,$G);};this.$9P=function(ev){var e=this.event;if(ev.stopPropagation){ev.stopPropagation();};if(!e.client.rightClickEnabled()){return false;};if($q.$9w()){var $M={};$M.e=e;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onEventRightClick==='function'){$q.onEventRightClick($M);if($M.preventDefault.value){return false;}};switch($q.eventRightClickHandling){case 'PostBack':$q.eventRightClickPostBack(e);break;case 'CallBack':$q.eventRightClickCallBack(e);break;case 'ContextMenu':var $0t=e.client.contextMenu();if($0t){$0t.show(e);}else{if($q.contextMenu){$q.contextMenu.show(this.event);}};break;case 'Bubble':if($q.bubble){$q.bubble.showEvent(e);};break;};if(typeof $q.onEventRightClicked==='function'){$q.onEventRightClicked($M);}}else{switch($q.eventRightClickHandling){case 'PostBack':$q.eventRightClickPostBack(e);break;case 'CallBack':$q.eventRightClickCallBack(e);break;case 'JavaScript':$q.onEventRightClick(e);break;case 'ContextMenu':var $0t=e.client.contextMenu();if($0t){$0t.show(e);}else{if($q.contextMenu){$q.contextMenu.show(this.event);}};break;case 'Bubble':if($q.bubble){$q.bubble.showEvent(e);};break;}};if(ev.preventDefault){ev.preventDefault();};return false;};this.$9Q=function($G){return new DayPilot.Column($G,$q);};this.headerClickPostBack=function(c,$G){this.$8E('HeaderClick',$G,c);};this.headerClickCallBack=function(c,$G){this.$8G('HeaderClick',c,$G);};this.$9R=function(ev){var $G=this.data;var c=$q.$9Q($G,$q);if($q.$9w()){var $M={};$M.header={};$M.header.id=$G.id;$M.header.name=$G.name;$M.header.start=$G.start;$M.column=c;$M.originalEvent=ev;$M.shift=ev.shiftKey;$M.ctrl=ev.ctrlKey;$M.meta=ev.metaKey;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onHeaderClick==='function'){$q.onHeaderClick($M);if($M.preventDefault.value){return;}};switch($q.headerClickHandling){case 'PostBack':$q.headerClickPostBack(c);break;case 'CallBack':$q.headerClickCallBack(c);break;};if(typeof $q.onHeaderClicked==='function'){$q.onHeaderClicked($M);}}else{switch($q.headerClickHandling){case 'PostBack':$q.headerClickPostBack(c);break;case 'CallBack':$q.headerClickCallBack(c);break;case 'JavaScript':$q.onHeaderClick(c);break;}}};this.$9S=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'&&$q.columnBubble){if($q.viewType==="Resources"){var $0u={};$0u.calendar=$q;$0u.start=this.data.start;$0u.name=this.data.name;$0u.id=this.data.id;$0u.toJSON=function(){var $0v={};$0v.id=this.id;$0v.start=this.start;$0v.name=this.name;return $0v;};$q.columnBubble.showResource($0u);}else{var $0w=new DayPilot.Date(this.data.start);var end=$0w.addDays(1);var $0x={};$0x.calendar=$q;$0x.start=$0w;$0x.end=end;$0x.toJSON=function(){var $0v={};$0v.start=this.start;$0v.end=this.end;return $0v;};$q.columnBubble.showTime($0x);}};var $0y=this;var $0j=$0y.firstChild;if(!$0j.active){var $G=$0y.data;var c=$q.$9Q($G);c.areas=$0y.data.areas;DayPilot.Areas.showAreas($0j,c);};if(typeof $0z!=="undefined"&&$0z.$9T){$0z.$9U(ev,$0y);}};this.$9V=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'&&$q.columnBubble){$q.columnBubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this.firstChild,ev);};this.eventDeletePostBack=function(e,$G){this.$8E('EventDelete',$G,e);};this.eventDeleteCallBack=function(e,$G){this.$8G('EventDelete',e,$G);};this.$9W=function($04){var e;if($04&&$04.isEvent){e=$04;}else{e=$04.parentNode.parentNode.event;};if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();DayPilot.Bubble.cancelShowing();};if($q.$9w()){var $M={};$M.e=e;$M.control=$q;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onEventDelete==='function'){$q.onEventDelete($M);if($M.preventDefault.value){return;}};switch($q.eventDeleteHandling){case 'PostBack':$q.eventDeletePostBack(e);break;case 'CallBack':$q.eventDeleteCallBack(e);break;case 'Update':$q.events.remove(e);break;};if(typeof $q.onEventDeleted==='function'){$q.onEventDeleted($M);}}else{switch($q.eventDeleteHandling){case 'PostBack':$q.eventDeletePostBack(e);break;case 'CallBack':$q.eventDeleteCallBack(e);break;case 'JavaScript':$q.onEventDelete(e);break;}}};this.eventResizePostBack=function(e,$0A,$0B,$G){if(!$0A){throw 'newStart is null';};if(!$0B){throw 'newEnd is null';};var $0C={};$0C.e=e;$0C.newStart=$0A;$0C.newEnd=$0B;this.$8E('EventResize',$G,$0C);};this.eventResizeCallBack=function(e,$0A,$0B,$G){if(!$0A)throw 'newStart is null';if(!$0B)throw 'newEnd is null';var $0C={};$0C.e=e;$0C.newStart=$0A;$0C.newEnd=$0B;this.$8G('EventResize',$0C,$G);};this.$9X=function($K,$F,$0C,$G){if($K==='PostBack'){$q.postBack2($F,$0C,$G);}else if($K==='CallBack'){$q.$8G($F,$0C,$G,"CallBack");}else if($K==='Immediate'){$q.$8G($F,$0C,$G,"Notify");}else if($K==='Queue'){$q.queue.add(new DayPilot.Action(this,$F,$0C,$G));}else if($K==='Notify'){if($0D.$9Y()==='Notify'){$q.$8G($F,$0C,$G,"Notify");}else{$q.queue.add(new DayPilot.Action($q,$F,$0C,$G));}}else{throw new DayPilot.Exception("Invalid event invocation type");}};this.$9G=function($v){if(this.heightSpec==='BusinessHoursNoScroll'){return this.businessBeginsHour;}else if(this.hideFreeCells&&!$v){var $0e=(this.$9Z)*this.cellDuration/this.cellHeight;var $0f=Math.floor($0e/60);$0f=Math.max(0,$0f);return Math.min(this.dayBeginsHour+$0f,this.businessBeginsHour);}else{return this.dayBeginsHour;}};this.visibleStart=function(){if($q.viewType==="Resources"){if($q.$9z.isEmpty()){return DayPilot.Date.today();};var $0E=$l($q.$9z).map(function($Q){return $Q.start.getTime();});var $0F=Math.min.apply(null,$0E);return new DayPilot.Date($0F);};return this.$9z[0].start;};this.visibleEnd=function(){if($q.viewType==="Resources"){if($q.$9z.isEmpty()){return DayPilot.Date.today().addDays(1);};var $0E=$l($q.$9z).map(function($Q){return $Q.start.getTime();});var $v=Math.max.apply(null,$0E);return new DayPilot.Date($v).addDays(1);};var $0G=this.$9z;var $v=$0G.length-1;return $0G[$v].start.addDays(1);};this.$9w=function(){return $q.api===2;};this.$a0=function(e,$0H){var $0w=e.start();var $0I=$q.$9z[e.part.dayIndex].start;var $0J=Math.floor($0H/$q.cellHeight);var $0K=$0J*$q.cellDuration;var ts=$0K*60*1000;var $0L=$q.$9G()*60*60*1000;return $0I.addTime(ts+$0L);};this.$a1=function(e,$0M){var $0J=Math.floor($0M/$q.cellHeight);var $0K=$0J*$q.cellDuration;var ts=$0K*60*1000;var $0L=$q.$9G()*60*60*1000;var $0I=$q.$9z[e.part.dayIndex].start;return $0I.addTime(ts+$0L);};this.$a2=function(e,$0N,$0H,$0O){if(this.eventResizeHandling==='Disabled'){return;};var $0A,$0B;if($0O==='top'){$0A=$q.$a0(e,$0H);$0B=e.end();}else if($0O==='bottom'){$0A=e.start();$0B=$q.$a1(e,$0H+$0N);};if($q.$9w()){var $M={};var $0P=function(){$M.loaded=function(){};$q.$a3();if($M.preventDefault.value){return;};switch($q.eventResizeHandling){case 'PostBack':$q.eventResizePostBack(e,$0A,$0B);break;case 'CallBack':$q.eventResizeCallBack(e,$0A,$0B);break;case 'Notify':$q.eventResizeNotify(e,$0A,$0B);break;case 'Update':e.start($0A);e.end($0B);$q.events.update(e);break;};if(typeof $q.onEventResized==='function'){$q.onEventResized($M);}};$M.e=e;$M.control=$q;$M.newStart=$0A;$M.newEnd=$0B;$M.preventDefault=function(){this.preventDefault.value=true;};$M.async=false;$M.hideShadow=function(){$q.$a3();};$M.loaded=function(){$0P();};if(typeof $q.onEventResize==='function'){$q.onEventResize($M);if($M.preventDefault.value){$q.$a3();return;}};if(!$M.async){$0P();}}else{$q.$a3();switch($q.eventResizeHandling){case 'PostBack':$q.eventResizePostBack(e,$0A,$0B);break;case 'CallBack':$q.eventResizeCallBack(e,$0A,$0B);break;case 'JavaScript':$q.onEventResize(e,$0A,$0B);break;case 'Notify':$q.eventResizeNotify(e,$0A,$0B);break;}}};this.eventResizeNotify=function(e,$0A,$0B,$G){var $0Q=new DayPilot.Event(e.copy(),this);e.start($0A);e.end($0B);e.commit();$q.update();this.$a4("Notify",$0Q,$0A,$0B,$G);};this.$a4=function($K,e,$0A,$0B,$G){var $0C={};$0C.e=e;$0C.newStart=$0A;$0C.newEnd=$0B;this.$9X($K,"EventResize",$0C,$G);};this.eventMovePostBack=function(e,$0A,$0B,$0R,$G){if(!$0A)throw 'newStart is null';if(!$0B)throw 'newEnd is null';var $0C={};$0C.e=e;$0C.newStart=$0A;$0C.newEnd=$0B;$0C.newResource=$0R;this.$8E('EventMove',$G,$0C);};this.eventMoveCallBack=function(e,$0A,$0B,$0R,$G){if(!$0A)throw 'newStart is null';if(!$0B)throw 'newEnd is null';var $0C={};$0C.e=e;$0C.newStart=$0A;$0C.newEnd=$0B;$0C.newResource=$0R;this.$8G('EventMove',$0C,$G);};this.$a5=function(e,$0S,$0H){var $08=0;var $0J=Math.floor(($0H-$08)/$q.cellHeight);var $0T=$q.cellDuration;var $0U=$0J*$0T*60*1000;var $0w=e.start();var end=e.end();var $0I=new Date();if($0w instanceof DayPilot.Date){$0w=$0w.toDate();};$0I.setTime(Date.UTC($0w.getUTCFullYear(),$0w.getUTCMonth(),$0w.getUTCDate()));var $0V=($q.useEventBoxes!=='Never')?$0w.getTime()-($0I.getTime()+$0w.getUTCHours()*3600*1000+Math.floor($0w.getUTCMinutes()/$0T)*$0T*60*1000):0;var length=end.getTime()-$0w.getTime();var $0L=$q.$9G()*3600*1000;if(typeof $0S==="undefined"){$0S=e.part.dayIndex;};var $0W=this.$9z[$0S];var $0X=$0W.start.getTime();var $0Y=new Date();$0Y.setTime($0X+$0U+$0V+$0L);var $0A=new DayPilot.Date($0Y);var $0B=$0A.addTime(length);var $0R=$0W.id;return{"start":$0A,"end":$0B,"resource":$0R};};this.$a6=function(e,$0S,$0H,ev,$0Z){if($q.eventMoveHandling==='Disabled'){return;};var $10=$q.$a5(e,$0S,$0H);var $0A=$10.start;var $0B=$10.end;var $0R=$10.resource;var external=!!$0Z;if($q.$9w()){var $M={};var $11=function(){$M.loaded=function(){};$q.$a7();if($M.preventDefault.value){return;};switch($q.eventMoveHandling){case 'PostBack':$q.eventMovePostBack(e,$0A,$0B,$0R);break;case 'CallBack':$q.eventMoveCallBack(e,$0A,$0B,$0R);break;case 'Notify':$q.eventMoveNotify(e,$0A,$0B,$0R);break;case 'Update':e.start($0A);e.end($0B);e.resource($0R);if(external){e.commit();$q.events.add(e);}else{$q.events.update(e);};$q.$a8();break;};if(typeof $q.onEventMoved==='function'){$q.onEventMoved($M);}};$M.e=e;$M.control=$q;$M.newStart=$10.start;$M.newEnd=$10.end;$M.newResource=$10.resource;$M.external=external;$M.areaData=$m.movingAreaData;$M.ctrl=false;if(ev){$M.ctrl=ev.ctrlKey;};$M.shift=false;if(ev){$M.shift=ev.shiftKey;};$M.preventDefault=function(){this.preventDefault.value=true;};$M.async=false;$M.hideShadow=function(){$q.$a7();};$M.loaded=function(){$11();};if(typeof $q.onEventMove==='function'){$q.onEventMove($M);if($M.preventDefault.value){$q.$a7();return;}};if(!$M.async){$11();}}else{$q.$a7();switch($q.eventMoveHandling){case 'PostBack':$q.eventMovePostBack(e,$0A,$0B,$0R);break;case 'CallBack':$q.eventMoveCallBack(e,$0A,$0B,$0R);break;case 'JavaScript':$q.onEventMove(e,$0A,$0B,$0R,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false);break;case 'Notify':$q.eventMoveNotify(e,$0A,$0B,$0R,null);break;}}};this.eventMoveNotify=function(e,$0A,$0B,$0R,$G){var $0Q=new DayPilot.Event(e.copy(),this);e.start($0A);e.end($0B);e.resource($0R);e.commit();$q.update();this.$a9("Notify",$0Q,$0A,$0B,$0R,$G);};this.$a9=function($K,e,$0A,$0B,$0R,$G){var $0C={};$0C.e=e;$0C.newStart=$0A;$0C.newEnd=$0B;$0C.newResource=$0R;this.$9X($K,"EventMove",$0C,$G);};this.$a8=function(){if($q.todo){if($q.todo.del){var $00=$q.todo.del;$00.parentNode.removeChild($00);$q.todo.del=null;}}};this.$aa=function($M,$X){var $W=$q.$ab($X);var $0C={};$0C.args=$M;$0C.guid=$W;$q.$8G("Bubble",$0C);};this.$ab=function($X){var $W=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$W]=$X;return $W;};this.eventMenuClickPostBack=function(e,$12,$G){var $0C={};$0C.e=e;$0C.command=$12;this.$8E('EventMenuClick',$G,$0C);};this.eventMenuClickCallBack=function(e,$12,$G){var $0C={};$0C.e=e;$0C.command=$12;this.$8G('EventMenuClick',$0C,$G);};this.$ac=function($12,e,$13){switch($13){case 'PostBack':$q.eventMenuClickPostBack(e,$12);break;case 'CallBack':$q.eventMenuClickCallBack(e,$12);break;}};this.timeRangeMenuClickPostBack=function(e,$12,$G){var $0C={};$0C.selection=e;$0C.command=$12;this.$8E("TimeRangeMenuClick",$G,$0C);};this.timeRangeMenuClickCallBack=function(e,$12,$G){var $0C={};$0C.selection=e;$0C.command=$12;this.$8G("TimeRangeMenuClick",$0C,$G);};this.$ad=function($12,e,$13){switch($13){case 'PostBack':$q.timeRangeMenuClickPostBack(e,$12);break;case 'CallBack':$q.timeRangeMenuClickCallBack(e,$12);break;}};this.timeRangeSelectedPostBack=function($0w,end,$14,$G){var $15={};$15.start=$0w;$15.end=end;$15.resource=$14;this.$8E('TimeRangeSelected',$G,$15);};this.timeRangeSelectedCallBack=function($0w,end,$14,$G){var $15={};$15.start=$0w;$15.end=end;$15.resource=$14;this.$8G('TimeRangeSelected',$15,$G);};this.$ae=function($0w,end,$Q,$16){$0w=new DayPilot.Date($0w);end=new DayPilot.Date(end);$16=$16||"click";var $14=$Q;if($q.$9w()){var $M={};$M.start=$0w;$M.end=end;$M.resource=$14;$M.control=$q;$M.origin=$16;$M.preventDefault=function(){this.preventDefault.value=true;};$M.toJSON=function(){return $i($M,{},["start","end","resource"]);};if(typeof $q.onTimeRangeSelect==='function'){$q.onTimeRangeSelect($M);if($M.preventDefault.value){return;}};switch($q.timeRangeSelectedHandling){case 'PostBack':$q.timeRangeSelectedPostBack($0w,end,$14);break;case 'CallBack':$q.timeRangeSelectedCallBack($0w,end,$14);break;};if(typeof $q.onTimeRangeSelected==='function'){$q.onTimeRangeSelected($M);}}else{switch($q.timeRangeSelectedHandling){case 'PostBack':$q.timeRangeSelectedPostBack($0w,end,$Q);break;case 'CallBack':$q.timeRangeSelectedCallBack($0w,end,$Q);break;case 'JavaScript':$q.onTimeRangeSelected($0w,end,$Q);break;}}};this.timeRangeDoubleClickPostBack=function($0w,end,$Q,$G){var $15={};$15.start=$0w;$15.end=end;$15.resource=$Q;this.$8E('TimeRangeDoubleClick',$G,$15);};this.timeRangeDoubleClickCallBack=function($0w,end,$Q,$G){var $15={};$15.start=$0w;$15.end=end;$15.resource=$Q;this.$8G('TimeRangeDoubleClick',$15,$G);};this.$af=function($0w,end,$Q){if(!$q.$9w()){return;};var $14=$Q;var $M={};$M.start=$0w;$M.end=end;$M.resource=$14;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onTimeRangeClick==='function'){$q.onTimeRangeClick($M);if($M.preventDefault.value){return;}};if(typeof $q.onTimeRangeClicked==='function'){$q.onTimeRangeClicked($M);}};this.$ag=function($0w,end,$Q){if($q.$9w()){var $14=$Q;var $M={};$M.start=$0w;$M.end=end;$M.resource=$14;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onTimeRangeDoubleClick==='function'){$q.onTimeRangeDoubleClick($M);if($M.preventDefault.value){return;}};switch($q.timeRangeDoubleClickHandling){case 'PostBack':$q.timeRangeDoubleClickPostBack($0w,end,$14);break;case 'CallBack':$q.timeRangeDoubleClickCallBack($0w,end,$14);break;};if(typeof $q.onTimeRangeDoubleClicked==='function'){$q.onTimeRangeDoubleClicked($M);}}else{switch($q.timeRangeDoubleClickHandling){case 'PostBack':$q.timeRangeDoubleClickPostBack($0w,end,$Q);break;case 'CallBack':$q.timeRangeDoubleClickCallBack($0w,end,$Q);break;case 'JavaScript':$q.onTimeRangeDoubleClick($0w,end,$Q);break;}}};this.eventEditPostBack=function(e,$17,$G){var $0C={};$0C.e=e;$0C.newText=$17;this.$8E("EventEdit",$G,$0C);};this.eventEditCallBack=function(e,$17,$G){var $0C={};$0C.e=e;$0C.newText=$17;this.$8G("EventEdit",$0C,$G);};this.$ah=function(e,$17){if($q.$9w()){var $M={};$M.control=$q;$M.e=e;$M.newText=$17;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onEventEdit==='function'){$q.onEventEdit($M);if($M.preventDefault.value){return;}};switch($q.eventEditHandling){case 'PostBack':$q.eventEditPostBack(e,$M.newText);break;case 'CallBack':$q.eventEditCallBack(e,$M.newText);break;case 'Update':e.text($M.newText);$q.events.update(e);break;};if(typeof $q.onEventEdited==='function'){$q.onEventEdited($M);if($M.preventDefault.value){return;}}}else{switch($q.eventEditHandling){case 'PostBack':$q.eventEditPostBack(e,$17);break;case 'CallBack':$q.eventEditCallBack(e,$17);break;case 'JavaScript':$q.onEventEdit(e,$17);break;}}};this.eventSelectPostBack=function(e,$18,$G){var $0C={};$0C.e=e;$0C.change=$18;this.$8E('EventSelect',$G,$0C);};this.eventSelectCallBack=function(e,$18,$G){var $0C={};$0C.e=e;$0C.change=$18;this.$8G('EventSelect',$0C,$G);};this.$ai=function($0j,e,$0n,$0o){var m=$q.multiselect;var $19=false;var $1a=m.isSelected(e);var $1b=$0n||$0o;if(!$1b&&$1a&&!$19&&m.$aj.length===1){return;};if($q.$9w()){m.previous=m.events();var $M={};$M.e=e;$M.selected=m.isSelected(e);$M.ctrl=$0n;$M.meta=$0o;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onEventSelect==='function'){$q.onEventSelect($M);if($M.preventDefault.value){return;}};switch($q.eventSelectHandling){case 'PostBack':$q.eventSelectPostBack(e,$18);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$q.eventSelectCallBack(e,$18);break;case 'Update':m.$ak($0j,$0n);break;};if(typeof $q.onEventSelected==='function'){$M.change=m.isSelected(e)?"selected":"deselected";$M.selected=m.isSelected(e);$q.onEventSelected($M);}}else{m.previous=m.events();m.$ak($0j,$0n);var $18=m.isSelected(e)?"selected":"deselected";switch($q.eventSelectHandling){case 'PostBack':$q.eventSelectPostBack(e,$18);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){window.__theFormPostData="";window.__theFormPostCollection=[];WebForm_InitCallback();};$q.eventSelectCallBack(e,$18);break;case 'JavaScript':$q.onEventSelect(e,$18);break;}}};this.commandCallBack=function($12,$G){this.$8P();var $0C={};$0C.command=$12;this.$8G('Command',$0C,$G);};this.$al=function(ev){if($1c.active||$1c.using){return;};clearTimeout(DayPilotCalendar.selectedTimeout);if($m.selecting){return;};if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if($q.$8q&&$q.timeRangeDoubleClickHandling!=='Disabled'){for(var i=0;i<$q.$8q.length;i++){if(this===$q.$8q[i]){return;}}};if($q.timeRangeSelectedHandling==="Disabled"){return;};var $1d=DayPilot.Util.mouseButton(ev);if(!$1d.left){return;};var x=$q.$9y($q.coords.x,true);DayPilotCalendar.$am=$q.coords;DayPilotCalendar.$am.calendar=$q;$q.clearSelection();DayPilotCalendar.$8r=this;DayPilotCalendar.$8s=this;DayPilotCalendar.$an=x;$q.$8q.push(this);DayPilotCalendar.$ao=this;$m.selecting={"calendar":$q};$q.$ap();};this.$ap=function(){var $1e=this.getSelection();if(!$1e){return;};if(!$q.$8q){return;};(function activateSelectionNew(){var $1f=DayPilotCalendar.$8r;var $1g=DayPilotCalendar.$8s;var $1h=(function(){if($1f.data){return $1f.data.x;};var $1i=$1f.parentNode.cells;for(var i=0;i<$1i.length;i++){if($1i[i]===$1f){return i;}};return -1;})();var $1j=$q.timeRangeSelectingStartEndFormat;if($1j==="Auto"){$1j=$0D.$aq()==="Clock24Hours"?"H:mm":"h:mm tt";};var $z=$q.$9z[$1h];if(!$z){return;};var $1k=DayPilotCalendar.$8r===DayPilotCalendar.$ao;var $M={};$M.anchor=$1k?$1f.start:$1g.end;$M.start=$1f.start;$M.end=$1g.end;$M.duration=new DayPilot.Duration($M.start,$M.end);$M.resource=$z.id;$M.allowed=true;$M.html=null;$M.cssClass=null;$M.top={};$M.top.width=null;$M.top.space=5;$M.top.html=$M.start.toString($1j,$0D.$ar());$M.top.enabled=$q.timeRangeSelectingStartEndEnabled;$M.bottom={};$M.bottom.width=null;$M.bottom.space=5;$M.bottom.html=$M.end.toString($1j,$0D.$ar());$M.bottom.enabled=$q.timeRangeSelectingStartEndEnabled;var $1l=$m.selecting&&$m.selecting.args;if($1l&&$1l.start===$M.start&&$1l.end===$M.end&&$1l.resource==$M.resource){return;};if(!$q.allowEventOverlap){var $G={"id":null,"start":$M.start,"end":$M.end,"resource":$M.resource};if($q.events.$as($G)){$M.allowed=false;}};if($q.$at($M.start,$M.end,$M.resource)){$M.allowed=false;};if(typeof $q.onTimeRangeSelecting==="function"&&$M.allowed){$q.onTimeRangeSelecting($M);};if($m.selecting){$m.selecting.args=$M;};var top=$q.$au($M.start,$z.start).boxTop-$q.$av();var $1m=$q.$au($M.end,$z.start).boxBottom-$q.$av();var $09=$1m-top;var $0j=(function(){if($q.nav.activeSelection){return $q.nav.activeSelection;};var $0j=$b();$0j.setAttribute("unselectable","on");$0j.style.zIndex=$q.$8f;$0j.style.position="absolute";$0j.style.left="0px";$0j.style.width="100%";$0j.onclick=function(e){if($q.timeRangeClickHandling==="Disabled"){return;};var $1n=$q.getSelection();if(!$1n){return;};$q.$af($1n.start,$1n.end,$1n.resource);};$0j.ondblclick=function(e){if($q.timeRangeDoubleClickHandling==="Disabled"){return;};clearTimeout($q.$aw);var $1n=$q.getSelection();if(!$1n){return;};$q.$ag($1n.start,$1n.end,$1n.resource);};var $0c=$b();$0c.setAttribute("unselectable","on");$0c.className=$q.$9A("_shadow_inner");$0j.appendChild($0c);$q.nav.events.rows[0].cells[$1h].selection.appendChild($0j);$q.elements.selection.push($0j);$q.nav.activeSelection=$0j;return $0j;})();$0j.className=$q.$9A("_shadow");$0j.firstChild.innerHTML="";$0j.style.top=top+"px";$0j.style.height=$09+"px";var $0c=$0j.firstChild;if($M.html){$0c.innerHTML=$M.html;};if($M.cssClass){$f($0j,$M.cssClass);};if(!$M.allowed){$f($0j,$q.$9A("_shadow_forbidden"));};$q.$ax($0j,$1h,$M);})();};this.$a7=function(){$q.$ay(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};this.$a3=function(){$q.$ay(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;};this.$ay=function($0b){$n($0b);$n($q.nav.indicatorTop);$n($q.nav.indicatorBottom);};this.$ax=function($0j,$1h,$M){var $1i=$q.nav.events.rows[0].cells;var $1o=$1i[$1h].events;var $1p=$1h===$1i.length-1;$n($q.nav.indicatorTop);$n($q.nav.indicatorBottom);if($M.top.enabled){var top=$b();top.style.zIndex=$q.$8f;top.style.position="absolute";top.style.top=$0j.offsetTop+"px";if(!$1p){top.style.left=($0j.offsetWidth+$M.top.space)+"px";}else{top.style.right="0px";};if($M.top.width){top.style.width=$M.top.width+"px";}else{top.style.whiteSpace="nowrap";};if($M.top.html){top.innerHTML=$M.top.html;};top.className=$q.$9A("_shadow_top");$1o.appendChild(top);$q.elements.selection.push(top);$q.nav.indicatorTop=top;};if($M.bottom.enabled){var $1m=$b();$1m.style.zIndex=$q.$8f;$1m.style.position="absolute";$1m.style.top=($0j.offsetTop+$0j.offsetHeight)+"px";if(!$1p){$1m.style.left=($0j.offsetWidth+$M.bottom.space)+"px";}else{$1m.style.right="0px";};if($M.bottom.width){$1m.style.width=$M.bottom.width+"px";}else{$1m.style.whiteSpace="nowrap";};if($M.bottom.html){$1m.innerHTML=$M.bottom.html;};$1m.className=$q.$9A("_shadow_bottom");$1o.appendChild($1m);var $09=$1m.offsetHeight;$1m.style.top=($0j.offsetTop+$0j.offsetHeight-$09)+"px";$q.elements.selection.push($1m);$q.nav.indicatorBottom=$1m;}};this.$az=function(ev){if(typeof(DayPilot.Bubble)!=='undefined'&&$q.cellBubble){$q.cellBubble.hideOnMouseOut();}};this.$aA=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if($1c.active||$1c.using){return;};if(typeof DayPilot.Bubble!=='undefined'&&$q.cellBubble){var $0y={};$0y.calendar=$q;$0y.start=this.start;$0y.end=this.end;$0y.resource=this.resource;$0y.toJSON=function(){var $0v={};$0v.start=this.start;$0v.end=this.end;$0v.resource=this.resource;return $0v;};$q.cellBubble.showCell($0y,this);};if(typeof $1q!=="undefined"&&$1q.$9T){$1q.$aB($0y,ev);}};this.getSelection=function(){if(!DayPilotCalendar.$8r){return null;};if(!DayPilotCalendar.$8s){return null;};var $0w=DayPilotCalendar.$8r.start;var end=DayPilotCalendar.$8s.end;var $1r=DayPilotCalendar.$8r.resource;return new DayPilot.Selection($0w,end,$1r,$q);};this.$aC=function(ev){};this.$aD=function(ev){var $1s=$q.columnWidthSpec==="Fixed";if($1s||$q.$8g){if(!$q.nav.bottomLeft){return;};$q.nav.bottomLeft.scrollTop=$q.nav.bottomRight.scrollTop;if($q.nav.upperRight){$q.nav.upperRight.scrollLeft=$q.nav.bottomRight.scrollLeft;};$q.nav.scrollLayer.scrollLeft=$q.nav.bottomRight.scrollLeft;};var scroll=$q.$8v();$q.scrollPos=scroll.scrollTop;$q.$aE=scroll.clientHeight;$q.nav.scrollpos.value=$q.scrollPos;$q.$9u();$q.$8A();if($q.dynamicEventRendering==="Progressive"){clearTimeout($q.$aF);if($q.scrollDelayEvents===0){$q.$aG();}else{$q.$aF=setTimeout(function(){$q.$aG();},$q.scrollDelayEvents);}};if($q.columnWidthSpec==="Fixed"){clearTimeout($q.$aH);if($q.scrollDelayCells===0){$q.$aI();}else{$q.$aH=setTimeout(function(){$q.$aI();},$q.scrollDelayCells);}}};this.$9u=function(){if(!this.scrollLabelsVisible){return;};if(!this.$aJ){return;};var $1t=this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0;if(!$1t){return;};var $0G=this.$9z;var $1u=(this.showHours?this.hourWidth:0);var $1v=this.nav.main.rows[0].cells[0].clientWidth;var iw=10;var $1w=1;for(var i=0;i<this.nav.scrollUp.length;i++){var $1x=this.nav.scrollUp[i];var $1y=this.nav.scrollDown[i];var $0k=Math.floor($1u+i*$1v+$1v/ 2-(iw/ 2)+$1w);if($0k<0){$0k=0;};$0k-=$q.nav.bottomRight.scrollLeft;if($1x&&$1x.style){$1x.style.left=$0k+"px";};if($1y&&$1y.style){$1y.style.left=$0k+"px";}};var $1z=this.$av();for(var i=0;i<this.nav.scrollUp.length;i++){var up=this.nav.scrollUp[i];var $1A=this.nav.scrollDown[i];var $1B=this.$aJ[i].minEnd-$1z;var $1C=this.$aJ[i].maxStart-$1z;if(up&&$1A){if($1B<=$q.scrollPos&&parseInt(up.style.left)>=$q.hourWidth){up.style.top=(this.$9H())+"px";up.style.display='';}else{up.style.display='none';};if($1C>=$q.scrollPos+$q.$aE&&parseInt($1A.style.left)>=$q.hourWidth){$1A.style.top=(this.$9H()+this.$aE-10)+"px";$1A.style.display='';}else{$1A.style.display='none';}}}};this.$aK=function($04){var $1D=$04.parentNode;var $0k=0;var top=$04.offsetTop;var $1E=$04.parentNode.offsetWidth;var $09=$04.offsetHeight;if($04.event.allday()){$0k=$04.offsetLeft;$1E=$04.offsetWidth;};var $1F=document.createElement('textarea');$1F.style.boxSizing="border-box";$1F.style.position='absolute';$1F.style.width=$1E+'px';$1F.style.height=$09+'px';var $1G=DayPilot.gs($04,'fontFamily');if(!$1G)$1G=DayPilot.gs($04,'font-family');$1F.style.fontFamily=$1G;var $1H=DayPilot.gs($04,'fontSize');if(!$1H)$1H=DayPilot.gs($04,'font-size');$1F.style.fontSize=$1H;$1F.style.left=$0k+'px';$1F.style.top=top+'px';$1F.style.border='1px solid black';$1F.style.padding='0px';$1F.style.marginTop='0px';$1F.style.backgroundColor='white';$1F.value=($04.event.text()||"").trim();$1F.event=$04.event;$1D.appendChild($1F);return $1F;};this.$9N=function($0j,e,$0n,$0o){$q.$ai($0j,e,$0n,$0o);};this.zoom={};this.zoom.active=-1;this.zoom.setActive=function($1I){var $1J;if(typeof $1I==="number"){$1J=$q.zoomLevels[$1I];}else if(typeof $1I==="string"){var i=$q.zoom.$aL($1I);$1J=$q.zoomLevels[i];}else{throw new DayPilot.Exception("Unexpected parameter type (string or number required): "+typeof $1I);};if(!$1J){throw new DayPilot.Exception("Zoom level not found: "+$1I+" ("+(typeof $1I)+")");};if($1I===$q.zoom.active){return;};var $1K=$q.zoom.$aM();$q.zoom.$aN($1I);if($q.$8m){$q.update();};if($1K){$q.scrollToHour($1K);}};this.zoom.$aL=function(id){return $l($q.zoomLevels).findIndex(function($1J){return $1J.id===id;});};this.zoom.$aM=function(){var $s=$q.$8u();if(!$s){return null;};var top=$s.pixels.top;return $q.$aO(top);};this.zoom.$aN=function($1I){var $v=$q.zoomLevels.length-1;if($1I>$v){$1I=$v;};if($1I<0){$1I=0;};$q.zoom.active=$1I;var $1J=$q.zoomLevels[$1I];var $M={};$M.level=$1J;DayPilot.Util.ownPropsAsArray($1J.properties).forEach(function($1L){if($1L.key.indexOf("on")===0){return;};if(typeof $1L.val==="function"){$q[$1L.key]=$1L.val($M);return;};$q[$1L.key]=$1L.val;});return $M;};this.multiselect={};this.multiselect.$9a=[];this.multiselect.$aj=[];this.multiselect.$aP=[];this.multiselect.$aQ=[];this.multiselect.$aR=function(){var m=$q.multiselect;return JSON.stringify(m.events());};this.multiselect.events=function(){var m=$q.multiselect;var $1M=[];$1M.ignoreToJSON=true;for(var i=0;i<m.$aj.length;i++){$1M.push(m.$aj[i]);};return $1M;};this.multiselect.$aS=function(){var h=$q.nav.select;h.value=$q.multiselect.$aR();};this.multiselect.$ak=function($0j,$1N){var m=$q.multiselect;if(m.isSelected($0j.event)){if($q.allowMultiSelect){if($1N){m.remove($0j.event,true);}else{var $1O=m.$aj.length;m.clear(true);if($1O>1){m.add($0j.event,true);}}}else{m.clear(true);}}else{if($q.allowMultiSelect){if($1N){m.add($0j.event,true);}else{m.clear(true);m.add($0j.event,true);}}else{m.clear(true);m.add($0j.event,true);}};m.redraw();m.$aS();};this.multiselect.$aT=function(ev){var m=$q.multiselect;return m.$aU(ev,m.$9a);};this.multiselect.$aV=function(){var m=$q.multiselect;var $1P=[];for(var i=0;i<m.$aj.length;i++){var event=m.$aj[i];$1P.push(event.value());};alert($1P.join("\n"));};this.multiselect.add=function(ev,$1Q){var m=$q.multiselect;if(m.$aW(ev)===-1){m.$aj.push(ev);};m.$aS();if($1Q){return;};m.redraw();};this.multiselect.remove=function(ev,$1Q){var m=$q.multiselect;var i=m.$aW(ev);if(i!==-1){m.$aj.splice(i,1);};m.$aS();if($1Q){return;};m.redraw();};this.multiselect.clear=function($1Q){var m=$q.multiselect;m.$aj=[];m.$aS();if($1Q){return;};m.redraw();};this.multiselect.redraw=function(){var m=$q.multiselect;for(var i=0;i<$q.elements.events.length;i++){var $0j=$q.elements.events[i];if(m.isSelected($0j.event)){m.$aX($0j);}else{m.$aY($0j);}}};this.multiselect.$aX=function($0j){var m=$q.multiselect;var cn=$q.$9A("_selected");var c=m.$aZ($0j);$f(c,cn);m.$aP.push($0j);};this.multiselect.$aZ=function($0j){return $0j;};this.multiselect.$b0=function(){var m=$q.multiselect;for(var i=0;i<m.$aP.length;i++){var $0j=m.$aP[i];m.$aY($0j,true);};m.$aP=[];};this.multiselect.$aY=function($0j,$1R){var m=$q.multiselect;var cn=$q.$9A("_selected");var c=m.$aZ($0j);$g(c,cn);if($1R){return;};var i=DayPilot.indexOf(m.$aP,$0j);if(i!==-1){m.$aP.splice(i,1);}};this.multiselect.isSelected=function(ev){return $q.multiselect.$aU(ev,$q.multiselect.$aj);};this.multiselect.$aW=function(ev){var $G=ev.data;for(var i=0;i<$q.multiselect.$aj.length;i++){var $1L=$q.multiselect.$aj[i];if($q.$b1($1L.data,$G)){return i;}};return -1;};this.multiselect.$aU=function(e,$1P){if(!$1P){return false;};for(var i=0;i<$1P.length;i++){var ei=$1P[i];if($q.$b1(e,ei)){return true;}};return false;};this.$9M=function($04){if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};var $1F=this.$aK($04);DayPilotCalendar.editing=$1F;$e($1F,DayPilot.touch.start,function(ev){ev.stopPropagation();});$1F.onblur=function(){if(!$04.event){return;};var $1S=$04.event.text();var $17=$1F.value;DayPilotCalendar.editing=null;$1F.onblur=null;$n($1F);if($1S===$17){return;};$04.style.display='none';$q.$ah($04.event,$17);};$1F.onkeypress=function(e){var $1T=(window.event)?event.keyCode:e.keyCode;if($1T===13){this.onblur();e.preventDefault();return false;}};$1F.onkeyup=function(e){var $1T=(window.event)?event.keyCode:e.keyCode;if($1T===27){$1F.onblur=null;$1F.parentNode&&$1F.parentNode.removeChild($1F);DayPilotCalendar.editing=false;};return true;};$1F.select();$1F.focus();};this.$b2=function(){if($q.viewType==="Resources"){return false;};if($q.$9b()&&$q.$8H()){return false;};return true;};this.$9b=function(){if(DayPilot.isArray($q.columns)){return $q.columns;};return $q.columns.list;};this.columns={};this.columns.list=[];this.columns.$b3=false;this.columns.filter=function($1U){$q.$b4.params=$1U;if($q.$8m){$q.$b5();}};this.columns.find=function($0X,id){var $1V=$q.viewType==="Resources";$0X=new DayPilot.Date($0X);var $z=$q.$9z.find(function($z){var $1W=!$1V||$z.id===id;var $1X=$z.start.addDays(1);if($1W&&$z.start<=$0X&&$0X<$1X){return true;};return false;});if(!$z){return null;};return $q.$9Q($z,$q);};this.columns.load=function($1Y,$1Z,$20){if(!$1Y){throw new DayPilot.Exception("columns.load(): 'url' parameter required");};var $21=function($M){var $22={};$22.exception=$M.exception;$22.request=$M.request;if(typeof $20==='function'){$20($22);}};var $23=function($M){var r=$M.request;var $G;try{$G=JSON.parse(r.responseText);}catch(e){var $24={};$24.exception=e;$21($24);return;};if(DayPilot.isArray($G)){var $25={};$25.preventDefault=function(){this.preventDefault.value=true;};$25.data=$G;if(typeof $1Z==="function"){$1Z($25);};if($25.preventDefault.value){return;};$q.columns.list=$G;if($q.$8m){$q.update();}}};var $26=$q.columnsLoadMethod&&$q.columnsLoadMethod.toUpperCase()==="POST";if($26){DayPilot.ajax({"method":"POST","url":$1Y,"success":$23,"error":$21});}else{DayPilot.ajax({"method":"GET","url":$1Y,"success":$23,"error":$21});}};this.$9c=function(){var $27=$q.$b2();$q.$b6=0;if($27){var $28=this.$b7();this.$9z=this.$b8($28);}else{this.$95=this.$b8(this.$9b()||[]);this.$9z=this.$b9($0D.$ba(),true);}};this.$bb=function(){return $q.$9z.find(function(c){return typeof c.width==="number";});};this.$bc=function(){var $0w=this.startDate.getDatePart();var $29=this.days;switch(this.viewType){case "Day":$29=1;break;case "Week":$29=7;$0w=$0w.firstDayOfWeek($0D.$bd());break;case "WorkWeek":$29=5;$0w=$0w.firstDayOfWeek($0D.$bd());while($0w.dayOfWeek()!==1){$0w=$0w.addDays(1);};break;};var end=$0w.addDays($29);var $U={};$U.start=$0w;$U.end=end;$U.days=$29;return $U;};this.$b7=function(){var $0G=[];var $2a=this.$bc();var $0w=$2a.start;var $29=$2a.days;for(var i=0;i<$29;i++){var $Q={};$Q.start=$0w.addDays(i);var $2b=$0D.$ar().datePattern;if($q.headerDateFormat){$2b=$q.headerDateFormat;};$Q.name=$Q.start.toString($2b,$0D.$ar());$Q.html=$Q.name;$0G.push($Q);};return $0G;};this.$b4={};this.$b6=0;this.$be=function(){if($q.$b2()){return;};if(typeof $q.onColumnFilter==="function"){$q.$9e(null,{"preLoadOnly":true});this.$bf($q.$9z);this.$9z=this.$b9($0D.$ba(),true);};var $2c=$q.$bb();if($2c){$q.$bg();}};this.$bf=function($1P){if(!$1P){return;};$1P.forEach(function(c){$q.$bh(c);});};this.$bh=function($2d){var $Q=$2d.data;var $2e=!$Q.children||$Q.children.length===0;if(typeof $q.onColumnFilter==="function"&&$q.$b4.params){if($2e){var parent=$2d.parent;var $M={};$M.visible=true;$M.column=$q.$9Q($2d,$q);$M.filter=$q.$b4.params;$M.filterParam=$M.filter;$q.onColumnFilter($M);if($M.visible){parent&&parent.$bi();}else{$2d.hidden=true;}}else{$2d.hidden=true;}};$q.$bf($2d.children);};this.$bj=function($Q,parent){var $2d={};$2d.id=$Q.id;$2d.start=new DayPilot.Date($Q.start||$q.startDate).getDatePart();$2d.name=$Q.name;$2d.html=$Q.html||$Q.name;$2d.toolTip=$Q.toolTip;$2d.backColor=$Q.backColor;$2d.areas=$Q.areas;$2d.level=parent?parent.level+1:0;$2d.parent=parent;$2d.data=$Q;$2d.width=$Q.width;var $2e=!$Q.children||$Q.children.length===0;$q.$b6=Math.max($q.$b6,$2d.level);$2d.$bi=function(){$2d.hidden=false;if($2d.parent){$2d.parent.$bi();}};$2d.$bk=function($1J,$2f){var $1P=[];if($1J<=1){if(!this.hidden){$1P.push(this);};return $1P;};if(!this.children||this.children.length===0){if($2f){if(!this.hidden){$1P.push(this);}}else{$1P.push("empty");};return $1P;};for(var i=0;i<this.children.length;i++){var $2g=this.children[i];var $2h=$2g.$bk($1J-1,$2f);for(var j=0;j<$2h.length;j++){$1P.push($2h[j]);}};return $1P;};$2d.$bl=function($1J){var $1O=0;if(!this.children||this.children.length<=0||$1J<=1){var $2a=!this.hidden;return $2a?1:0;};for(var i=0;i<this.children.length;i++){$1O+=this.children[i].$bl($1J-1);};return $1O;};$2d.$bm=function(ep){for(var i=0;i<this.blocks.length;i++){var $2i=this.blocks[i];if($2i.$bn(ep.part.top,ep.part.height)){$2i.events.push(ep);$2i.min=Math.min($2i.min,ep.part.top);$2i.max=Math.max($2i.max,ep.part.top+ep.part.height);return i;}};var $2i=[];$2i.lines=[];$2i.events=[];$2i.$bn=function($0w,$1E){var end=$0w+$1E-1;if(!(end<this.min||$0w>this.max-1)){return true;};return false;};$2i.$bo=function(ep){var $2j=this;for(var i=0;i<this.lines.length;i++){var $2k=this.lines[i];if($2k.$bp(ep.part.top,ep.part.height)){$2k.push(ep);return i;}};var $2k=[];$2k.$bp=function($0w,$1E){var end=$0w+$1E-1;var $v=this.length;for(var i=0;i<$v;i++){var e=this[i];if(!(end<e.part.top||$0w>e.part.top+e.part.height-1)){return false;}};return true;};$2k.push(ep);this.lines.push($2k);return this.lines.length-1;};$2i.events.push(ep);$2i.min=ep.part.top;$2i.max=ep.part.top+ep.part.height;this.blocks.push($2i);return this.blocks.length-1;};$2d.$bo=function(ep){var $2j=this;for(var i=0;i<this.lines.length;i++){var $2k=this.lines[i];if($2k.$bp(ep.part.top,ep.part.height)){$2k.push(ep);return i;}};var $2k=[];$2k.$bp=function($0w,$1E){var end=$0w+$1E-1;var $v=this.length;for(var i=0;i<$v;i++){var e=this[i];if(!(end<e.part.top||$0w>e.part.top+e.part.height-1)){return false;}};return true;};$2k.push(ep);this.lines.push($2k);return this.lines.length-1;};$2d.$9G=function(){return $2d.start.addHours($q.$9G(true));};$2d.$bq=function(){var $0a=$q.$9C(true);return $2d.$9G().addTime($0a);};if($Q.children){$2d.children=this.$b8($Q.children,$2d);};return $2d;};this.$b8=function(cc,parent){var $2d=$l();$l(cc).forEach(function($1L){var $z=$q.$bj($1L,parent);$2d.push($z);});return $2d;};this.$b9=function($1J,$2f){var $2l=this.$b2()?this.$9z:this.$95;var $1P=$l();for(var i=0;i<$2l.length;i++){var $T=$2l[i].$bk($1J,$2f);for(var j=0;j<$T.length;j++){$1P.push($T[j]);}};return $1P;};this.selectTimeRange=function($0w,end,$14,$2m){if(!$0w){return;};if(!end){return;};$0w=new DayPilot.Date($0w);end=new DayPilot.Date(end);var top=$q.$br($0w,$14,true);var $1m=$q.$br(end,$14);if(!top){return;};if(!$1m){return;};if(top.data.x!==$1m.data.x){return;};DayPilotCalendar.$8r=top;DayPilotCalendar.$ao=top;DayPilotCalendar.$8s=$1m;$q.$8q=DayPilotCalendar.$bs($1m);DayPilotCalendar.$an=top.data.x;$q.$ap();if(!$2m){setTimeout(function(){$q.$ae($0w,end,$14,"api");},0);}};$q.$br=function($0x,$14,$2n){var $1m=$q.$9z;var $06=$q.nav.main;var $2o=$q.viewType==="Resources";var $Q=$1m.find(function(c){var $2p=$2o?c.id===$14:true;var $2q=c.$9G()<=$0x&&$0x<c.$bq();return $2p&&$2q;});if(!$Q){return;};var x=$1m.indexOf($Q);var $0y=(function findCell(){for(var y=0;y<$q.$8y();y++){var $0y=$06.rows[y].cells[x];if(!$0y){continue;};var $G=$0y.data;var $2r=$G.start<=$0x&&$0x<=$G.end;if($2n){$2r=$G.start<=$0x&&$0x<$G.end;};if($2r){return $0y;}};return null;})();if($0y){return $0y;}};this.$bt={};var $0z=this.$bt;$0z.$bu=function($2s){var $0j=$2s.div.firstChild;var $2t=$b();var $2u=$2t.style;$2u.position="absolute";$2u.left="2px";$2u.top="2px";$2u.bottom="2px";$2u.width="15px";$2u.opacity="0.5";$2u.cursor="move";$2u.display="none";$2t.className=$q.$9A("_colmove_handle");$c($0j,"mouseenter",function(ev){if(!$0z.$9T&&!$1q.$9T){$2u.display="";}});$c($0j,"mouseleave",function(ev){$2u.display="none";});$2t.onmousedown=function(ev){$0z.$bv(ev,$2s);};if(!$0j.$){$0j.$={};};$0j.$.$bw=function(){$2u.display="none";};$0j.$.$bx=function(){$2u.display="";};$0j.appendChild($2t);};$0z.$bv=function(ev,$2s){var $2v=$q.nav.header;var $2w={};$2w.$by=$2s;$2w.$bz=$2v.style.cursor;var $0j=$2s.div;$0z.$9T=$2w;$m.colMoving=$0z;$0j.$&&$0j.$.$bA&&$0j.$.$bA();$f($0j,$q.$9A("_colmove_source"));$2v.style.cursor="move";};$0z.$bB=function($2x){var $U=[];var parent=$2x.parent;if(parent){$U.push(parent.data);$U=$U.concat($0z.$bB(parent));};return $U;};$0z.$bC=function(){if(!$0z.$9T.target){cleanup();return;};var $2v=$q.nav.header;var $2y=$0z.$9T;var $2z=$2y.position;var $0j=$2y.div;var $2A=$0z.$9T.$by.column;var $2B=$2A.data;var $2C=$2A.parent;var $2D=$2y.target;var $2E=$2D.data;var $2F=$2D.parent;var $2G=$2F?$2F.data.children:$q.$9b();var $2H=$2C?$2C.data.children:$q.$9b();var $2I=$0z.$bB($2D);function cleanup(){$g($0z.$9T.$by.div,$q.$9A("_colmove_source"));if($2v){$2v.style.cursor=$2y.$bz;};if($0j){$0j.remove();};$0z.$9T=null;};if($2I.includes($2B)){cleanup();return;};if($2E===$2B){cleanup();return;};if($2z==="forbidden"){cleanup();return;};var $M={};$M.source=$q.$9Q($2A);$M.target=$q.$9Q($2D);$M.position=$2z;$M.preventDefault=function(){$M.preventDefault.value=true;};if(typeof $q.onColumnMove==="function"){$q.onColumnMove($M);if($M.preventDefault.value){cleanup();return;}};if($0D.$bD("Update")){DayPilot.rfa($2H,$2B);var $2J=$2G.indexOf($2E);if($2z==="child"){var $T=$2E.children||[];$T.push($2B);$2E.children=$T;}else if($2z==="before"){$2G.splice($2J,0,$2B);}else if($2z==="after"){$2G.splice($2J+1,0,$2B);};$q.$b5();};if(typeof $q.onColumnMoved==="function"){$q.onColumnMoved($M);};cleanup();};$0z.$9U=function(ev,$2D){var $2K=12;var $2L=12;var $Q=$2D.data;var $2M=$q.columnMoveSameLevelOnly;var $0j=$0z.$9T.div;var $2A=$0z.$9T.$by.column;var $2N;if(!$0j){$0j=$b();$2N=$0j.style;$2N.position="absolute";$2N.width=$2K+"px";$2N.height=$2L+"px";$2N.top="0px";$0z.$9T.div=$0j;}else{$2N=$0j.style;};var $2O=$2D.getBoundingClientRect();var $1E=$2O.width;var $09=$2O.height;var $1w=DayPilot.mo3($2D,ev);var $T=$Q.children||[];var $2P=$T.length;var $2Q=$2P===0?0.25:0.5;var $2z=null;var $2I=$0z.$bB($2D.data);$0j.className="";var $2R=false;if($2A===$Q){$2R=true;};if($2M){$2Q=0.5;};if($2I.includes($2A.data)){$2z="forbidden";}else if($2R){$2z="forbidden";}else if($1w.x<$1E*$2Q){$2z="before";}else if($1w.x>$1E*(1-$2Q)){$2z="after";}else if($2P==0){$2z="child";};if($2M){if($2A.level!==$Q.level){$2z="forbidden";}};var $M={};$M.position=$2z;$M.source=$q.$9Q($2A);$M.target=$q.$9Q($2D.data);if(typeof $q.onColumnMoving==="function"){$q.onColumnMoving($M);};$2z=$M.position;if($2z==="forbidden"){$2N.left=($1E*0.5-$2K*0.5)+"px";$2N.top=($09/2-2)+"px";$0j.className=$q.$9A("_colmove_position_forbidden");}else if($2z==="before"){$2N.left="0px";$2N.top=($09*0.5-$2L*0.5)+"px";$0j.className=$q.$9A("_colmove_position_before");}else if($2z==="after"){$2N.left=($1E-$2K-1)+"px";$2N.top=($09*0.5-$2L*0.5)+"px";$0j.className=$q.$9A("_colmove_position_after");}else if($2z==="child"){$2N.left=($1E*0.5-$2K*0.5)+"px";$2N.top=($09-$2L-1)+"px";$0j.className=$q.$9A("_colmove_position_child");};if($0j.parentNode!==$2D){$0j.remove();$2D.appendChild($0j);};$0z.$9T.target=$Q;$0z.$9T.position=$2z;};this.$bE={};var $1q=this.$bE;$1q.$bF=function($2s){var $0j=$2s.div.firstChild;var $2t=$b();var $2u=$2t.style;$2u.position="absolute";$2u.right="0px";$2u.top="0px";$2u.bottom="0px";$2u.width="4px";$2u.cursor="e-resize";$2u.display="none";$2t.className=$q.$9A("_colheader_splitter");$c($0j,"mouseenter",function(ev){if(!$0z.$9T&&!$1q.$9T){$2u.display="";}});$c($0j,"mouseleave",function(ev){if(!$1q.$9T){$2u.display="none";}});$2t.onmousedown=function(ev){$1q.$bG(ev,$2s);};if(!$0j.$){$0j.$={};};$0j.$.$bA=function(){$2u.display="none";};$0j.appendChild($2t);};$1q.$bG=function(ev,$2s){var $2S=DayPilot.mo3($q.nav.header,ev);var $Q=$2s.column;var $0j=$2s.div.firstChild;var $2T={};$2T.$bH=$2S.x;$2T.$by=$2s;$2T.$bI=$2s.x;$2T.$bJ=$2s.column;$0j.$&&$0j.$.$bw&&$0j.$.$bw();if($2s.y!==$0D.$ba()-1){var $1m=$Q.$bk($0D.$ba()-$2s.y,true);var $1g=$1m[$1m.length-1];if($1g){$2T.$bI=$q.$9z.indexOf($1g);}};$1q.$9T=$2T;$m.colResizing=$1q;};$1q.$aB=function($0y,ev){var $1m=$q.$9z;var mo=DayPilot.mo3($q.nav.header,ev);var $Q=$1q.$9T.$bJ;var $2U=mo.x-$1q.$9T.$bH;var y=$1q.$9T.$by.y;var $2V=y!==$0D.$ba()-1;var $2W=$q.columnWidthSpec==="Fixed";var $2X=$q.columnWidthMin;var $2Y=$1q.$9T.$bI;var $2Z=0;var $30=$q.nav.main.clientWidth;var $31=$30/100;var $32=$2X/$31;var $33=$2U/$31;var $34=0;var $1E=0;if($2V){var $35=$Q.$bk($0D.$ba()-y,true);var $36=$2W?$q.columnWidth:100/$1m.length;var $37=$35.reduce(function($38,$39){return $38+($39.width||$36)},0);var $3a=$2W?$37+$2U:$37+$33;var $3b=$3a/$37;var $3c=0;$35.forEach(function(c,i){var $3d=i===$35.length-1;var $1E=c.width||$36;var $3e=$1E*$3b;var $3f=Math.round($3e);if($2W){$3c+=$3e-$3f;$3e=$3f;};if($3e<$2X){$2Z+=$3e-$2X;$3e=$2X;};c.width=$3e;if($3d){c.width+=$3c;}});if(!$2W){adjustRemainingColumns();var $3g=$1E;var $3h=$35.reduce(function(p,c){return p+c.width||$36},0);$35.forEach(function(c){var w=c.width||$36;var $3i=w/$3h;c.width=w+$3g*$3i;});}}else{var $3j=$q.$8x()[$2Y].width;var $Q=$1m[$2Y];if($2W){$1E=$3j+$2U;if($1E<$2X){$2Z=$1E-$2X;$1E=$2X;}}else{$1E=$Q.width+$33;if($1E<$32){$34=$1E-$32;$33=$32-$Q.width;$1E=$32;};$1E=Math.max($1E,1);adjustRemainingColumns();};$Q.width=$1E;};$1q.$9T.$bH=mo.x-$2Z;$q.$bg();$q.$8A();$1q.$bK();function getRemainingTotalPct(){var $3k=0;for(var x=$2Y+1;x<$1m.length;x++){$3k+=$1m[x].width||$36;};return $3k;};function adjustRemainingColumns(){var $3k=getRemainingTotalPct();var $3l=0;for(var x=$2Y+1;x<$1m.length;x++){var cb=$1m[x];var $3m=cb.width||$36;var $3n=$3m/$3k;cb.width=$3m-$33*$3n;if(cb.width<1){$3l+=1-cb.width;cb.width=1;}};$1E-=$3l;$34+=$3l;$2Z=$34*$31;}};$1q.$bL=function(){var $1m=$q.$9z;var $0j=$1q.$9T.$by.div.firstChild;var $Q=$1q.$9T.$bJ;$0j.$&&$0j.$.$bx&&$0j.$.$bx();$1q.$9T=null;var $M={};$M.column=$q.$9Q($Q);$M.newWidth=$Q.width;$M.preventDefault=function(){$M.preventDefault.value=true;};if(typeof $q.onColumnResize==="function"){$q.onColumnResize($M);};if($M.preventDefault.value){$q.update();return;};if($0D.$bM("Update")){$1m.forEach(function(c){c.data.width=c.width;});};if(typeof $q.onColumnResized==="function"){$q.onColumnResized($M);}};$1q.$bK=function(){var $w=$q.$8x();var $2W=$q.columnWidthSpec==="Fixed";var $2v=$q.nav.header;var $06=$q.nav.main;var $1M=$q.nav.events;var $3o=$q.nav.unifiedCornerRight;$2v.rows.forEach(function(r,y){if(y===$0D.$ba()-1){return;};var $3p=$q.$bN(y);r.cells.forEach(function(c,x){var $3q=$3p[x];c.style.left=$3q.left+$3q.unit;c.style.width=$3q.width+$3q.unit;});});var $3r=$0D.$ba()-1;for(var i=0;i<$q.$9z.length;i++){var $3q=$w[i];var $3s=$2v.rows[$3r].cells[i];$3s.style.left=$3q.left+$3q.unit;$3s.style.width=$3q.width+$3q.unit;if($2W){$3s.firstChild.style.width=$3q.width+$3q.unit;}};$06.rows.forEach(function(r){r.cells.forEach(function(c,x){var w=$w[x].width+$w[x].unit;var $0k=$w[x].left+$w[x].unit;if(c.style.width!==w){c.style.width=w;if($2W){c.firstChild.style.width=w;}};if(c.style.left!==$0k){c.style.left=$0k;}});});$1M.rows[0].cells.forEach(function(c,x){var w=$w[x].width+$w[x].unit;var $0k=$w[x].left+$w[x].unit;if(c.style.width!==w){c.style.width=w;if($2W){c.firstChild.style.width=w;}};if(c.style.left!==$0k){c.style.left=$0k;}});if($2W){var $3t=$w[$w.length-1];var $0k=$3t.left+$3t.width;$3o.style.left=$0k+"px";$06.style.width=$0k+"px";}};this.$bg=function(){if($q.columnWidthSpec==="Fixed"){return;};var $1m=$q.$9z;var $36=100/$1m.length;var $3u=$1m.reduce(function($1l,$39){return $1l+($39.width||$36);},0);var $3b=$3u/100;$1m.forEach(function(c,i){var $3d=$1m.length-1;var $1E=c.width||$36;c.width=$1E/$3b;});};this.$9s=function(){if(!this.showAllDayEvents){return;};var $2v=this.nav.header;if(!$2v){return;};$2v.style.display='none';var $0G=this.$9z.length;for(var j=0;j<this.$bO.lines.length;j++){var $2k=this.$bO.lines[j];for(var i=0;i<$2k.length;i++){var $G=$2k[i];var $3v=$G.cache||$G.data;var $3w=$b();$3w.style.position="absolute";if($q.rtl){$3w.style.right=(100.0*$G.part.colStart/$0G)+"%";}else{$3w.style.left=(100.0*$G.part.colStart/$0G)+"%";};$3w.style.width=(100.0*$G.part.colWidth/$0G)+"%";$3w.style.height=$0D.$bP()+'px';$3w.style.top=($0D.$ba()*$0D.$bQ()+j*($0D.$bP()))+"px";var $0j=$b();$0j.event=$G;$0j.setAttribute("unselectable","on");$0j.style.position='absolute';$0j.style.inset="2px";$0j.className=this.$9A("_alldayevent");if(!$q.allDayEventTextWrappingEnabled){$0j.style.whiteSpace="nowrap";};if($3v.cssClass){$f($0j,$3v.cssClass);};$0j.style.textAlign='left';$0j.style.lineHeight="1.2";if($G.client.clickEnabled()){$0j.onclick=this.$9K;};if($G.client.doubleClickEnabled()){$0j.ondblclick=this.$9O;};if($G.client.clickEnabled()||$G.client.doubleClickEnabled()){$0j.style.cursor="pointer";}else{$0j.style.cursor="default";};$e($0j,"contextmenu",this.$9P);$0j.onmousemove=function(ev){var $0j=this;var e=$0j.event;var $3v=e.cache||e.data;if(!$0j.active){var $3x=[];if(e.client.deleteEnabled()){$3x.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":3,"right":3,"css":$q.$9A("_event_delete"),"js":function(e){$q.$9W(e);}});};var $1P=$3v.areas;if($1P&&$1P.length>0){$3x=$3x.concat($1P);};DayPilot.Areas.showAreas($0j,e,null,$3x);$f($0j,$q.$9A("_alldayevent_hover"));};if(typeof(DayPilot.Bubble)!=='undefined'&&$q.bubble&&$q.eventHoverHandling!=='Disabled'){$q.bubble.showEvent(this.event);}};$0j.onmouseout=function(ev){var $0j=this;$g($0j,$q.$9A("_alldayevent_hover"));DayPilot.Areas.hideAreas(this,ev);if($q.bubble){$q.bubble.hideOnMouseOut();}};if(this.showToolTip&&!this.bubble){$0j.setAttribute("title",$G.client.toolTip());};var $3y=$G.start().getTime()===$G.part.start.getTime();var $3z=$G.end().getTime()===$G.part.end.getTime();var back=$3v.backColor;var $0c=$b();$0c.setAttribute("unselectable","on");$0c.className=this.$9A("_alldayevent_inner");if(back){$0c.style.background=back;};if($3v.fontColor){$0c.style.color=$3v.fontColor;};if($3v.borderColor==="darker"&&$3v.backColor){$0c.style.borderColor=DayPilot.ColorUtil.darker($3v.backColor,2);}else{$0c.style.borderColor=$3v.borderColor;};if($q.rtl){if(!$3y){$f($0j,this.$9A("_alldayevent_continueright"));};if(!$3z){$f($0j,this.$9A("_alldayevent_continueleft"));}}else{if(!$3y){$f($0j,this.$9A("_alldayevent_continueleft"));};if(!$3z){$f($0j,this.$9A("_alldayevent_continueright"));}};$0j.appendChild($0c);if(DayPilot.isArray($3v.areas)){$3v.areas.filter(function(a){return DayPilot.Areas.isVisible(a);}).forEach(function(a){var ad=DayPilot.Areas.createArea($0j,$G,a);$0j.appendChild(ad);});};if($q.$9w()){if(typeof $q.onAfterEventRender==='function'){var $M={};$M.e=$0j.event;$M.div=$0j;$q.onAfterEventRender($M);}}else{if($q.afterEventRender){$q.afterEventRender($0j.event,$0j);}};(function domAdd(){var $M={};$M.control=$q;$M.e=$G;$M.element=null;$0j.domArgs=$M;if(typeof $q.onBeforeEventDomAdd==="function"){$q.onBeforeEventDomAdd($M);};if($M.element){var $2D=$0c;if($2D){$M.$bR=$2D;var $3A=$j($M.element);if($3A){$q.$8W.$bS();$q.$8W.$bT($M.element,$2D);}else{$2D.appendChild($M.element);}}}else{$0c.innerHTML=$G.client.innerHTML();}})();$3w.appendChild($0j);this.nav.allday.appendChild($3w);this.elements.events.push($0j);}};$2v.style.display='';};this.$8Q=function($3B){$q.multiselect.$b0();if(this.elements.events){for(var i=0;i<this.elements.events.length;i++){var $0j=this.elements.events[i];var $04=$0j.event;if($04&&$3B&&!$04.allday()){continue;};$q.$bU($0j);}};this.elements.events=[];};this.$bU=function($0j){var $04=$0j.event;var $3C=$0j.domArgs;$0j.domArgs=null;if($3C&&typeof $q.onBeforeEventDomRemove==="function"){$q.onBeforeEventDomRemove($3C);};if($3C&&typeof $q.onBeforeEventDomAdd==="function"&&$q.$8W.reactDOM){var $2D=$3C&&$3C.$bR;if($2D){var $3D=$j($3C.element);if($3D){$q.$8W.$bS();$q.$8W.$bV($2D);}}};if($04){$04.div=null;$04.root=null;$04.rendered=false;};$0j.onclick=null;$0j.onclickSave=null;$0j.ondblclick=null;$0j.oncontextmenu=null;$0j.onmouseover=null;$0j.onmouseout=null;$0j.onmousemove=null;$0j.onmousedown=null;if($0j.firstChild&&$0j.firstChild.firstChild&&$0j.firstChild.firstChild.tagName&&$0j.firstChild.firstChild.tagName.toUpperCase()==='IMG'){var $3E=$0j.firstChild.firstChild;$3E.onmousedown=null;$3E.onmousemove=null;$3E.onclick=null;};if($0j!==$m.moving){$0j.helper=null;$0j.event=null;};$n($0j);};this.$bW=function(e){if(e.isAllDay()){return true;}else{var cd=$q.$8z(e.part.dayIndex);var $s=this.$8u();var $0k=$s.pixels.left;var $A=$s.pixels.right;var top=$s.pixels.top;var $1m=$s.pixels.bottom;var $3F=(e.part.width/100)*cd.width;var $3G=e.part.left+cd.left;var $3H=$3G+$3F;var $3I=e.part.top-this.$av();var $3J=$3I+e.part.height;var $3K=$A<=$3G||$0k>=$3H;var $3L=$1m<=$3I||top>=$3J;return !$3K&&!$3L;}};this.$bX=function(e){var $06=this.nav.events;var $3v=e.cache||e.data;if(e.rendered){return;};var $3M=$q.multiselect.$aT(e);var $3N=$q.$bW(e);var $3O=$q.dynamicEventRendering==="Progressive"&&$q.columnWidthSpec==="Fixed";var $3P=false;if(!$3P&&!$3M&&$3O&&!$3N){return;};var $0j=$b();$0j.setAttribute("unselectable","on");$0j.style.MozUserSelect='none';$0j.style.KhtmlUserSelect='none';$0j.style.WebkitUserSelect='none';$0j.style.position='absolute';$0j.className=this.$9A("_event");$0j.style.left=e.part.left+'%';$0j.style.top=(e.part.top-this.$av())+'px';$0j.style.width=e.part.width+'%';$0j.style.height=Math.max(e.part.height,2)+'px';$0j.style.overflow='hidden';$0j.isFirst=e.part.start.getTime()===e.start().getTime();$0j.isLast=e.part.end.getTime()===e.end().getTime();if(e.client.clickEnabled()){$0j.onclick=this.$9K;};if(e.client.doubleClickEnabled()){$0j.ondblclick=this.$9O;};$e($0j,"contextmenu",this.$9P);$0j.onmousemove=this.$bY;$0j.onmouseout=this.$bZ;$0j.onmousedown=this.$c0;$d($0j,DayPilot.touch.start,this.$c1.onEventTouchStart);$c($0j,DayPilot.touch.move,this.$c1.onEventTouchMove);$c($0j,DayPilot.touch.end,this.$c1.onEventTouchEnd);if($3v.cssClass){$f($0j,$3v.cssClass);};if(this.showToolTip&&!this.bubble){$0j.setAttribute("title",e.client.toolTip());};var $0c=$b();$0c.setAttribute("unselectable","on");$0c.className=$q.$9A("_event_inner");if($3v.fontColor){$0c.style.color=$3v.fontColor;};if($3v.backColor){$0c.style.background=$3v.backColor;};if($3v.borderColor){if($3v.borderColor==="darker"&&$3v.backColor){$0c.style.borderColor=DayPilot.ColorUtil.darker($3v.backColor,2);}else{$0c.style.borderColor=$3v.borderColor;}};if($3v.backgroundImage){$0c.style.backgroundImage="url("+$3v.backgroundImage+")";if($3v.backgroundRepeat){$0c.style.backgroundRepeat=$3v.backgroundRepeat;}};$0j.appendChild($0c);if(e.client.barVisible()){var $09=e.part.height-2;var $3Q=100*e.part.barTop/$09;var $3R=Math.ceil(100*e.part.barHeight/$09);var $3S=$b();$3S.setAttribute("unselectable","on");$3S.className=this.$9A("_event_bar");$3S.style.position="absolute";if($3v.barBackColor){$3S.style.backgroundColor=$3v.barBackColor;};var $3T=$b();$3T.setAttribute("unselectable","on");$3T.className=this.$9A("_event_bar_inner");$3T.style.top=$3Q+"%";if(0<$3R&&$3R<=1){$3T.style.height="1px";}else{$3T.style.height=$3R+"%";};if($3v.barColor){$3T.style.backgroundColor=$3v.barColor;};$3S.appendChild($3T);$0j.appendChild($3S);};var $3x=$3v.areas?DayPilot.Areas.copy($3v.areas):[];var $z=$q.$9z[e.part.dayIndex];$3x.forEach(function($s){if($s.start){$s.top=$q.$au(new DayPilot.Date($s.start),$z.start).top-e.part.top-$q.$av();};if($s.end){$s.bottom=e.part.top+e.part.height-$q.$au(new DayPilot.Date($s.end),$z.start).top-$q.$av();}});if(e.client.deleteEnabled()){$3x.push({"action":"JavaScript","v":"Hover","w":17,"h":17,"top":2,"right":2,"css":$q.$9A("_event_delete"),"js":function(e){$q.$9W(e);}});};DayPilot.Areas.attach($0j,e,{"areas":$3x});(function domAdd(){var $M={};$M.control=$q;$M.e=e;$M.element=null;$0j.domArgs=$M;if(typeof $q.onBeforeEventDomAdd==="function"){$q.onBeforeEventDomAdd($M);};if($M.element){var $2D=$0c;if($2D){$M.$bR=$2D;var $3A=$j($M.element);if($3A){$q.$8W.$bS();$q.$8W.$bT($M.element,$2D);}else{$2D.appendChild($M.element);}}}else{$0c.innerHTML=e.client.innerHTML();}})();if(!$06.rows[0].cells[e.part.dayIndex]){return;};var $3U=$06.rows[0].cells[e.part.dayIndex].events;$3U.appendChild($0j);$q.$c2($0j);$0j.event=e;if($q.multiselect.$aT(e)){$q.multiselect.add($0j.event,true);};e.rendered=true;if($q.$9w()){if(typeof $q.onAfterEventRender==='function'){var $M={};$M.e=$0j.event;$M.div=$0j;$q.onAfterEventRender($M);}}else{if($q.afterEventRender){$q.afterEventRender($0j.event,$0j);}};$q.elements.events.push($0j);};this.$c2=function(el){var c=(el&&el.childNodes)?el.childNodes.length:0;for(var i=0;i<c;i++){try{var $2g=el.childNodes[i];if($2g.nodeType===1){$2g.setAttribute("unselectable","on");this.$c2($2g);}}catch(e){}}};this.$9r=function(){var $0w=new Date();for(var i=0;i<this.$9z.length;i++){var $z=this.$9z[i];if(!$z.blocks){continue;};for(var m=0;m<$z.blocks.length;m++){var $2i=$z.blocks[m];for(var j=0;j<$2i.lines.length;j++){var $2k=$2i.lines[j];for(var k=0;k<$2k.length;k++){var e=$2k[k];e.part.width=100/$2i.lines.length;e.part.left=e.part.width*j;if(this.eventArrangement==='Cascade'){var $3V=(j===$2i.lines.length-1);if(!$3V){e.part.width=e.part.width*1.5;}};if(this.eventArrangement==='Full'){e.part.left=e.part.left/2;e.part.width=100-e.part.left;};if(!e.allday()){this.$bX(e);}}}}};this.multiselect.redraw();var end=new Date();var $3W=end.getTime()-$0w.getTime();};this.$aG=function(){$q.elements.events.forEach(function($0j){if($0j.event&&!$q.$bW($0j.event)){$q.$bU($0j);}});$q.$8j.$c3.forEach(function(e){$q.$bX(e);});$q.elements.events=$q.elements.events.filter(function($0j){return !!$0j.event;});};this.$aI=function(){if(!$q.$9z||$q.$9z.length===0){return;};var $s=$q.$8u();for(var x=$s.xStart;x<=$s.xEnd;x++){for(var y=$s.yStart;y<=$s.yEnd;y++){$q.$c4(x,y);}};$q.$c5();};$q.$c5=function(){var $s=$q.$8u();var $3X=this.$8y();var $07=$q.$9z.length;for(var x=0;x<$07;x++){var $3Y=true;if($s.xStart<=x&&x<=$s.xEnd){$3Y=false;};for(var y=0;y<$3X;y++){var $3Z=true;if($s.yStart<=y&&y<=$s.yEnd){$3Z=false;};var $0y=$q.elements.cells[x+"_"+y];if($0y&&($3Z||$3Y)){$0y.remove();$q.elements.cells[x+"_"+y]=null;}}}};this.$c6=function(){this.multiselect.$aj=[];for(var i=0;i<this.$9z.length;i++){var $z=this.$9z[i];for(var j=0;j<$z.lines.length;j++){var $2k=$z.lines[j];for(var k=0;k<$2k.length;k++){var e=$2k[k];e.part.width=100/$z.lines.length;e.part.left=e.Width*j;if(!e.allday()){this.$bX(e);}}}}};this.$9A=function($40){var $41=this.theme||this.cssClassPrefix;if($41){return $41+$40;}else{return "";}};this.$c7=function(){switch($q.$8o){case "aspnet":if(!this.$8M()){throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");};break;case "netmvc":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");};break;case "javaxx":if(!this.backendUrl){throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");};break;}};this.$9q=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$c8=function(){var $09=this.$9H()+this.$c9();$q.debug.message("Getting totalHeight, headerHeight: "+this.$9H()+" scrollable: "+this.$c9());if($09<0){return 0;};return $09;};this.$8V=function(){$q.$91();};this.$ca=function(){var top=this.nav.top;top.dp=this;top.innerHTML='';top.style.MozUserSelect='none';top.style.KhtmlUserSelect='none';top.style.WebkitUserSelect='none';top.style.WebkitTapHighlightColor="rgba(0,0,0,0)";top.style.WebkitTouchCallout="none";top.style.position='relative';if(this.width){top.style.width=this.width;};if(this.rtl){top.style.direction="rtl";};if(this.heightSpec==="Parent100Pct"){top.style.height="100%";}else{top.style.height=this.$c8()+"px";};if(this.hideUntilInit){top.style.visibility='hidden';};if(!this.visible){top.style.display="none";};top.addEventListener("mouseleave",$q.$8V);var scroll=$b();this.nav.scroll=scroll;scroll.style.height=this.$c9()+"px";scroll.style.position="relative";if(this.showHeader){var $2v=this.$cb();top.appendChild($2v);};scroll.style.zoom=1;scroll.style.position="absolute";scroll.style.left="0px";scroll.style.right="0px";scroll.style.top=this.$9H()+"px";scroll.className=$q.$9A("_scroll");var $3w=this.$cc();this.nav.scrollable=$3w.firstChild;scroll.appendChild($3w);top.appendChild(this.nav.scroll);this.nav.vsph=$b();this.nav.vsph.style.display="none";this.nav.top.appendChild(this.nav.vsph);this.nav.scrollpos=document.createElement("input");this.nav.scrollpos.type="hidden";this.nav.scrollpos.id=$q.id+"_scrollpos";this.nav.scrollpos.name=this.nav.scrollpos.id;top.appendChild(this.nav.scrollpos);this.nav.select=document.createElement("input");this.nav.select.type="hidden";this.nav.select.id=$q.id+"_select";this.nav.select.name=this.nav.select.id;this.nav.select.value=null;top.appendChild(this.nav.select);this.nav.scrollLayer=$b();this.nav.scrollLayer.style.position='absolute';this.nav.scrollLayer.style.top='0px';this.nav.scrollLayer.style.left='0px';top.appendChild(this.nav.scrollLayer);this.nav.scrollUp=[];this.nav.scrollDown=[];var loading=$b();loading.style.position='absolute';loading.style.top='0px';loading.style.left=(this.hourWidth+5)+"px";loading.className=$q.$9A("_loading");loading.innerHTML=$q.$8B(this.loadingLabelText,this.loadingLabelHtml);loading.style.display='none';this.nav.loading=loading;top.appendChild(loading);};this.$cd=function(){var $1s=this.columnWidthSpec==='Fixed';var $42=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1];var $43=this.nav.events.rows[0];for(var i=0;i<$q.$9z.length;i++){var $44=$42&&$42.cells[i];var $45=$43.cells[i];var $46=$44&&$44.firstChild;var $G=$q.$9z[i];if($1s){var $1E=$G.width?$G.width:$q.columnWidth;$46&&($46.style.width=$1E+"px");if($45){$45.style.width=$1E+"px";}}else{if(!$q.$8h){$46&&($46.style.width=null);if($45){$45.style.width=null;}}}}};this.$9I=function(){return this.$8g?$q.nav.bottomRight:$q.nav.scroll;};this.$9o=function(){var $1s=this.columnWidthSpec==='Fixed';if(!$1s){var element=$q.$9I();if(this.heightSpec==="Fixed"){element.style.overflowY="scroll";}else if(this.heightSpec==='BusinessHours'&&this.$9B()<=this.businessEndsHour-this.businessBeginsHour){element.style.overflow="hidden";}else if(this.heightSpec!=="Full"&&this.heightSpec!=="BusinessHoursNoScroll"){element.style.overflow="auto";}else{element.style.overflow="hidden";}};if($1s){var $47=0;var w=$q.$ce();var $48=$q.$8v();if(w>$48.clientWidth){$47=DayPilot.sw($q.nav.bottomRight);};$q.nav.headerParent&&($q.nav.headerParent.style.width=(w+$47)+"px");$q.nav.main.style.width=w+"px";$q.nav.events.style.width=w+"px";$q.nav.crosshair.style.width=w+"px";}else{$q.nav.headerParent&&($q.nav.headerParent.style.width="100%");$q.nav.main.style.width="100%";$q.nav.events.style.width="100%";$q.nav.crosshair.style.width="100%";};this.$cd();};this.$9l=function(){if(!this.$8i){DayPilot.pu(this.nav.hourTable);}else{this.$8R();};if(this.nav.hoursPlaceholder){this.nav.hoursPlaceholder.innerHTML='';this.nav.hourTable=this.$cf();this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);}};this.$8R=function(){if(!this.nav.hourTable){return;};$q.elements.timeHeaders.forEach(function($0j){var $3C=$0j.domArgs;$0j.domArgs=null;if(typeof $q.onBeforeTimeHeaderDomRemove==="function"){$q.onBeforeTimeHeaderDomRemove($3C);};if(typeof $q.onBeforeTimeHeaderDomAdd==="function"&&$q.$8W.reactDOM){var $2D=$3C&&$3C.$bR;if($2D){var $3D=$j($3C.element);if($3D){$q.$8W.$bS();$q.$8W.$bV($2D);}}}});for(var i=0;i<this.nav.hourTable.rows.length;i++){var $49=this.nav.hourTable.rows[i];var $0j=$49.cells[0].firstChild;$0j.data=null;$0j.onmousemove=null;$0j.onmouseout=null;};$q.elements.timeHeaders=[];};this.$cc=function(){var $4a=$b();$4a.style.zoom=1;$4a.style.position='relative';$4a.onmousemove=this.$cg;$4a.oncontextmenu=this.$ch;$d($4a,DayPilot.touch.start,this.$c1.$ci);$d($4a,DayPilot.touch.move,this.$c1.$cj);$d($4a,DayPilot.touch.end,this.$c1.$ck);$e($4a,"contextmenu",function(ev){var ev=ev||window.event;ev.preventDefault?ev.preventDefault():ev.returnValue=false;});if(navigator.msPointerEnabled){$4a.style.msTouchAction="none";$4a.style.touchAction="none";};$4a.daypilotMainD=true;$4a.calendar=this;var $4b=null;var $4c=null;if(this.showHours){var $0k=$b();$0k.style.cssFloat="left";if($q.rtl){$0k.style.cssFloat="right";};$0k.style.width=(this.hourWidth)+"px";$0k.style.height=this.$c9()+"px";$0k.style.overflow="hidden";$0k.style.position="relative";$4a.appendChild($0k);$4b=$0k;var $47=30;var $09=$q.$8w()+$47;$4c=$b();$4c.style.height=($09)+"px";$0k.appendChild($4c);};var $4d=$b();$4d.style.height=this.$c9()+"px";if(this.showHours){if($q.rtl){$4d.style.marginRight=(this.hourWidth)+"px";}else{$4d.style.marginLeft=(this.hourWidth)+"px";}};$4d.style.position="relative";$4d.style.overflow="auto";$4a.appendChild($4d);if($4c){this.nav.hourTable=this.$cf();$4c.appendChild(this.nav.hourTable);};var parent=$b();parent.style.height="0px";parent.style.position="relative";parent.appendChild(this.$cl());var $4e=$b();$4e.style.position="absolute";$4e.style.top="0px";$4e.style.left="0px";$4e.style.width="100%";$4e.style.height="0px";parent.appendChild($4e);this.nav.crosshair=$4e;parent.appendChild(this.$cm());$4d.appendChild(parent);this.nav.grid=parent;this.nav.zoom=$4a;this.nav.bottomLeft=$4b;this.nav.bottomRight=$4d;this.nav.hoursPlaceholder=$4c;return $4a;};this.$cl=function(){if($q.$8h){var $06=$b();$q.nav.main=$06;return $06;}else{var $4f=document.createElement("table");$4f.cellPadding="0";$4f.cellSpacing="0";$4f.border="0";var $1s=this.columnWidthSpec==='Fixed';if(!$1s){$4f.style.width="100%";};$4f.style.border="0px none";$4f.style.margin="0px";$4f.style.tableLayout='fixed';this.nav.main=$4f;return $4f;}};this.$cn=function(){var $2W=this.columnWidthSpec==='Fixed';if(!$2W){return "100%";}else{return $q.$ce()+"px";}};this.$ce=function(){var $3u=0;for(var i=0;i<$q.$9z.length;i++){var $Q=$q.$9z[i];if($Q.width){$3u+=$Q.width;}else{$3u+=$q.columnWidth;}};return $3u;};this.$cm=function(){if($q.$8h){var $4g=$b();$4g.style.userSelect="none";$4g.style.position="absolute";$4g.style.left="0px";$4g.style.right="0px";$4g.style.top="0px";$4g.style.height="0px";$q.nav.events=$4g;return $4g;}else{var $4f=document.createElement("table");$4f.style.position="absolute";$4f.style.top="0px";$4f.cellPadding="0";$4f.cellSpacing="0";$4f.border="0";$4f.style.width=$q.$cn();$4f.style.border="0px none";$4f.style.margin="0px";$4f.style.tableLayout='fixed';this.nav.events=$4f;var $4h=true;var $0G=this.$9z;var cl=$0G.length;var r=($4h)?$4f.insertRow(-1):$4f.rows[0];for(var j=0;j<cl;j++){var c=($4h)?r.insertCell(-1):r.cells[j];if($4h){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$q.rtl){c.style.textAlign='left';};$q.$co(c);}};return $4f;}};this.$cp=function(){var $4f=document.createElement("table");$4f.cellSpacing="0";$4f.cellPadding="0";$4f.border="0";$4f.style.margin="0px";$4f.style.border='0px none';$4f.style.width=this.hourWidth+"px";$4f.oncontextmenu=function(){return false;};$4f.onmousemove=function(){$q.$92();};var $4i=$q.$cq();for(var i=0;i<$4i;i++){this.$cr($4f,i);};return $4f;};this.$cf=function(){var $4f=$b();$4f.style.width=this.hourWidth+"px";$4f.style.position="relative";$4f.oncontextmenu=function(){return false;};$4f.onmousemove=function(){$q.$92();};$4f.rows=[];var $4i=$q.$cq();for(var i=0;i<$4i;i++){this.$cs($4f,i);};return $4f;};this.$cq=function(){return this.$9C()/(this.timeHeaderCellDuration*60*1000);};this.$ct=function(){return(this.cellHeight*60/ this.cellDuration)/(60/this.timeHeaderCellDuration);};this.$cu=function(){return(this.$9G()-this.$9G(true))*(60/this.cellDuration);};this.$cv=function(){return(this.$9G()-this.$9G(true));};this.$av=function(){return this.$cu()*this.cellHeight;};this.$cr=function($4f,i){var $09=$q.$ct();var r=$4f.insertRow(-1);r.style.height=$09+"px";var c=r.insertCell(-1);c.valign="bottom";c.setAttribute("unselectable","on");c.style.padding='0px';c.style.border='0px none';var $0j=$b();$0j.className=this.$9A("_rowheader");$0j.style.position="relative";$0j.style.width=this.hourWidth+"px";$0j.style.height=($09)+"px";$0j.style.overflow='hidden';$0j.setAttribute("unselectable","on");var $0c=$b();$0c.className=this.$9A("_rowheader_inner");$0c.setAttribute("unselectable","on");var $4j=$q.$cw(i);var $E=$4j.html;var $G=$4j.data;if($G){$0j.data=$G;$0j.onmousemove=$q.$cx;$0j.onmouseout=$q.$cy;};var $4k=null;var $M={};$M.header=$G;if(typeof $q.onBeforeTimeHeaderDomAdd==="function"){$M.element=null;$q.onBeforeTimeHeaderDomAdd($M);$4k=$M.element;};$0j.domArgs=$M;if($4k){var $2D=$0c;$M.$bR=$2D;var $3A=$j($4k);if($3A){$q.$8W.$bS();$q.$8W.$bT($4k,$2D);}else{$2D.appendChild($4k);}}else{$0c.innerHTML=$E;};$0j.appendChild($0c);$q.elements.timeHeaders.push($0j);c.appendChild($0j);};this.$cs=function($4f,i){var $09=$q.$ct();var r=$b();r.style.position="absolute";r.style.top=(i*$09)+"px";r.style.height=$09+"px";$4f.rows[i]=r;var c=$b();r.appendChild(c);r.cells=[c];var $0j=$b();$0j.className=this.$9A("_rowheader");$0j.style.position="relative";$0j.style.width=this.hourWidth+"px";$0j.style.height=($09)+"px";$0j.style.overflow='hidden';$0j.setAttribute("unselectable","on");var $0c=$b();$0c.className=this.$9A("_rowheader_inner");$0c.setAttribute("unselectable","on");var $4j=$q.$cw(i);var $E=$4j.html;var $G=$4j.data;if($G){$0j.data=$G;$0j.onmousemove=$q.$cx;$0j.onmouseout=$q.$cy;};var $4k=null;var $M={};$M.header=$G;if(typeof $q.onBeforeTimeHeaderDomAdd==="function"){$M.element=null;$q.onBeforeTimeHeaderDomAdd($M);$4k=$M.element;};$0j.domArgs=$M;if($4k){var $2D=$0c;$M.$bR=$2D;var $3A=$j($4k);if($3A){$q.$8W.$bS();$q.$8W.$bT($4k,$2D);}else{$2D.appendChild($4k);}}else{$0c.innerHTML=$E;};$0j.appendChild($0c);$q.elements.timeHeaders.push($0j);c.appendChild($0j);$4f.appendChild(r);};this.$cw=function(i){var $E,$G;if(this.hours){var $1I=i+this.$cv();$G=this.hours[$1I];$E=$G.html;};var $4l=this.timeHeaderCellDuration;var $0w=this.startDate.addMinutes($4l*i+60*this.$9G());var $1K=$0w.getHours();var am=$1K<12;var $4m;if(this.$8C.$aq()==="Clock12Hours"){if(am){$4m="AM";}else{$4m="PM";}}else{$4m="00";};if(!$E){var $D=$b();$D.setAttribute("unselectable","on");if(this.$8C.$aq()==="Clock12Hours"){$1K=$1K%12;if($1K===0){$1K=12;}};if(this.timeHeaderCellDuration!==60){$1K+=":"+$0w.toString("mm");};$D.innerHTML=$1K;if(this.timeHeaderCellDuration===60){var $4n=document.createElement("span");$4n.setAttribute("unselectable","on");$4n.className=this.$9A("_rowheader_minutes");$4n.innerHTML=$4m;$D.appendChild($4n);};$E=$D.outerHTML;};var $M={};$M.header={};$M.header.hours=$0w.getHours();$M.header.minutes=$0w.getMinutes();$M.header.start=$0w.toString("HH:mm");$M.header.text=null;$M.header.html=$E;$M.header.areas=$G?$G.areas:null;$M.header.time=new DayPilot.Duration($0w.getTimePart());if(typeof $q.onBeforeTimeHeaderRender==='function'){$q.onBeforeTimeHeaderRender($M);if($M.header.html!==null){$E=$M.header.html;}};$G=$M.header;var $U={};$U.start=$0w;$U.hour=$1K;$U.html=$E;$U.data=$G;$U.sup=$4m;if($M.header.text){$U.text=$M.header.text;};return $U;};this.$cx=function(ev){$q.$92();var $0j=this;if(!$0j.active){DayPilot.Areas.showAreas($0j,$0j.data);}};this.$cy=function(ev){DayPilot.Areas.hideAreas(this,ev);};this.$c9=function(){switch(this.heightSpec){case "Fixed":return this.height;case "Parent100Pct":return this.height;case "Full":return this.$8w();case "BusinessHours":case "BusinessHoursNoScroll":var $0d=this.$9D();return $0d*this.cellHeight*60/this.cellDuration;default:throw new DayPilot.Exception("DayPilot.Calendar: Unexpected 'heightSpec' value.");}};this.$8w=function(){return($q.$9C()*this.cellHeight)/(60000*$q.cellDuration);};this.$9H=function(){if(!this.showHeader){return 0;};var $4o=$0D.$ba()*$0D.$bQ();if(this.showAllDayEvents&&$0D.$cz()){return $4o+$0D.$cz();}else{return $4o;}};this.$9h=function(){if(!this.headerHeightAutoFit){return;};var $v=0;for(var x=0;x<this.nav.header.rows.length;x++){var $49=this.nav.header.rows[x];for(var i=0;i<$49.cells.length;i++){var $0y=$49.cells[i];var $0j=$0y.firstChild;var $0c=$0j.firstChild;var $4p=$0j.style.height;$0j.style.height="auto";$0c.style.position="static";var h=$0j.offsetHeight;$0j.style.height=$4p;$0c.style.position='';$v=Math.max($v,h);}};if($v>this.headerHeight){this.$8j.headerHeight=$v;this.$9f();this.$9g();}};this.$cA=function(){var element=this.$8g?$q.nav.bottomRight:$q.nav.scroll;return DayPilot.sw(element)>0;};this.$cb=function(){var $2v=$b();var $1s=this.columnWidthSpec==='Fixed';if(!$1s){$2v.style.overflow="auto";};$2v.style.position="absolute";$2v.style.left="0px";$2v.style.right="0px";var $4a=$b();$4a.style.position="relative";$4a.style.zoom="1";var $4q=null;var $1s=this.columnWidthSpec==='Fixed';if($1s||this.$8g){var $0k=$b();$0k.style.cssFloat="left";if($q.rtl){$0k.style.cssFloat="right";};$0k.style.width=(this.hourWidth)+"px";if(this.showHours){var $3o=this.$cB();this.nav.corner=$3o;$0k.appendChild($3o);$4a.appendChild($0k);this.nav.upperLeft=$0k;};var $A=$b();if(this.showHours){if($q.rtl){$A.style.marginRight=(this.hourWidth)+"px";}else{$A.style.marginLeft=(this.hourWidth)+"px";}};$A.style.position="relative";$A.style.overflow="hidden";$A.style.height=this.$9H()+"px";$A.className=$q.$9A("_colheader_back");$A.onmousemove=function(ev){var $0y=this;if(typeof $1q!=="undefined"&&$1q.$9T){$1q.$aB($0y,ev);}};$4a.appendChild($A);this.nav.upperRight=$A;var $0c=$b();$0c.className=$q.$9A("_colheader_back_inner");$A.appendChild($0c);$4q=$b();$4q.style.position="relative";$A.appendChild($4q);}else{var $4f=document.createElement("table");$4f.cellPadding="0";$4f.cellSpacing="0";$4f.border="0";$4f.style.margin="0px";$4f.style.width="100%";$4f.style.borderCollapse='separate';$4f.style.border="0px none";var r=$4f.insertRow(-1);this.nav.fullHeader=$4f;if(this.showHours){var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';var $3o=this.$cB();c.appendChild($3o);this.nav.corner=$3o;};c=r.insertCell(-1);c.style.width="100%";c.valign="top";c.style.position='relative';c.style.padding='0px';c.style.border='0px none';$4q=$b();$4q.style.position="relative";$4q.style.height=this.$9H()+"px";$4q.style.overflow="hidden";c.appendChild($4q);this.nav.mid=$4q;$4a.appendChild($4f);};this.nav.headerParent=$4q;this.nav.headerParent.onmousemove=function(ev){ev.insideMainD=true;};this.$cC();var $4r=this.$cA();var $1s=this.columnWidthSpec==='Fixed';if($4r&&!$1s){this.$cD();};$2v.appendChild($4a);return $2v;};this.$cC=function(){this.nav.unifiedCornerRight=null;if($q.$8h){this.nav.header=$b();this.nav.header.style.position="relative";}else{this.nav.header=document.createElement("table");this.nav.header.style.margin="0px";this.nav.header.cellPadding="0";this.nav.header.cellSpacing="0";var $1s=this.columnWidthSpec==='Fixed';if(!$1s){this.nav.header.width="100%";};this.nav.header.style.tableLayout="fixed";this.nav.header.oncontextmenu=function(){return false;};};this.nav.header.setAttribute("dp-id","header");this.nav.headerParent.appendChild(this.nav.header);this.nav.header.onmousemove=function(){$q.$92();};if(this.nav.allday){$n(this.nav.allday);};var $4s=$b();$4s.style.position='absolute';$4s.style.top="0px";$4s.style.height="0px";$4s.setAttribute("dp-id","allday");var $2W=this.columnWidthSpec==='Fixed';if(!$2W){$4s.style.left="0px";$4s.style.right="0px";}else{$4s.style.width=(this.$9z.length*this.columnWidth)+"px";};this.nav.allday=$4s;this.nav.headerParent.appendChild($4s);};this.$cD=function(){if(!this.nav.fullHeader){return;};var r=this.nav.fullHeader.rows[0];var c=r.insertCell(-1);c.style.padding='0px';c.style.verticalAlign='top';c.setAttribute("unselectable","on");var $4t=$b();$4t.setAttribute("unselectable","on");$4t.className=this.$9A('_cornerright');$4t.style.overflow="hidden";$4t.style.position="relative";$4t.style.width="16px";$4t.style.height=this.$9H()+"px";var $0c=$b();$0c.className=this.$9A('_cornerright_inner');$4t.appendChild($0c);c.appendChild($4t);this.nav.cornerRight=$4t;};this.$cB=function(){var $3w=$b();$3w.style.position='relative';$3w.className=this.$9A("_corner");$3w.style.width=this.hourWidth+"px";$3w.style.height=this.$9H()+"px";$3w.style.overflow="hidden";$3w.oncontextmenu=function(){return false;};var $3o=$b();$3o.className=this.$9A("_corner_inner");$3o.setAttribute("unselectable","on");$3w.appendChild($3o);var $4u=$b();$4u.style.position='absolute';$4u.style.padding='2px';$4u.style.top='0px';$4u.style.left='1px';$4u.style.backgroundColor="#FF6600";$4u.style.color="white";$4u.innerHTML="\u0044\u0045\u004D\u004F";$4u.setAttribute("unselectable","on");if(DayPilot.Util.isNullOrUndefined("K5woOes"))$3w.appendChild($4u);return $3w;};this.$8U=function(){if(!$q.nav.corner){return;};if(!$q.nav.corner.firstChild){return;};var $2D=$q.nav.corner.firstChild;var $3C=$2D.domArgs;$2D.domArgs=null;if(!$3C){return;};if(typeof $q.onBeforeCornerDomRemove==="function"){$q.onBeforeCornerDomRemove($3C);};if(typeof $q.onBeforeCornerDomAdd==="function"&&$q.$8W.reactDOM){if($2D){var $3D=$j($3C.element);if($3D){$q.$8W.$bS();$q.$8W.$bV($2D);}}}};this.$8S=function(){var $4f=this.nav.main;$4f.root=null;$4f.onmouseup=null;for(var y=0;y<$4f.rows.length;y++){var r=$4f.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.root=null;c.onmousedown=null;c.onmousemove=null;c.onmouseout=null;c.onmouseup=null;c.onclick=null;c.ondblclick=null;c.oncontextmenu=null;}};if(!this.$8i)DayPilot.pu($4f);};this.$9i=function(){for(var i=0;this.nav.scrollUp&&i<this.nav.scrollUp.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);};for(var i=0;this.nav.scrollDown&&i<this.nav.scrollDown.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);};this.nav.scrollUp=[];this.nav.scrollDown=[];};this.$co=function(c){var $0j=$b();$0j.style.marginRight=$q.columnMarginRight+"px";$0j.style.position='relative';$0j.style.height='1px';$0j.style.marginTop='-1px';c.events=$0j;var $4v=$b();$4v.style.position="relative";$4v.style.height="1px";$4v.style.marginTop="-1px";c.separators=$4v;var $1e=$b();$1e.style.position='relative';$1e.style.height='1px';$1e.style.marginTop='-1px';c.selection=$1e;c.appendChild($4v);c.appendChild($1e);c.appendChild($0j);};this.$9k=function(){if($q.$8h){$q.$cE();}else{$q.$cF();}};this.$cG=function(){if(this.scrollLabelsVisible){var $0G=this.$9z;var $1u=(this.showHours?this.hourWidth:0);var $1v=(this.nav.scroll.clientWidth-$1u)/$0G.length;for(var i=0;i<$0G.length;i++){var $1x=$b();$1x.style.position='absolute';$1x.style.top='0px';$1x.style.left=($1u+2+i*$1v+$1v/2)+"px";$1x.style.display='none';var $3E=$b();$3E.style.height='10px';$3E.style.width='10px';$3E.className=this.$9A("_scroll_up");$1x.appendChild($3E);this.nav.scrollLayer.appendChild($1x);this.nav.scrollUp.push($1x);var $1y=$b();$1y.style.position='absolute';$1y.style.top='0px';$1y.style.left=($1u+2+i*$1v+$1v/2)+"px";$1y.style.display='none';var $3E=$b();$3E.style.height='10px';$3E.style.width='10px';$3E.className=this.$9A("_scroll_down");$1y.appendChild($3E);this.nav.scrollLayer.appendChild($1y);this.nav.scrollDown.push($1y);}}};this.$cH=function(){var $1M=this.nav.events;$1M.innerHTML="";$1M.rows=[{"cells":[]}];$q.$8x().forEach(function($3q,x){var $0y=$b();$0y.style.height="1px";$0y.style.overflow="visible";$0y.style.position="absolute";$0y.style.left=$3q.left+$3q.unit;$0y.style.right=$3q.left+$3q.unit;$0y.style.width=$3q.width+$3q.unit;$q.$co($0y);$1M.appendChild($0y);$1M.rows[0].cells.push($0y);});};this.$8x=function(){var $4w=$q.$bb();var $0G=$q.$9z;var $2W=this.columnWidthSpec==='Fixed';var $0w=0;return DayPilot.list.for($0G.length,function(i){var $z={};var $1E=0;var $4x="";if($2W){$4x="px";$1E=$0G[i].width?$0G[i].width:$q.columnWidth;}else{$4x="%";if($4w){$1E=$0G[i].width;}else{$1E=floor2(100/$0G.length);}};$z.left=$0w;$z.width=$1E;$z.unit=$4x;$0w+=$1E;return $z;});function floor2($4y){if(DayPilot.browser.ie||DayPilot.browser.edge){return Math.floor($4y*100)/100;}else{return $4y;}}};this.$cE=function(){var $4f=this.nav.main;var $4z=this.nav.scrollable;var $3X=this.$8y();var $4A=this.$cv()*(60/this.cellDuration);var $0G=$q.$9z;(function cleanOld(){$q.elements.cells={};$4f.innerHTML="";$4f.rows=[];})();$4z.daypilotMainD=true;$4z.calendar=this;$q.$cG();$q.$cH();for(var y=0;y<$3X;y++){$4f.rows.push({"cells":[]});if(DayPilot.browser.ie){for(var x=$0G.length-1;x>=0;x--){$q.$c4(x,y);}}else{for(var x=0;x<$0G.length;x++){$q.$c4(x,y);}}};$4f.style.height=($3X*$q.cellHeight)+"px";};$q.$cI=function(x,y){var $U={};var $3q=$q.$8z(x);var top=y*$q.cellHeight;$U.left=$3q.left;$U.width=$3q.width;$U.right=$U.left+$U.width;$U.top=top;$U.height=$q.cellHeight;$U.bottom=$U.top+$U.height;return $U;};$q.$c4=function(x,y){var $3O=$q.columnWidthSpec==="Fixed"&&!DayPilot.browser.ie;if($q.elements.cells[x+"_"+y]){return;};if($3O){var $4B=$q.$cI(x,y);var $s=$q.$8u();var $3K=$s.pixels.right<=$4B.left||$s.pixels.left>=$4B.right;var $3L=$s.pixels.bottom<=$4B.top||$s.pixels.top>=$4B.bottom;var $4C=!$3K&&!$3L;if(!$4C){return;}};var $3q=$q.$8z(x);var $0J=this.cellDuration*60*1000;var top=y*$q.cellHeight;var $z=$q.$9z[x];var c=$b();c.style.position="absolute";c.style.left=$3q.left+$3q.unit;c.style.right=$3q.left+$3q.unit;c.style.width=$3q.width+$3q.unit;c.style.top=top+"px";c.start=$z.start.addTime(y*$0J).addHours($q.$9G());c.end=c.start.addTime($0J);c.resource=$z.id;c.data={};c.data.x=x;c.data.y=y;c.data.start=c.start;c.data.end=c.end;c.data.resource=c.resource;c.data.calendar=$q;if(!$q.cellProperties){$q.cellProperties={};};var $0y={};$0y.resource=c.resource;$0y.start=c.start;$0y.end=c.end;var $1I=x+"_"+y;var $4D=['cssClass','html','backImage','backRepeat','backColor','business','areas','disabled'];$0y.properties=$q.cellProperties[$1I];if(!$q.cellProperties[$1I]){var cp=$0y.properties={};cp.cssClass=null;cp.html=null;cp.backImage=null;cp.backRepeat=null;cp.backColor=null;cp.business=$q.$cJ(c.start,c.end);$q.cellProperties[$1I]=cp;};if(typeof $q.onBeforeCellRender==='function'){var $M={};$M.cell=$0y;$q.onBeforeCellRender($M);$i($M.cell,$M.cell.properties,$4D);};var $4j=$q.$cK(x,y);var $4E;c.root=$q;c.setAttribute("unselectable","on");$4E=$b();$4E.className=$q.$9A("_cell");$4E.style.position="relative";$4E.style.height=($q.cellHeight)+"px";$4E.style.overflow='hidden';$4E.setAttribute("unselectable","on");var $0c=$b();$0c.className=$q.$9A("_cell_inner");$4E.appendChild($0c);c.appendChild($4E);c.onmousedown=$q.$al;c.onmousemove=$q.$aA;c.onmouseout=$q.$az;$e(c,DayPilot.touch.end,$q.$c1.$cL);c.oncontextmenu=function(){if(!this.selected){$q.clearSelection();DayPilotCalendar.$an=x;$q.$8q.push(this);DayPilotCalendar.$ao=this;DayPilotCalendar.$8r=this;DayPilotCalendar.$8s=this;$q.$ap();};if($q.timeRangeRightClickHandling==="Disabled"){return false;};return false;};var $4F=$q.$cM(x,y);$4E=c.firstChild;var $1s=$q.columnWidthSpec==='Fixed';if($1s){if($z.width){$4E.style.width=$z.width+"px";}else{$4E.style.width=$q.columnWidth+"px";}};if($4F){$4E.firstChild.style.background=$4F;};var $4G=$4j?$4j.business:$q.$cJ(c.start,c.end);if($4G){$f($4E,$q.$9A("_cell_business"));};var $E=$4E.firstChild;if($E){$E.innerHTML='';};$4E.style.backgroundImage="";$4E.style.backgroundRepeat="";if($4j){if($4j.html){$E.innerHTML=$4j.html;};if($4j.cssClass){$f($4E,$4j.cssClass);};if($4j.backImage){$4E.style.backgroundImage="url('"+$4j.backImage+"')";};if($4j.backRepeat){$4E.style.backgroundRepeat=$4j.backRepeat;};if($4j.areas){var $4H={};$4H.start=c.start;$4H.end=c.end;$4H.resource=c.resource;var $3x=$l($4j.areas).filter(function(a){if(a.end&&new DayPilot.Date(a.end)<=c.start){return false;};if(a.start&&new DayPilot.Date(a.start)>=c.end){return false;};return true;});$3x.forEach(function(a){if(!a.start&&!a.end){return;};if(a.start){var $4I=new DayPilot.Date(a.start).getTime()-c.start.getTime();a.top=$q.$cN($4I);};if(a.end){var $4J=new DayPilot.Date(a.end).getTime()-c.start.getTime();a.height=$q.$cN($4J)-a.top;}});DayPilot.Areas.attach($4E,$4H,{"areas":$3x});}};$q.nav.main.appendChild(c);$q.nav.main.rows[y].cells[x]=c;$q.elements.cells[x+"_"+y]=c;if(typeof $q.onAfterCellRender==='function'){var $M={};$M.cell=$i($0y,{},["start","end","resource"]);$M.div=$4E;$q.onAfterCellRender($M);}};this.$cF=function(){var $4f=this.nav.main;var $0J=this.cellDuration*60*1000;var $3X=this.$8y();var $4A=this.$cv()*(60/this.cellDuration);var $0G=$q.$9z;var $4h=true;var scrollY=0;if($4f){scrollY=$q.$8v().scrollTop;this.$8S();};this.nav.scrollable.daypilotMainD=true;this.nav.scrollable.calendar=this;while($4f&&$4f.rows&&$4f.rows.length>0&&$4h){if(!this.$8i)DayPilot.pu($4f.rows[0]);$4f.deleteRow(0);};this.$cO=true;if(this.scrollLabelsVisible){var $0G=this.$9z;var $1u=(this.showHours?this.hourWidth:0);var $1v=(this.nav.scroll.clientWidth-$1u)/$0G.length;for(var i=0;i<$0G.length;i++){var $1x=$b();$1x.style.position='absolute';$1x.style.top='0px';$1x.style.left=($1u+2+i*$1v+$1v/2)+"px";$1x.style.display='none';var $3E=$b();$3E.style.height='10px';$3E.style.width='10px';$3E.className=this.$9A("_scroll_up");$1x.appendChild($3E);this.nav.scrollLayer.appendChild($1x);this.nav.scrollUp.push($1x);var $1y=$b();$1y.style.position='absolute';$1y.style.top='0px';$1y.style.left=($1u+2+i*$1v+$1v/2)+"px";$1y.style.display='none';var $3E=$b();$3E.style.height='10px';$3E.style.width='10px';$3E.className=this.$9A("_scroll_down");$1y.appendChild($3E);this.nav.scrollLayer.appendChild($1y);this.nav.scrollDown.push($1y);}};var cl=$0G.length;if(this.$8e){var $1M=this.nav.events;while($1M&&$1M.rows&&$1M.rows.length>0&&$4h){if(!this.$8i)DayPilot.pu($1M.rows[0]);$1M.deleteRow(0);};var r=($4h)?$1M.insertRow(-1):$1M.rows[0];for(var j=0;j<cl;j++){var c=($4h)?r.insertCell(-1):r.cells[j];if($4h){c.style.padding='0px';c.style.border='0px none';c.style.height='1px';c.style.overflow='visible';var $1s=this.columnWidthSpec==='Fixed';if($1s){if($0G[j].width){c.style.width=$0G[j].width+"px";}else{c.style.width=this.columnWidth+"px";}};if(!$q.rtl){c.style.textAlign='left';};$q.$co(c);}}};for(var i=0;i<$3X;i++){var r=($4h)?$4f.insertRow(-1):$4f.rows[i];var y=i;if($4h){r.style.MozUserSelect='none';r.style.KhtmlUserSelect='none';r.style.WebkitUserSelect='none';};for(var j=0;j<cl;j++){var $z=this.$9z[j];var c=($4h)?r.insertCell(-1):r.cells[j];c.start=$z.start.addTime(y*$0J).addHours(this.$9G());c.end=c.start.addTime($0J);c.resource=$z.id;if(!this.cellProperties){this.cellProperties={};};var $0y={};$0y.resource=c.resource;$0y.start=c.start;$0y.end=c.end;var $1I=j+"_"+y;$0y.cssClass=null;$0y.html=null;$0y.backImage=null;$0y.backRepeat=null;$0y.backColor=null;$0y.business=this.$cJ(c.start,c.end);if(this.cellProperties[$1I]){$i(this.cellProperties[$1I],$0y,['cssClass','html','backImage','backRepeat','backColor','business','areas','disabled']);};if(typeof this.onBeforeCellRender==='function'){var $M={};$M.cell=$0y;this.onBeforeCellRender($M);};this.cellProperties[$1I]=$0y;var $4j=$q.$cK(j,y);var $4E;if($4h){c.root=this;c.setAttribute("unselectable","on");$4E=$b();$4E.className=$q.$9A("_cell");$4E.style.position="relative";$4E.style.height=($q.cellHeight)+"px";$4E.style.overflow='hidden';$4E.setAttribute("unselectable","on");var $0c=$b();$0c.className=$q.$9A("_cell_inner");$4E.appendChild($0c);c.appendChild($4E);}else{$4E=c.firstChild;$4E.className=$q.$9A("_cell");};c.onmousedown=this.$al;c.onmousemove=this.$aA;c.onmouseout=this.$az;$e(c,DayPilot.touch.end,this.$c1.$cL);c.oncontextmenu=function(){if(!this.selected){$q.clearSelection();DayPilotCalendar.$an=DayPilotCalendar.$cP(this);$q.$8q.push(this);DayPilotCalendar.$ao=this;DayPilotCalendar.$8r=this;DayPilotCalendar.$8s=this;$q.$ap();};if($q.timeRangeRightClickHandling==="Disabled"){return false;};return false;};var $4F=$q.$cM(j,y);$4E=c.firstChild;var $1s=this.columnWidthSpec==='Fixed';if($1s){if($z.width){$4E.style.width=$z.width+"px";}else{$4E.style.width=this.columnWidth+"px";}};if($4F){$4E.firstChild.style.background=$4F;};var $4G=$4j?$4j.business:this.$cJ(c.start,c.end);if($4G){$f($4E,$q.$9A("_cell_business"));};var $E=$4E.firstChild;if($E){$E.innerHTML='';};$4E.style.backgroundImage="";$4E.style.backgroundRepeat="";if($4j){if($4j.html){$E.innerHTML=$4j.html;};if($4j.cssClass){$f($4E,$4j.cssClass);};if($4j.backImage){$4E.style.backgroundImage="url('"+$4j.backImage+"')";};if($4j.backRepeat){$4E.style.backgroundRepeat=$4j.backRepeat;};if($4j.areas){var $4H={};$4H.start=c.start;$4H.end=c.end;$4H.resource=c.resource;var $3x=$l($4j.areas).filter(function(a){if(a.end&&new DayPilot.Date(a.end)<=c.start){return false;};if(a.start&&new DayPilot.Date(a.start)>=c.end){return false;};return true;});$3x.forEach(function(a){if(!a.start&&!a.end){return;};if(a.start){var $4I=new DayPilot.Date(a.start).getTime()-c.start.getTime();a.top=$q.$cN($4I);};if(a.end){var $4J=new DayPilot.Date(a.end).getTime()-c.start.getTime();a.height=$q.$cN($4J)-a.top;}});DayPilot.Areas.attach($4E,$4H,{"areas":$3x});}}}};$4f.onmouseup=this.$aC;$4f.root=this;$4f.style.height=($3X*$q.cellHeight)+"px";$q.nav.scrollable.style.display='';$q.$8v().scrollTop=scrollY;};this.$ch=function(ev){if($1c.detected){return;};var $1e=$q.getSelection();if(!$1e){return;};var $M={};$M.start=$1e.start;$M.end=$1e.end;$M.resource=$1e.resource;$M.preventDefault=function(){this.preventDefault.value=true;};if(typeof $q.onTimeRangeRightClick==="function"){$q.onTimeRangeRightClick($M);if($M.preventDefault.value){return false;}};if($q.timeRangeRightClickHandling==="ContextMenu"&&$q.contextMenuSelection){$q.contextMenuSelection.show($q.getSelection());};if(typeof $q.onTimeRangeRightClicked==="function"){$q.onTimeRangeRightClicked($M);}};this.$cJ=function($0w,end){if(this.businessBeginsHour<this.businessEndsHour){return !($0w.getHours()<this.businessBeginsHour||$0w.getHours()>=this.businessEndsHour||$0w.getDayOfWeek()===6||$0w.getDayOfWeek()===0);};if($0w.getHours()>=this.businessBeginsHour){return true;};if($0w.getHours()<this.businessEndsHour){return true;};return false;};this.$cg=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event&&window.event.srcElement){window.event.srcElement.inside=true;};for(var i=0;i<DayPilotCalendar.$cQ.length;i++){var r=DayPilotCalendar.$cQ[i];if(r!==$q&&r.$91){r.$91();}};DayPilotCalendar.activeCalendar=this;var $r=$q.nav.main;$q.coords=DayPilot.mo3($r,ev);var $4K=DayPilot.mc(ev);var $4e=$q.crosshairType&&$q.crosshairType!=="Disabled";var $4L=false;if($m.moving||$m.resizing||$m.selecting||$4L){$q.$92();}else if($4e){$q.$cR();};if($m.resizing){$q.$cS($4K);}else if($m.moving){if(!$m.moving.helper){$n(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;return;};if(!DayPilotCalendar.movingShadow){var $4M=3;if(DayPilot.distance($4K,DayPilotCalendar.$cT)>$4M){DayPilotCalendar.movingShadow=$q.$9x($m.moving,!$q.$8p.ie);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}else{return;}};if(!$q.coords){return;};$f($m.moving,$q.$9A("_event_moving_source"));var $4N=$q.cellHeight;var $08=0;var $1w=DayPilotCalendar.moveOffsetY;if(!$1w){$1w=$4N/2;};if(this.moveBy==="Top"){$1w=0;};var $4O=Math.floor((($q.coords.y-$1w-$08)+$4N/ 2)/ $4N)*$4N+$08;if($4O<$08){$4O=$08;};var $06=$q.nav.main;var $v=$q.$8h?$q.$8y()*$q.cellHeight:$06.clientHeight;var $09=parseInt(DayPilotCalendar.movingShadow.style.height);if($4O+$09>$v){$4O=$v-$09;};var $Q=$q.$9y($q.coords.x);if($Q<0){$Q=0;};if($Q>=$q.$9z.length){$Q=$q.$9z.length-1;};if($q.rtl){$Q=$q.$9z.length-$Q-1;};var $0b=DayPilotCalendar.movingShadow;var e=$m.moving.event;var $10=$q.$a5(e,$Q,$4O);var $1j=$q.eventMovingStartEndFormat;if($1j==="Auto"){$1j=$0D.$aq()==="Clock24Hours"?"H:mm":"h:mm tt";};var $M={};$M.e=e;$M.start=$10.start;$M.end=$10.end;$M.resource=$10.resource;$M.html=null;$M.cssClass=null;$M.allowed=true;$M.areaData=$m.movingAreaData;$M.top={};$M.top.width=null;$M.top.space=5;$M.top.html=$M.start.toString($1j,$0D.$ar());$M.top.enabled=$q.eventMovingStartEndEnabled;$M.bottom={};$M.bottom.width=null;$M.bottom.space=5;$M.bottom.html=$M.end.toString($1j,$0D.$ar());$M.bottom.enabled=$q.eventMovingStartEndEnabled;$M.external=!!DayPilotCalendar.drag;(function updateShadow(){var $1g=$q.$94;var $4P=!($1g&&$1g.start.getTime()===$10.start.getTime()&&$1g.end.getTime()===$10.end.getTime()&&$1g.resource===$10.resource);if(!$4P){return;};$0b.className=$q.$9A("_shadow");$0b.firstChild.innerHTML="";$q.$94=$M;$0b.args=$M;if(!$q.allowEventOverlap){var $G={"id":e.id(),"start":$M.start,"end":$M.end,"resource":$M.resource};if($q.events.$as($G)){$f($0b,$q.$9A("_shadow_forbidden"));$M.allowed=false;}};if($q.$at($M.start,$M.end,$M.resource)){$f($0b,$q.$9A("_shadow_forbidden"));$M.allowed=false;};$g($0b,$q.$9A("_shadow_forbidden"));if(typeof $q.onEventMoving==="function"&&$M.allowed){$q.onEventMoving($M);};if(!$m.moving){return;};if($M.html){$0b.firstChild.innerHTML=$M.html;};if($M.cssClass){$f($0b,$M.cssClass);};if(!$M.allowed){$f($0b,$q.$9A("_shadow_forbidden"));};DayPilotCalendar.movingShadow.style.top=$4O+'px';var $1M=$q.nav.events;if($Q<$1M.rows[0].cells.length&&$Q>=0&&DayPilotCalendar.movingShadow.column!==$Q){DayPilotCalendar.movingShadow.column=$Q;DayPilotCalendar.moveShadow($1M.rows[0].cells[$Q]);};var $1h=$Q;var $0j=$0b;$q.$ax($0j,$1h,$M);})();}else if(DayPilotCalendar.$am){var x=$q.$9y($q.coords.x,true);var y=Math.floor($q.coords.y/$q.cellHeight);y=DayPilot.Util.atLeast(0,y);var $4Q=$q.nav.main.rows[y].cells[x];if(!$m.selecting){var $1f=DayPilotCalendar.$am;var $4R=$q.coords;if($1f.x!==$4R.x||$1f.y!==$4R.y){$m.selecting={"calendar":$q};}};if(!$m.selecting){return;};var $4K=$q.coords;var $4S=x;if($4S!==DayPilotCalendar.$an){$4Q=$q.nav.main.rows[y].cells[DayPilotCalendar.$an];};var $4T=$m.selecting;$4T.origin="drag";if($4T.last&&$4T.last.x===x&&$4T.last.y===y){return;};$4T.last={"x":x,"y":y};if($4K.y<DayPilotCalendar.$am.y){$q.$8q=DayPilotCalendar.$cU($4Q);DayPilotCalendar.$8r=$q.$8q[0];DayPilotCalendar.$8s=DayPilotCalendar.$ao;}else{$q.$8q=DayPilotCalendar.$bs($4Q);DayPilotCalendar.$8r=DayPilotCalendar.$ao;DayPilotCalendar.$8s=$q.$8q[0];};$q.$ap();};if(DayPilotCalendar.drag){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;if(!DayPilotCalendar.movingShadow&&$q.coords){var $0b=$q.$9x(DayPilotCalendar.drag,false);if($0b){DayPilotCalendar.movingShadow=$0b;var $4R=DayPilot.Date.today();var $4U={'id':DayPilotCalendar.drag.id,'start':$4R,'end':$4R.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var $o=DayPilotCalendar.drag.$cV;var $G=DayPilotCalendar.drag.$cW;var $2l=$G||$o;if($2l){var $4V=['duration','element','remove','id','text'];if($2l===$o){$4V.push("data");};for(var name in $2l){if(DayPilot.contains($4V,name)){continue;};$4U[name]=$2l[name];}};var event=new DayPilot.Event($4U,$q);event.external=true;$m.moving={};$m.moving.event=event;$m.moving.helper={};}};ev.cancelBubble=true;};$q.$cX($q.coords);};this.$cY=function($0b){var top=DayPilotCalendar.movingShadow.offsetTop;var e=$m.moving.event;var $4W=DayPilotCalendar.movingShadow.column;};this.$at=function($0w,end,$14){var $4X=$q.$cZ($0w,end,$14).some(function($0y){return $0y.disabled;});return $4X;};this.$cZ=function($0w,end,$14){var $1i=[];var $0J=$q.cellDuration*60*1000;for(var x=0;x<$q.$9z.length;x++){var $z=$q.$9z[x];for(var y=0;y<$q.$8y();y++){var name=x+"_"+y;var $0y=$q.cellProperties[name];var $4Y=$z.start.addTime(y*$0J).addHours($q.$9G());var $4Z=$4Y.addTime($0J);var $50=!$14||$14===$z.id;if($50&&$k($0w,end,$4Y,$4Z)&&$0y){$1i.push($0y);}}};return $1i;};this.$cS=function($4K){if(!$m.resizing.event){$m.resizing=null;$n(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;return;};if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizingShadow=$q.$9x($m.resizing,false);};var $4N=$m.resizing.event.calendar.cellHeight;var $08=0;var $51=($4K.y-DayPilotCalendar.$cT.y);var e=$m.resizing.event;var $0w=e.start();var end=e.end();if($m.resizing.dpBorder==='bottom'){var $52=Math.floor(((DayPilotCalendar.$d0+DayPilotCalendar.$d1+$51)+$4N/ 2)/ $4N)*$4N-DayPilotCalendar.$d1+$08;if($52<$4N)$52=$4N;var $v=$q.$8h?$q.$8y()*$q.cellHeight:$q.nav.main.clientHeight;if(DayPilotCalendar.$d1+$52>$v){$52=$v-DayPilotCalendar.$d1;};DayPilotCalendar.resizingShadow.style.height=($52)+'px';end=$q.$a1(e,DayPilotCalendar.$d1+$52);}else if($m.resizing.dpBorder==='top'){var $4O=Math.floor(((DayPilotCalendar.$d1+$51-$08)+$4N/ 2)/ $4N)*$4N+$08;if($4O<$08){$4O=$08;};if($4O>DayPilotCalendar.$d1+DayPilotCalendar.$d0-$4N){$4O=DayPilotCalendar.$d1+DayPilotCalendar.$d0-$4N;};var $52=DayPilotCalendar.$d0-($4O-DayPilotCalendar.$d1);if($52<$4N){$52=$4N;}else{DayPilotCalendar.resizingShadow.style.top=$4O+'px';};DayPilotCalendar.resizingShadow.style.height=($52)+'px';$0w=$q.$a0(e,$4O);};var $0b=DayPilotCalendar.resizingShadow;var $1j=$q.eventResizingStartEndFormat;if($1j==="Auto"){$1j=$0D.$aq()==="Clock24Hours"?"H:mm":"h:mm tt";};var $M={};$M.e=e;$M.start=$0w;$M.end=end;$M.resource=e.resource();$M.allowed=true;$M.html=null;$M.cssClass=null;$M.top={};$M.top.width=null;$M.top.space=5;$M.top.html=$M.start.toString($1j,$0D.$ar());$M.top.enabled=$q.eventResizingStartEndEnabled;$M.bottom={};$M.bottom.width=null;$M.bottom.space=5;$M.bottom.html=$M.end.toString($1j,$0D.$ar());$M.bottom.enabled=$q.eventResizingStartEndEnabled;$0b.args=$M;$0b.firstChild.innerHTML="";$0b.className=$q.$9A("_shadow");if(!$q.allowEventOverlap){var $G={"id":e.id(),"start":$M.start,"end":$M.end,"resource":$M.resource};if($q.events.$as($G)){$f($0b,$q.$9A("_shadow_forbidden"));$M.allowed=false;}};if($q.$at($M.start,$M.end,$M.resource)){$f($0b,$q.$9A("_shadow_forbidden"));$M.allowed=false;};if(typeof $q.onEventResizing==="function"&&$M.allowed){$q.onEventResizing($M);};if($M.html){$0b.firstChild.innerHTML=$M.html;};if($M.cssClass){$f($0b,$M.cssClass);};if(!$M.allowed){$f($0b,$q.$9A("_shadow_forbidden"));};var $1h=e.part.dayIndex;var $0j=$0b;$q.$ax($0j,$1h,$M);};this.temp={};this.temp.getPosition=function(){var $2S=$q.$d2.$d3();if(!$2S){return null;};var $Q=$q.$9z[$2S.x];var $0y={};$0y.resource=$Q.id;$0y.start=new DayPilot.Date($Q.start).addHours($q.$9G(true)).addMinutes($2S.y*$q.cellDuration);$0y.end=$0y.start.addMinutes($q.cellDuration);return $0y;};this.$d2={};this.$d2.$d3=function(){var $U={};$U.x=0;$U.y=0;if(!$q.coords){return null;};$U.x=$q.$9y($q.coords.x);var $08=0;var $49=Math.floor(($q.coords.y-$08)/$q.cellHeight);$U.y=DayPilot.Util.atLeast(0,$49);if($U.x<0){return null;};return $U;};this.$d2.col=function($4f,x){var $U={};$U.left=0;$U.width=0;if(!$4f){return null;};if(!$4f.rows){return null;};if($4f.rows.length===0){return null;};if($4f.rows[0].cells.length==0){return null;};var $0y=$4f.rows[0].cells[x];if(!$0y){return null;};var t=DayPilot.abs($4f);var c=DayPilot.abs($0y);$U.left=c.x-t.x;$U.width=$0y.offsetWidth;return $U;};this.$cR=function(){var $53=$q.nav.hourTable;this.$92();if(!this.elements.crosshair){this.elements.crosshair=[];};var $54=this.$d2.$d3();if(!$54){return;};var $Q=$54.x;if($Q===null){return;};var y=Math.floor($54.y/(60/ $q.cellDuration)*(60/$q.timeHeaderCellDuration));if(y<0){return;};if($53){if(y>=$53.rows.length){return;};var $55=$b();$55.style.position="absolute";$55.style.left="0px";$55.style.right="0px";$55.style.top="0px";$55.style.bottom="0px";$55.className=$q.$9A("_crosshair_left");$53.rows[y].cells[0].firstChild.appendChild($55);this.elements.crosshair.push($55);};if(this.nav.header){var $56=$b();$56.style.position="absolute";$56.style.left="0px";$56.style.right="0px";$56.style.top="0px";$56.style.bottom="0px";$56.className=$q.$9A("_crosshair_top");var $49=this.nav.header.rows[$0D.$ba()-1];if($49.cells[$Q]){$49.cells[$Q].firstChild.appendChild($56);this.elements.crosshair.push($56);}};if(this.crosshairType==="Header"){return;};var $57=this.nav.crosshair;var $08=0;var top=Math.floor((($q.coords.y-$08))/$q.cellHeight)*$q.cellHeight+$08;var $09=$q.cellHeight;var $58=$b();$58.style.position="absolute";$58.style.left="0px";$58.style.right="0px";$58.style.top=top+"px";$58.style.height=$09+"px";$58.className=$q.$9A("_crosshair_horizontal");$58.onmousedown=this.$d4;$57.appendChild($58);this.elements.crosshair.push($58);var $59=$Q;if(DayPilot.browser.ie){$59=$q.$9z.length-1-$Q;};var $z=this.$d2.col(this.nav.main,$59);$09=$q.$8w();if($z){var $5a=$b();$5a.style.position="absolute";$5a.style.left=$z.left+"px";$5a.style.width=$z.width+"px";$5a.style.top="0px";$5a.style.height=$09+"px";$5a.className=$q.$9A("_crosshair_vertical");$5a.onmousedown=this.$d4;$57.appendChild($5a);this.elements.crosshair.push($5a);}};this.$d4=function(ev){var $06=$q.nav.main;$q.$92();$q.coords=DayPilot.mo3($06,ev);var $54=$q.$d2.$d3();var $5b=0;var x=$54.x;if(DayPilot.browser.ie){x=$q.$9z.length-1-$54.x;};var $0y=$06.rows[$54.y+$5b].cells[x];$q.$al.apply($0y,[ev]);};this.$92=function(){if(!this.elements.crosshair||this.elements.crosshair.length===0){return;};for(var i=0;i<this.elements.crosshair.length;i++){var e=this.elements.crosshair[i];if(e&&e.parentNode){e.parentNode.removeChild(e);}};this.elements.crosshair=[];};this.$9d=function(){if(!this.cellConfig){return;};var $5c=this.cellConfig;if($5c.vertical){for(var x=0;x<$5c.x;x++){var $5d=this.cellProperties[x+"_0"];for(var y=1;y<$5c.y;y++){this.cellProperties[x+"_"+y]=$5d;}}};if($5c.horizontal){for(var y=0;y<$5c.y;y++){var $5d=this.cellProperties["0_"+y];for(var x=1;x<$5c.x;x++){this.cellProperties[x+"_"+y]=$5d;}}};if($5c["default"]){var $5d=$5c["default"];for(var y=0;y<$5c.y;y++){for(var x=0;x<$5c.x;x++){if(!this.cellProperties[x+"_"+y]){this.cellProperties[x+"_"+y]=$5d;}}}}};this.$cK=function(x,y){if(!this.cellProperties){return null;};return this.cellProperties[x+"_"+y];};this.$d5=function(x,y){var $1I=x+'_'+y;if(this.cellProperties&&this.cellProperties[$1I]){return this.cellProperties[$1I].business;};return false;};this.$cM=function(x,y){var $1I=x+'_'+y;if(this.cellProperties&&this.cellProperties[$1I]){return this.cellProperties[$1I].backColor;};return null;};this.$8T=function(){var $4f=this.nav.header;if($4f&&$4f.rows){for(var y=0;y<$4f.rows.length;y++){var r=$4f.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.onclick=null;c.onmousemove=null;c.onmouseout=null;var $0j=c;var $3C=$0j.domArgs;$0j.domArgs=null;if(typeof $q.onBeforeHeaderDomRemove==="function"){$q.onBeforeHeaderDomRemove($3C);};if(typeof $q.onBeforeHeaderDomAdd==="function"&&$q.$8W.reactDOM){var $2D=$3C&&$3C.$bR;if($2D){var $3D=$j($3C.element);if($3D){$q.$8W.$bS();$q.$8W.$bV($2D);}}}}}};if($4f){if(!this.$8i)DayPilot.pu($4f);$4f.innerHTML="";$4f.rows=[];}};this.$bN=function(y){var $1J=y+1;var $5e=($1J===$0D.$ba());var $0G=this.$b9($1J);var x=0;var $0k=0;var $w=$q.$8x();var $5f=[];var $2W=this.columnWidthSpec==='Fixed';var $4x=$2W?"px":"%";if(!$5e){for(var i=0;i<$0G.length;i++){var $G=$0G[i];var $3q=$w[i];var $5g=$G.$bk?true:false;var $5h=$5g?$G.$bl($0D.$ba()-$1J+1):1;var $1E=0;DayPilot.list.for($5h,function(){var $5i=$w[x];$1E+=$5i.width;x+=1;});$5f.push({"left":$0k,"width":$1E,"unit":$4x});$0k+=$1E;}};return $5f;};this.$d6=function(y){var $1J=y+1;var $0G=this.$b9($1J);var $5j=this.$b9($1J,true);var $5k=$0G.length;var $5e=($1J===$0D.$ba());var $w=$q.$8x();var top=y*$0D.$bQ();var $1i=[];$q.nav.header.rows.push({"cells":$1i});var $5f=$q.$bN(y);function drawHeaderCell(i){var $G=$0G[i];var $3q=$w[i];if(!$3q){return;};var $M={};$M.header={};$M.header.cssClass=null;$M.column=$q.$9Q($G,$q);var $4k=null;if($q.$9w()){if(typeof $q.onBeforeHeaderRender==='function'){$i($G,$M.header,['id','start','name','html','backColor','toolTip','areas','children']);$q.onBeforeHeaderRender($M);$i($M.header,$G,['html','backColor','toolTip','areas','cssClass']);}};var $5g=$G.$bk?true:false;var $1E=$3q.width;var $0k=$3q.left;if(!$5e){$0k=$5f[i].left;$1E=$5f[i].width;};var $0y=$b();$0y.style.position="absolute";$0y.style.top=top+"px";$0y.style.left=$0k+$3q.unit;$0y.style.right=$0k+$3q.unit;$0y.style.width=$1E+$3q.unit;$0y.data=$G;$1i.push($0y);if($5g){$0y.onclick=$q.$9R;$0y.onmousemove=$q.$9S;$0y.onmouseout=$q.$9V;if($G.toolTip){$0y.title=$G.toolTip;}};$0y.style.overflow="hidden";$0y.style.height=($0D.$bQ())+"px";var $0j=$b();$0j.setAttribute("unselectable","on");$0j.style.userSelect="none";$0j.style.position="relative";$0j.style.height=$0D.$bQ()+"px";$0j.className=$q.$9A('_colheader');if($G.cssClass){DayPilot.Util.addClass($0j,$G.cssClass);};if(!$q.headerTextWrappingEnabled){$0j.style.whiteSpace='nowrap';};var $0c=$b();$0c.className=$q.$9A('_colheader_inner');if($G.backColor){$0c.style.background=$G.backColor;};$0j.appendChild($0c);$0y.appendChild($0j);if($0D.$bE()&&typeof $1q!=="undefined"&&$1q.$bF){(function(){var $5l={};$5l.column=$5j[i];$5l.x=i;$5l.y=y;$5l.div=$0y;$1q.$bF($5l);})();};if($0D.$bt()&&$5g&&typeof $0z!=="undefined"&&$0z.$bu){(function(){var $5l={};$5l.column=$5j[i];$5l.x=i;$5l.y=y;$5l.div=$0y;$0z.$bu($5l);})();};$q.$d7($0j,$G);if(typeof $q.onBeforeHeaderDomAdd==="function"){$M.element=null;$q.onBeforeHeaderDomAdd($M);$4k=$M.element;};$0y.domArgs=$M;if($4k){var $2D=$0c;$M.$bR=$2D;var $3A=$j($4k);if($3A){$q.$8W.$bS();$q.$8W.$bT($4k,$2D);}else{$2D.appendChild($4k);}}else{if($5g){$0j.firstChild.innerHTML=$G.html||"";}};$q.nav.header.appendChild($0y);};if(DayPilot.browser.ie){for(var i=$5k-1;i>=0;i--){drawHeaderCell(i);}}else{for(var i=0;i<$5k;i++){drawHeaderCell(i);}}};this.$d8=function($1J,$4h){var r=($4h)?this.nav.header.insertRow(-1):this.nav.header.rows[$1J-1];var $0G=this.$b9($1J);var $5k=$0G.length;var $5e=($1J===$0D.$ba());for(var i=0;i<$5k;i++){var $G=$0G[i];if($q.$9w()){if(typeof $q.onBeforeHeaderRender==='function'){var $M={};$M.header={};$i($G,$M.header,['id','start','name','html','backColor','toolTip','areas','children']);this.onBeforeHeaderRender($M);$i($M.header,$G,['html','backColor','toolTip','areas']);}};var $5g=$G.$bk?true:false;var $0y=($4h)?r.insertCell(-1):r.cells[i];$0y.data=$G;if($5e){}else{var $5h=1;if($5g){$5h=$G.$bl($0D.$ba()-$1J+1);};$0y.colSpan=$5h;};if($5g){$0y.onclick=this.$9R;$0y.onmousemove=this.$9S;$0y.onmouseout=this.$9V;if($G.toolTip){$0y.title=$G.toolTip;}};$0y.style.overflow='hidden';$0y.style.padding='0px';$0y.style.border='0px none';$0y.style.height=($0D.$bQ())+"px";var $0j=($4h)?$b():$0y.firstChild;if($4h){$0j.setAttribute("unselectable","on");$0j.style.MozUserSelect='none';$0j.style.KhtmlUserSelect='none';$0j.style.WebkitUserSelect='none';$0j.style.position='relative';$0j.style.height=$0D.$bQ()+"px";$0j.className=$q.$9A('_colheader');var $0c=$b();$0c.className=$q.$9A('_colheader_inner');if($G.backColor){$0c.style.background=$G.backColor;};$0j.appendChild($0c);$0y.appendChild($0j);}else{$0j.style.height=$0D.$bQ()+"px";};this.$d7($0j,$G);if($5g){$0j.firstChild.innerHTML=$G.html;}}};this.$d7=function($0j,$G){var $5m=[];for(var j=0;j<$0j.childNodes.length;j++){var $R=$0j.childNodes[j];if($R.isActiveArea){$5m.push($R);}};for(var j=0;j<$5m.length;j++){var $R=$5m[j];$n($R);};if($G.areas){var $3x=$G.areas;for(var j=0;j<$3x.length;j++){var $s=$3x[j];if(!DayPilot.Areas.isVisible($s)){continue;};var o=$q.$9Q($G);var a=DayPilot.Areas.createArea($0j,o,$s);$0j.appendChild(a);}}};this.$9g=function(){if($q.$8h){$q.$d9();}else{$q.$da();}};this.$d9=function(){var $2v=$q.nav.header;$q.$8T();if(!this.showHeader){return;};var $0G=this.$b9($0D.$ba(),true);var $5k=$0G.length;this.$db=true;var $3o=$q.nav.corner;if($3o){if(!this.$8i)DayPilot.pu($3o.firstChild);var $M={};$M.html=$q.$8B($q.cornerText,$q.cornerHtml);var $4k=null;$q.$8U();if(typeof $q.onBeforeCornerRender==="function"){$q.onBeforeCornerRender($M);};if(typeof $q.onBeforeCornerDomAdd==="function"){$M.element=null;$q.onBeforeCornerDomAdd($M);$4k=$M.element;};if($4k){var $2D=$3o.firstChild;$2D.domArgs=$M;var $3A=$j($4k);if($3A){$q.$8W.$bS();$q.$8W.$bT($4k,$2D);}else{$2D.appendChild($4k);}}else{$3o.firstChild.innerHTML=$M.html||"";}};for(var y=0;y<$0D.$ba();y++){this.$d6(y);};if(this.showAllDayEvents){var $1i=[];$q.nav.header.rows.push({"cells":$1i});var $w=$q.$8x();var top=$0D.$ba()*$0D.$bQ();for(var i=0;i<$5k;i++){var $G=$0G[i];var $3q=$w[i];var $0y=$b();$0y.data=$G;$0y.style.overflow='hidden';$0y.style.position="absolute";$0y.style.left=$3q.left+$3q.unit;$0y.style.right=$3q.left+$3q.unit;$0y.style.width=$3q.width+$3q.unit;$0y.style.top=top+"px";var $0j=$b();$0j.setAttribute("unselectable","on");$0j.style.userSelect="none";$0j.style.overflow="hidden";$0j.style.position="relative";$0j.style.height=$0D.$cz()+"px";$0j.className=this.$9A("_alldayheader");var $0c=$b();$0c.className=this.$9A("_alldayheader_inner");$0j.appendChild($0c);$0y.appendChild($0j);$0j.style.height=$0D.$cz()+"px";$1i.push($0y);$2v.appendChild($0y);}}};this.$da=function(){if(!this.showHeader){return;};var $2v=this.nav.header;var $4h=true;var $0G=this.$b9($0D.$ba(),true);var $5k=$0G.length;$n(this.nav.header);this.$cC();while(this.$db&&$2v&&$2v.rows&&$2v.rows.length>0&&$4h){if(!this.$8i)DayPilot.pu($2v.rows[0]);$2v.deleteRow(0);};this.$db=true;var $3o=$q.nav.corner;if($3o){if(!this.$8i)DayPilot.pu($3o.firstChild);var $M={};$M.html=$q.$8B($q.cornerText,$q.cornerHtml);if(typeof $q.onBeforeCornerRender==="function"){$q.onBeforeCornerRender($M);};$3o.firstChild.innerHTML=$M.html?$M.html:'';};for(var i=0;i<$0D.$ba();i++){this.$d8(i+1,$4h);};if(!this.showAllDayEvents){return;};var r=($4h)?this.nav.header.insertRow(-1):this.nav.header.rows[$0D.$ba()];for(var i=0;i<$5k;i++){var $G=$0G[i];var $0y=($4h)?r.insertCell(-1):r.cells[i];$0y.data=$G;$0y.style.padding='0px';$0y.style.border='0px none';$0y.style.overflow='hidden';var $0j=($4h)?$b():$0y.firstChild;if($4h){$0j.setAttribute("unselectable","on");$0j.style.MozUserSelect='none';$0j.style.KhtmlUserSelect='none';$0j.style.WebkitUserSelect='none';$0j.style.overflow='hidden';$0j.style.position="relative";$0j.style.height=$0D.$cz()+"px";$0j.className=this.$9A("_alldayheader");var $0c=$b();$0c.className=this.$9A("_alldayheader_inner");$0j.appendChild($0c);$0y.appendChild($0j);};$0j.style.height=$0D.$cz()+"px";}};this.$8I=function($5n){var $0i=$5n?0:100;if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.callbackTimeout=window.setTimeout(function(){if($q.loadingLabelVisible&&$q.nav.loading){$q.nav.loading.innerHTML=$q.$8B(this.loadingLabelText,this.loadingLabelHtml);$q.nav.loading.style.top=($q.$9H()+5)+"px";$q.nav.loading.style.display='';}},$0i);};this.$98=function(){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(this.nav.loading){this.nav.loading.style.display='none';}};this.$dc=function($1K){var $5o=$q.$9G(true);if($1K<$5o){$1K+=24;};var $5p=($1K-$5o)*(60/$q.cellDuration)*$q.cellHeight;return $5p;};this.$aO=function($5p){var $5o=$q.$9G(true);return $5p/(60/calendar.cellDuration)/$q.cellHeight+$5o;};this.$dd=function(){var $48=this.$8v();var $5q=this.initScrollPos;if(!$5q){var $1K=this.businessBeginsHour;$5q=$q.$dc($1K);};$48.root=this;$48.onscroll=this.$aD;$q.$8A();if($48.scrollTop===0){$48.scrollTop=$5q-this.$av();}else{this.$aD();}};this.$de=function(){var el=$q.nav.top;if(!el){return false;};return el.offsetWidth>0&&el.offsetHeight>0;};this.$df=function(){var $2a=$q.$de;if($2a()){$q.$dg();return;};if(!$q.$8N){$q.$8N=setInterval(function(){if($2a()){clearInterval($q.$8N);$q.$dd();$q.$9n();$q.$dg();}},100);}};this.scrollToY=function($5p){var $48=this.$8v();$48.scrollTop=$5p;};this.scrollToHour=function($1K){var $5p=$q.$dc($1K);var $48=this.$8v();$48.scrollTop=$5p-this.$av();};this.$8v=function(){var $1s=this.columnWidthSpec==='Fixed';return $1s||this.$8g?this.nav.bottomRight:this.nav.scroll;};this.onCallbackError=function($U,$V){alert("Error!\r\nResult: "+$U+"\r\nContext:"+$V);};this.$9n=function(){if(!$q.showHeader){return;};var $5r=this.$cA();var $2a=!!this.nav.cornerRight;if(this.$8g){if(this.nav.unifiedCornerRight){$n(this.nav.unifiedCornerRight);};var $48=$q.$8v();var $5s=$q.nav.main.getBoundingClientRect().width;var $5t=$q.$cn();if($5t!=="100%"&&parseInt($5t)<$5s){return;};var w=DayPilot.sw(this.nav.bottomRight);var c;if($q.$8h){c=$b();c.style.position="absolute";c.style.left=$5s+"px";c.style.right=$5s+"px";c.style.height=$q.$9H()+"px";$q.nav.headerParent.appendChild(c);$q.nav.unifiedCornerRight=c;$q.nav.header.style.width=$5s+"px";if($q.nav.allday){$q.nav.allday.style.width=$5s+"px";}}else{this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1);c=this.nav.unifiedCornerRight;c.rowSpan=this.nav.header.rows.length;};c.style.width=w+"px";var $3o=$b();$3o.className=$q.$9A("_cornerright");$3o.setAttribute("unselectable","on");$3o.style.overflow="hidden";$3o.style.height=this.$9H()+"px";$3o.style.position="relative";var $0c=$b();$0c.className=$q.$9A("_cornerright_inner");$3o.appendChild($0c);c.appendChild($3o);var $4z=this.columnWidthSpec==="Fixed";if(!$4z&&this.nav.allday){if($q.rtl){this.nav.allday.style.left=w+"px";}else{this.nav.allday.style.right=w+"px";}};return;};if($5r!==$2a){if($5r){this.$cD();}else{if(this.nav.fullHeader&&this.nav.fullHeader.rows[0].cells.length===3){var c=this.nav.fullHeader.rows[0].cells[2];if(c.parentNode){c.parentNode.removeChild(c);}};this.nav.cornerRight=null;}};var d=this.nav.cornerRight;if(!d){return;};var w=DayPilot.sw($q.$9I());if(d){d.style.width=(w)+'px';};return w;};this.$9v=function($5u){if($5u){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.$8l>=this.autoRefreshMaxCount){return;};this.$8P();var $5v=this.autoRefreshInterval;if(!$5v||$5v<10){throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");};this.autoRefreshTimeout=window.setTimeout(function(){$q.$dh();},this.autoRefreshInterval*1000);};this.$8P=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$dh=function(){if(!$m.resizing&&!$m.moving&&!DayPilotCalendar.drag&&!$m.selecting){var $4V=false;if(typeof this.onAutoRefresh==='function'){var $M={};$M.i=this.$8l;$M.preventDefault=function(){this.preventDefault.value=true;};$q.onAutoRefresh($M);if($M.preventDefault.value){$4V=true;}};if(!$4V&&this.$8H()){this.commandCallBack(this.autoRefreshCommand);};this.$8l++;};if(this.$8l<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$q.$dh();},this.autoRefreshInterval*1000);}};this.$8X=function(){$q.$9t();};this.$9t=function(){$q.$9m();if($q.heightSpec==="Parent100Pct"){$q.setHeight(parseInt($q.nav.top.clientHeight,10));};$q.$9n();$q.$9u();$q.$8A();};this._wd=null;this.$di=null;$q.$8O=null;this.$dg=function(){var $5w=function(){$q.$9t();$q.$aD();};if(!$q.watchWidthChanges){return;};if(typeof $5x==="function"){if($q.$8O){return;};var $5y=new $5x($5w);$5y.observe($q.nav.top);$q.$8O=$5y;return;};if($q.$di){return;};var $5z=function(){if(!$q.nav||!$q.nav.top){clearInterval($q.$di);return;};if(!$q._wd){$q._wd={};$q._wd.counter=0;$q._wd.changed=false;$q._wd.width=$q.nav.top.offsetWidth;return;};if($q._wd.width!==$q.nav.top.offsetWidth){$q._wd.changed=true;$q._wd.counter=0;$q._wd.width=$q.nav.top.offsetWidth;};if($q._wd.changed){$q._wd.counter+=1;};if($q._wd.changed&&$q._wd.counter>0){$q._wd.changed=false;$5w();}};this.$di=setInterval($5z,200);$5z();};this.$dj=function(){if(!DayPilotCalendar.$dk){DayPilotCalendar.$dk=true;$e(document,'mousemove',DayPilotCalendar.$dl);$e(document,'mouseup',DayPilotCalendar.$dm);$d(document,DayPilot.touch.move,DayPilotCalendar.$dn);$e(document,DayPilot.touch.end,DayPilotCalendar.$do);};$e(window,'resize',this.$8X);};this.$c0=function(ev){if($1c.active||$1c.using){return;};ev=ev||window.event;var $1d=DayPilot.Util.mouseButton(ev);if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();DayPilot.Bubble.cancelShowing();};if((this.style.cursor==='n-resize'||this.style.cursor==='s-resize')&&$1d.left){$m.resizing=this;DayPilotCalendar.$cT=DayPilot.mc(ev);DayPilotCalendar.$d0=this.offsetHeight;DayPilotCalendar.$d1=this.offsetTop;$q.nav.top.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||($q.moveBy==='Full'&&this.event.client.moveEnabled()))&&$1d.left){$m.moving=this;var $5A=$m.moving.helper={};$5A.oldColumn=$q.$9z[this.event.part.dayIndex].id;DayPilotCalendar.$cT=DayPilot.mc(ev);DayPilotCalendar.$d1=this.offsetTop;var $1w=DayPilot.mo3(this,ev);if($1w){DayPilotCalendar.moveOffsetY=$1w.y;}else{DayPilotCalendar.moveOffsetY=0;};$q.nav.top.style.cursor=this.style.cursor;};return false;};this.$dp=function(i){var $3v=this.$8j.events;var $G=this.events.list[i];var $5B={};for(var name in $G){$5B[name]=$G[name];};if($q.showEventStartEnd){var $5C=$G.start.getDatePart().getTime()===$G.end.getDatePart().getTime();var $2b=$5C?$0D.$ar().timePattern:$0D.$ar().dateTimePattern;var $5D=$G.start.toString($2b);var $5E=$G.end.toString($2b);$5B.html=$q.$8B($5B.text)+" ("+$5D+" - "+$5E+")";};if(typeof this.onBeforeEventRender==='function'){var $M={};$M.e=$5B;$M.data=$5B;this.onBeforeEventRender($M);};$3v[i]=$5B;};this.$dq=null;this.$cX=function($2S){var $5F=$m.moving||$m.resizing||$m.selecting;var $5G=$q.autoScroll==="Always";var $5H=$q.autoScroll==="Drag"&&$5F;var $5I=$5G||$5H;var $5J=false;var $5K=false;if($5I){var $48=$q.nav.bottomRight;$2S.x-=$48.scrollLeft;$2S.y-=$48.scrollTop;var $1E=$48.clientWidth;var $09=$48.clientHeight;var $0O=30;var $0k=$2S.x<$0O?$2S.x:0;var $A=$1E-$2S.x<$0O?$1E-$2S.x:0;var top=$2S.y<$0O?$2S.y:0;var $1m=$09-$2S.y<$0O?$09-$2S.y:0;var x=0;var y=0;var $5L=50;if($0k){x=-$5L*invertedPct($0k,$0O);};if($A){x=$5L*invertedPct($A,$0O);};if(top){y=-$5L*invertedPct(top,$0O)/2;};if($1m){y=$5L*invertedPct(top,$0O)/2;};if($5K){y=0;};if($5J){x=0;};if(x||y){$q.$dr(x,y);}else{$q.$93();}};function invertedPct($5M,$v){return 1-$5M/$v;}};this.$dr=function($5N,$5O){this.$93();this.$ds($5N,$5O);};this.$dt=function($0J){if(!$0J){return false;};var scroll=$q.nav.bottomRight;var $3u=scroll.scrollWidth;var $0w=scroll.scrollLeft;var $1E=scroll.clientWidth;var $A=$0w+$1E;if($0J<0&&$0w<=0){return false;};if($0J>0&&$A>=$3u){return false;};scroll.scrollLeft+=$0J;$q.coords.x+=$0J;$q.$du();return true;};this.$dv=function($0J){if(!$0J){return false;};var scroll=$q.nav.bottomRight;var $3u=scroll.scrollHeight;var $0w=scroll.scrollTop;var $09=scroll.clientHeight;var $1m=$0w+$09;if($0J<0&&$0w<=0){return false;};if($0J>0&&$1m>=$3u){return false;};scroll.scrollTop+=$0J;$q.coords.y+=$0J;$q.$du();return true;};this.$du=function(){};this.$ds=function($5N,$5O){var $5P=this.$dt($5N)||this.$dv($5O);if(!$5P){return;};var $5Q=function($5N,$5O){return function(){$q.$ds($5N,$5O);};};this.$dw=window.setTimeout($5Q($5N,$5O),200);};this.$93=function(){if($q.$dw){window.clearTimeout($q.$dw);$q.$dw=null;}};this.$c1={};var $1c=$q.$c1;$1c.active=false;$1c.start=null;$1c.timeout=null;$1c.startcell=null;$1c.relativeCoords=function(ev){return $1c.$dx(ev);};$1c.startResizing=function($0j,$0O,$2S){$1c.$bG($0j,$0O,$2S);};$1c.startMoving=function($0j,$2S){$1c.$bv($0j,$2S);};this.$c1.$d3=function(ev){var x,y;if(ev.touches){x=ev.touches[0].pageX;y=ev.touches[0].pageY;}else{x=ev.pageX;y=ev.pageY;};var $5R=DayPilot.abs($q.nav.main);var $4B={x:x-$5R.x,y:y-$5R.y};var w=($q.nav.main.clientWidth/$q.$9z.length);var $5S=Math.floor($4B.y/$q.cellHeight);$5S=DayPilot.Util.atLeast(0,$5S);$5S=DayPilot.Util.atMost($q.$8y()-1,$5S);var $2S={"pageX":x,"pageY":y,"x":Math.floor($4B.x/w),"y":$5S,"toString":function(){return "x: "+this.x+" y:"+this.y;}};return $2S;};this.$c1.$dy=function($2S){var $0y=$q.nav.main.rows[$2S.y].cells[$2S.x];$1c.startcell=$2S;$q.clearSelection();DayPilotCalendar.$an=$2S.x;$q.$8q.push($0y);DayPilotCalendar.$ao=$0y;DayPilotCalendar.$8r=$0y;DayPilotCalendar.$8s=$0y;$m.selecting={"calendar":$q};$q.$ap();};this.$c1.$dz=function($2S){var x=DayPilotCalendar.$an;var $0y=$q.nav.main.rows[$2S.y].cells[x];$q.clearSelection();$m.selecting={"calendar":$q,"origin":"drag"};if($2S.y<$1c.startcell.y){$q.$8q=DayPilotCalendar.$cU($0y);DayPilotCalendar.$8r=$q.$8q[0];DayPilotCalendar.$8s=DayPilotCalendar.$ao;}else{$q.$8q=DayPilotCalendar.$bs($0y);DayPilotCalendar.$8r=DayPilotCalendar.$ao;DayPilotCalendar.$8s=$q.$8q[0];};$q.$ap();};this.$c1.detected=false;this.$c1.$ci=function(ev){if($h(ev)){return;};var $2S=$1c.$d3(ev);if($2S.x<0){return;};$1c.start=true;$1c.detected=true;if($1c.active){return;};if(ev.touches.length>1){return;};$1c.using=true;$1c.startCoords=$2S;var $5T=$q.tapAndHoldTimeout;$1c.timeout=window.setTimeout(function(){ev.preventDefault();$1c.active=true;$1c.start=false;switch($q.timeRangeTapAndHoldHandling){case "Select":$1c.$dy($2S);break;case "ContextMenu":$1c.$dy($2S);$1c.active=false;if($q.contextMenuSelection){$q.contextMenuSelection.show($q.getSelection());};break;}},$5T);};this.$c1.$dA=function(ev){};this.$c1.$cL=function(ev){if(!$1c.active){window.clearTimeout($1c.timeout);if($1c.start){(function selectCell($0y){if($q.timeRangeSelectedHandling==="Disabled"){return;};$q.clearSelection();$q.$8q=[$0y];DayPilotCalendar.$8r=$0y;DayPilotCalendar.$8s=$0y;$q.$ap();var $1n=$q.getSelection();$1n.toString=function(){return "start: "+this.start+"\nend: "+this.end;};setTimeout(function(){$q.$ae($1n.start,$1n.end,$1n.resource);},10);})(this);};return;};ev.preventDefault();ev.stopPropagation();$1c.startcell=null;$1c.start=false;var $1n=$q.getSelection();$1n.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$q.$ae($1n.start,$1n.end,$1n.resource);window.setTimeout(function(){$1c.active=false;},500);};this.$c1.$bv=function($0j,$2S){$m.moving=$0j;var $5A=$m.moving.helper={};$5A.oldColumn=$q.$9z[$0j.event.part.dayIndex].id;DayPilotCalendar.$cT=$2S;DayPilotCalendar.$d1=this.offsetTop;var $5R=DayPilot.abs($0j);DayPilotCalendar.moveOffsetY=$2S.y-$5R.y;if(!DayPilotCalendar.movingShadow){DayPilotCalendar.movingShadow=$q.$9x($m.moving,!$q.$8p.ie);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}};this.$c1.$bG=function($0j,$0O,$2S){$m.resizing=$0j;$0j.dpBorder=$0O;DayPilotCalendar.$cT=$2S;DayPilotCalendar.$d0=$0j.offsetHeight;DayPilotCalendar.$d1=$0j.offsetTop;};this.$c1.$dB=function($2S){$q.$cS($2S);};this.$c1.$dC=function(){var $2S=$q.coords;var $4N=$q.cellHeight;var $08=0;var $1w=DayPilotCalendar.moveOffsetY;if(!$1w){$1w=$4N/2;};var $4O=Math.floor((($2S.y-$1w-$08)+$4N/ 2)/ $4N)*$4N+$08;if($4O<$08){$4O=$08;};var $06=$q.nav.main;var $v=$q.$8w();var $09=parseInt(DayPilotCalendar.movingShadow.style.height);if($4O+$09>$v){$4O=$v-$09;};DayPilotCalendar.movingShadow.style.top=$4O+'px';DayPilotCalendar.movingShadow.allowed=true;var $Q=$q.$9y($q.coords.x);if($Q<0){$Q=0;};var $1M=$q.nav.events;if($Q<$1M.rows[0].cells.length&&$Q>=0&&DayPilotCalendar.movingShadow.column!==$Q){DayPilotCalendar.movingShadow.column=$Q;DayPilotCalendar.moveShadow($1M.rows[0].cells[$Q]);}};this.$c1.onEventTouchStart=function(ev){if($1c.active){return;};if($h(ev)){return;};ev.stopPropagation();$1c.preventEventTap=false;$1c.using=true;$1c.startCoords=$1c.$d3(ev);var $0j=this;var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $2S={x:x,y:y,$0j:this};$q.coords=$1c.$dx(ev);var $5T=$q.tapAndHoldTimeout;$1c.timeout=window.setTimeout(function(){var e=$0j.event;$1c.active=true;switch($q.eventTapAndHoldHandling){case "Move":if(e.client.moveEnabled()){$1c.$bv($0j,$2S);};break;case "ContextMenu":var $0t=e.client.contextMenu();if(DayPilot.Menu){DayPilot.Menu.touchPosition(ev);};if($0t){$0t.show(e);}else{if($q.contextMenu){$q.contextMenu.show(e);}};break;}},$5T);};this.$c1.$cj=function(ev){if($h(ev)){return;};$1c.start=false;if($1c.timeout){var $2S=$1c.$d3(ev);if($2S&&$1c.startCoords){if($2S.pageX!==$1c.startCoords.pageX||$2S.pageY!==$1c.startCoords.pageY){window.clearTimeout($q.$c1.timeout);}}};if($m.moving&&DayPilotCalendar.movingShadow){ev.preventDefault();$q.coords=$1c.$dx(ev);$1c.$dC();return;}else if($m.resizing){ev.preventDefault();var t=ev.touches?ev.touches[0]:ev;var $2S={x:t.pageX,y:t.pageY};$1c.$dB($2S);return;}else if($1c.startcell){ev.preventDefault();if(!$1c.active){window.clearTimeout($1c.timeout);return;};var $2S=$1c.$d3(ev);$1c.$dz($2S);};$1c.preventEventTap=true;};this.$c1.$dx=function(ev){var $r=$q.nav.main;var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $5R=DayPilot.abs($r);var $2S={x:x-$5R.x,y:y-$5R.y,"toString":function(){return "x: "+this.x+", y:"+this.y;}};return $2S;};this.$c1.$ck=function(ev){if($h(ev)){return;};if($m.moving){$1c.active=false;ev.preventDefault();ev.stopPropagation();var top=DayPilotCalendar.movingShadow.offsetTop;var $5U=$m.moving.event;var $q=$5U.calendar;$q.$ay(DayPilotCalendar.movingShadow);var $0S=DayPilotCalendar.movingShadow.column;var $M=DayPilotCalendar.movingShadow;$g($m.moving,$q.$9A("_event_moving_source"));$m.moving=null;DayPilotCalendar.movingShadow=null;if(!$M.allowed){$q.$a7();return;};$5U.calendar.$a6($5U,$0S,top,ev,DayPilotCalendar.drag);}else if($1c.startcell){if(!$1c.active){window.clearTimeout($1c.timeout);return;};ev.preventDefault();$1c.startcell=null;var $1n=$q.getSelection();$1n.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$q.$ae($1n.start,$1n.end,$1n.resource);window.setTimeout(function(){$1c.active=false;},500);}};this.$c1.onEventTouchMove=function(ev){$1c.preventEventTap=true;};this.$c1.onEventTouchEnd=function(ev){if($h(ev)){return;};if(!$1c.active){if($1c.preventEventTap){return;};window.clearTimeout($1c.timeout);$q.$9L(this,false,false,ev);return;};$1c.active=false;if($1c.timeout){window.clearTimeout($1c.timeout);return;}};this.$bY=function(ev){var $5V=5;var $5W=10;var w=5;var $2v=($q.moveBy==='Top');if(typeof(DayPilotCalendar)==='undefined'){return;};var $1w=DayPilot.mo3(this,ev);if(!$1w){return;};$q.eventOffset=$1w;var $0j=this;if(!$0j.active){$f($0j,$q.$9A("_event_hover"));};if($m.resizing||$m.moving){return;};var $5X=this.isFirst;var $5Y=this.isLast;if($q.moveBy==="Disabled"||$q.moveBy==="None"){return;};if(!$2v&&$1w.x<=$5W&&this.event.client.moveEnabled()){if($5X){this.style.cursor='move';}else{this.style.cursor='not-allowed';}}else if(!$2v&&$1w.y<=$5V&&this.event.client.resizeEnabled()){if($5X){this.style.cursor="n-resize";this.dpBorder='top';}else{this.style.cursor='not-allowed';}}else if($2v&&$1w.y<=$5W&&this.event.client.moveEnabled()){this.style.cursor="move";}else if(this.offsetHeight-$1w.y<=$5V&&this.event.client.resizeEnabled()){if($5Y){this.style.cursor="s-resize";this.dpBorder='bottom';}else{this.style.cursor='not-allowed';}}else if(!$m.resizing&&!$m.moving){if(this.event.client.clickEnabled())this.style.cursor='pointer';else this.style.cursor='default';};if(typeof(DayPilot.Bubble)!=='undefined'&&$q.bubble&&$q.eventHoverHandling!=='Disabled'){if(this.style.cursor==='default'||this.style.cursor==='pointer'){var $5Z=this.$dD&&$1w.x===this.$dD.x&&$1w.y===this.$dD.y;if(!$5Z){this.$dD=$1w;$q.bubble.showEvent(this.event);}}else{}}};this.$bZ=function(ev){$g(this,$q.$9A("_event_hover"));if($q.bubble){$q.bubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this,ev);};this.$dE=null;this.$9p=function(){if(this.showCurrentTime){this.$dF();var $0x=new DayPilot.Date().addMinutes($q.showCurrentTimeOffset);if($q.showCurrentTimeMode==="Full"){this.$dG($0x);}else if($q.showCurrentTimeMode==="Day"){this.$dH($0x);}else{throw new DayPilot.Exception("Invalid DayPilot.Calendar.showCurrentTimeMode value: "+$q.showCurrentTimeMode);};if(this.nav.events&&!this.$dE){var $60=30;this.$dE=setTimeout(function(){$q.$dE=null;$q.$9p();},$60*1000);}}};this.$dF=function(){$n($q.elements.separators);$q.elements.separators=[];};this.$dH=function($0X){var $61=$0X.getTime();var $06=$q.nav.events;if(!$06){return;};for(var i=0;i<$q.$9z.length;i++){var $z=$q.$9z[i];var $0a=$q.$9C(true);var $62=new DayPilot.Date($z.start).addHours(this.$9G(true));var $63=$62.getTime();var $1X=$62.addTime($0a);var $64=$1X.getTime();if($63<=$61&&$61<=$64){var $65=this.$au($0X,$z.start).top-1-$q.$av();var $0y=$06.rows[0].cells[i];var $3w=$0y.separators;var $0j=$b();$0j.style.position="absolute";$0j.style.top=$65+"px";$0j.style.height="1px";$0j.style.left="0px";$0j.style.right="0px";$0j.className=$q.$9A("_now");$3w.insertBefore($0j,$3w.firstChild);$q.elements.separators.push($0j);}}};this.$dG=function($0X){var $61=$0X.getTime();var $06=$q.nav.events;if(!$06){return;};var $z=$q.$9z[0];if(!$z){return;};var $66=$z.start.getDatePart().addTime($0X.getTimePart());var $65=this.$au($66,$z.start).top-1;for(var i=0;i<$q.$9z.length;i++){var $z=$q.$9z[i];var $0a=$q.$9C(true);var $62=new DayPilot.Date($z.start).addHours(this.$9G(true));var $63=$62.getTime();var $1X=$62.addTime($0a);var $64=$1X.getTime();if($63<=$61&&$61<=$64){var $0j=$b();$0j.style.position="absolute";$0j.style.top=$65+"px";$0j.style.height="1px";$0j.style.left="0px";$0j.style.right="0px";$0j.className=$q.$9A("_now");$q.nav.events.appendChild($0j);$q.elements.separators.push($0j);return;}}};this.$9e=function($1M,$o){if(!$1M){$1M=this.events.list;}else{this.events.list=$1M;};if(!$1M){return;};var $67=$o&&$o.preloadOnly;this.$bO={};this.$bO.events=[];this.$bO.lines=[];var length=$1M.length;var $0a=this.$9C(true);this.$8j.pixels={};this.$8j.$c3=[];var $68=[];this.$aJ=[];this.$9Z=10000;this.$9F=0;this.startDate=new DayPilot.Date(this.startDate);for(var i=0;i<length;i++){var e=$1M[i];if(typeof e!=="object"){throw new DayPilot.Exception("Event data item must be an object");};if(!e.start){throw new DayPilot.Exception("Event data item must specify 'start' property");};e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);};if(!$67){if(typeof this.onBeforeEventRender==='function'||$q.showEventStartEnd){for(var i=0;i<length;i++){this.$dp(i);}}};var $69=this.viewType==='Resources';var $2a=this.$bc();var $6a=$2a.start;var $6b=$2a.end;for(var i=0;i<this.$9z.length;i++){var scroll={};scroll.minEnd=1000000;scroll.maxStart=-1;this.$aJ.push(scroll);var $z=this.$9z[i];$z.events=[];$z.lines=[];$z.blocks=[];var $62=new DayPilot.Date($z.start).addHours(this.$9G(true));var $63=$62.getTime();var $1X=$62.addTime($0a);var $64=$1X.getTime();if($69){$6a=$62.getDatePart();$6b=$62.addDays(1);};for(var j=0;j<length;j++){if($68[j]){continue;};var e=$1M[j];var $3v=null;if(!$67&&typeof $q.onBeforeEventRender==='function'){$3v=$q.$8j.events[j];};if($3v){if($3v.hidden){continue;}}else if(e.hidden){continue;};var $0w=e.start;var end=e.end;var $4I=$0w.getTime();var $4J=end.getTime();if($4J<$4I){continue;};if(e.allday){var $6c=false;if($4I===$4J){$6c=!($4J<$6a.getTime()||$4I>=$6b.getTime());}else if($q.allDayEnd==='Date'){$6c=!($4J<$6a.getTime()||$4I>=$6b.getTime());}else{$6c=!($4J<=$6a.getTime()||$4I>=$6b.getTime());};if($69){$6c=$6c&&(e.resource===$z.id||$z.id==="*");};if($6c){var ep=new DayPilot.Event(e,this);ep.part.start=$6a.getTime()<$4I?$0w:$6a;ep.part.end=$6b.getTime()>$4J?end:$6b;ep.part.colStart=DayPilot.DateUtil.daysDiff($6a,ep.part.start);ep.part.colWidth=DayPilot.DateUtil.daysSpan(ep.part.start,ep.part.end)+1;if($69){ep.part.colStart=i;ep.part.colWidth=1;};if(typeof $q.onEventFilter==="function"&&$q.events.$dI){var $M={};$M.filter=$q.events.$dI;$M.filterParam=$M.filter;$M.visible=true;$M.e=ep;$q.onEventFilter($M);if(!$M.visible){continue;}};this.$bO.events.push(ep);if(!$67){if(typeof this.onBeforeEventRender==='function'||$q.showEventStartEnd){ep.cache=this.$8j.events[j];}};$68[j]=true;if($69&&(ep.part.start.getTime()!==$4I||ep.part.end.getTime()!==$4J)){$68[j]=false;}};continue;};var $3v=null;if(!$67&&typeof $q.onBeforeEventRender==='function'){$3v=$q.$8j.events[j];};if($3v){if($3v.hidden){continue;}}else if(e.hidden){continue;};var $6c=false;if($69){$6c=($z.id===e.resource)&&!($4J<=$63||$4I>=$64);}else{$6c=!($4J<=$63||$4I>=$64)||($4J===$4I&&$4I===$63);};if($6c){var ep=new DayPilot.Event(e,$q);ep.part.dayIndex=i;ep.part.start=$63<$4I?$0w:$62;ep.part.end=$64>$4J?end:$1X;var $65=this.$au(ep.part.start,$z.start);var $6d=this.$au(ep.part.end,$z.start);var top=$65.top;var $1m=$6d.top;if(top===$1m&&($65.cut||$6d.cut)){continue;};ep.part.box=$0D.$dJ($4J-$4I);var $08=0;if(ep.part.box){var $6e=$6d.boxBottom;ep.part.top=Math.floor(top/this.cellHeight)*this.cellHeight+$08+1;ep.part.height=Math.max(Math.ceil($6e/this.cellHeight)*this.cellHeight-ep.part.top,this.cellHeight-1)+1;ep.part.barTop=Math.max(top-ep.part.top-1,0);ep.part.barHeight=Math.max($1m-top-2,1);}else{ep.part.top=top+$08;ep.part.height=Math.max($1m-top,0);ep.part.barTop=0;ep.part.barHeight=Math.max($1m-top-2,1);};if(typeof $q.onEventFilter==="function"&&$q.events.$dI){var $M={};$M.filter=$q.events.$dI;$M.visible=true;$M.e=ep;$q.onEventFilter($M);if(!$M.visible){continue;}};var $0w=ep.part.top;var end=ep.part.top+ep.part.height;if($0w>scroll.maxStart){scroll.maxStart=$0w;};if(end<scroll.minEnd){scroll.minEnd=end;};if($0w<this.$9Z){this.$9Z=$0w;};if(end>this.$9F){this.$9F=end;};$z.events.push(ep);if(!$67){if(typeof this.onBeforeEventRender==='function'||$q.showEventStartEnd){ep.cache=this.$8j.events[j];}};if(ep.part.start.getTime()===$4I&&ep.part.end.getTime()===$4J){$68[j]=true;};$q.$8j.$c3.push(ep);}}};for(var i=0;i<this.$9z.length;i++){var $z=this.$9z[i];$z.events.sort(this.$dK);for(var j=0;j<$z.events.length;j++){var e=$z.events[j];$z.$bm(e);};for(var j=0;j<$z.blocks.length;j++){var $2i=$z.blocks[j];$2i.events.sort(this.$dL);for(var k=0;k<$2i.events.length;k++){var e=$2i.events[k];$2i.$bo(e);}}};this.$bO.events.sort(this.$dL);this.$bO.$bo=function(ep){var $2j=this;for(var i=0;i<this.lines.length;i++){var $2k=this.lines[i];if($2k.$bp(ep.part.colStart,ep.part.colWidth)){$2k.push(ep);return i;}};var $2k=[];$2k.$bp=function($0w,$1E){var end=$0w+$1E-1;var $v=this.length;for(var i=0;i<$v;i++){var e=this[i];if(!(end<e.part.colStart||$0w>e.part.colStart+e.part.colWidth-1)){return false;}};return true;};$2k.push(ep);this.lines.push($2k);return this.lines.length-1;};for(var i=0;i<this.$bO.events.length;i++){var e=this.$bO.events[i];this.$bO.$bo(e);};var $6f=Math.max(this.$bO.lines.length,1);this.$8j.allDayHeaderHeight=$6f*($0D.$bP()+2)+2;};this.$dK=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $6g=a.start().ticks-b.start().ticks;if($6g!==0){return $6g;};var $6h=b.end().ticks-a.end().ticks;return $6h;};this.$dL=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $q.$dK(a,b);};var $U=0;var i=0;while($U===0&&typeof a.data.sort[i]!=="undefined"&&typeof b.data.sort[i]!=="undefined"){if(a.data.sort[i]===b.data.sort[i]){$U=0;}else if(typeof a.data.sort[i]==="number"&&typeof b.data.sort[i]==="number"){$U=a.data.sort[i]-b.data.sort[i];}else{$U=$q.$dM(a.data.sort[i],b.data.sort[i],$q.sortDirections[i]);};i++;};return $U;};this.$dM=function(a,b,$6i){var $6j=($6i!=="desc");var $6k=$6j?-1:1;var $6l=-$6k;if(a===null&&b===null){return 0;};if(b===null){return $6l;};if(a===null){return $6k;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$6k:$6l;};this.$dN=function(e){for(var i=0;i<$q.elements.events.length;i++){var $0j=$q.elements.events[i];if($0j.event===e||$0j.event.data===e.data){return $0j;}};return null;};this.events.find=function(id){if(!$q.events.list||typeof $q.events.list.length==='undefined'){return null;};var $5k=$q.events.list.length;for(var i=0;i<$5k;i++){if($q.events.list[i].id===id){return new DayPilot.Event($q.events.list[i],$q);}};return null;};this.events.findRecurrent=function($6m,$0x){if(!$q.events.list||typeof $q.events.list.length==='undefined'){return null;};var $5k=$q.events.list.length;for(var i=0;i<$5k;i++){if($q.events.list[i].recurrentMasterId===$6m&&$q.events.list[i].start.getTime()===$0x.getTime()){return new DayPilot.Event($q.events.list[i],$q);}};return null;};this.events.all=function(){var $1P=[];for(var i=0;i<$q.events.list.length;i++){var e=new DayPilot.Event($q.events.list[i],$q);$1P.push(e);};return $l($1P);};this.events.edit=function(e){function startEditing(){var $0j=$q.$dN(e);if(!$0j){return;};$q.$9M($0j);};startEditing();};this.events.update=function(e,$G){if(typeof e==="object"&&!(e instanceof DayPilot.Event)){var ev=$q.events.find(e.id);if(!ev){throw new DayPilot.Exception("The event to be updated was not found");};$q.events.remove(ev);$q.events.add(e);return;};var $0C={};$0C.oldEvent=new DayPilot.Event(e.copy(),$q);$0C.newEvent=new DayPilot.Event(e.temp(),$q);var $F=new DayPilot.Action($q,"EventUpdate",$0C,$G);e.commit();if($q.$8m){$q.$b5({"eventsOnly":true});};$q.$dO.notify();return $F;};this.events.remove=function(e,$G){if(typeof e==="string"||typeof e==="number"){var id=e;var fe=$q.events.find(id);if(!fe){throw new DayPilot.Exception("The event to be removed was not found");};$q.events.remove(fe);return;};var $0C={};$0C.e=new DayPilot.Event(e.data,$q);var $F=new DayPilot.Action($q,"EventRemove",$0C,$G);var $1I=DayPilot.indexOf($q.events.list,e.data);$q.events.list.splice($1I,1);if($q.$8m){$q.$b5({"eventsOnly":true});};$q.$dO.notify();return $F;};this.events.add=function(e,$G){if(!(e instanceof DayPilot.Event)){e=new DayPilot.Event(e);};e.calendar=$q;if(!$q.events.list){$q.events.list=[];};$q.events.list.push(e.data);var $0C={};$0C.e=e;var $F=new DayPilot.Action($q,"EventAdd",$0C,$G);if($q.$8m){$q.$b5({"eventsOnly":true});};$q.$dO.notify();return $F;};this.events.filter=function($M){$q.events.$dI=$M;$q.$b5({"eventsOnly":true});};this.events.load=function($1Y,$1Z,$20){var $21=function($M){var $22={};$22.exception=$M.exception;$22.request=$M.request;if(typeof $20==='function'){$20($22);}};var $23=function($M){var r=$M.request;var $G;try{$G=JSON.parse(r.responseText);}catch(e){var $24={};$24.exception=e;$21($24);return;};if(DayPilot.isArray($G)){var $25={};$25.preventDefault=function(){this.preventDefault.value=true;};$25.data=$G;if(typeof $1Z==="function"){$1Z($25);};if($25.preventDefault.value){return;};$q.events.list=$G;if($q.$8m){$q.$b5({"eventsOnly":true});}}};var $26=$q.eventsLoadMethod&&$q.eventsLoadMethod.toUpperCase()==="POST";if($26){DayPilot.ajax({"method":"POST","data":{"start":$q.visibleStart().toString(),"end":$q.visibleEnd().toString()},"url":$1Y,"success":$23,"error":$21});}else{var $6n=$1Y;var $6o="start="+$q.visibleStart().toString()+"&end="+$q.visibleEnd().toString();if($6n.indexOf("?")>-1){$6n+="&"+$6o;}else{$6n+="?"+$6o;};DayPilot.ajax({"method":"GET","url":$6n,"success":$23,"error":$21});}};this.events.forRange=function($0w,end){$0w=new DayPilot.Date($0w);end=new DayPilot.Date(end);return $l($q.events.list).filter(function($1L){var $6p=new DayPilot.Date($1L.start);var $6q=new DayPilot.Date($1L.end);return $k($0w,end,$6p,$6q);}).map(function($1L){return new DayPilot.Event($1L,$q);});};this.events.$as=function(e){if(!e){throw new DayPilot.Exception("Error checking overlap for null (internal error)");};var $G=e instanceof DayPilot.Event?e.data:e;var $0w=new DayPilot.Date($G.start);var end=new DayPilot.Date($G.end);var $6r=$l($q.events.list).find(function($1L){if($q.$b1($G,$1L)){return false;};if($q.viewType=="Resources"&&$G.resource!==$1L.resource){return false;};if($1L.allday){return false;};var $6s=new DayPilot.Date($1L.start);var $6t=new DayPilot.Date($1L.end);return $k($0w,end,$6s,$6t);});return !!$6r;};this.$b1=function($6u,$6v){return DayPilot.Util.isSameEvent($6u,$6v);};this.$8W={};this.$8W.reactDOM=null;this.$8W.react=null;this.$8W.$bS=function(){if(!$q.$8W.reactDOM){throw new DayPilot.Exception("Can't reach ReactDOM");}};this.$8W.$bT=function($6w,$2D){var rd=$q.$8W.reactDOM;if(typeof rd.createRoot==="function"){var $6x=$2D.$dP;if(!$6x){$6x=rd.createRoot($2D);$2D.$dP=$6x;};$6x.render($6w);}else{rd.render($6w,$2D);}};this.$8W.$bV=function($2D){var rd=$q.$8W.reactDOM;if(typeof rd.createRoot==="function"){var $6x=$2D.$dP;setTimeout(function(){$6x.unmount();},0);}else{rd.unmountComponentAtNode($2D);}};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($F){if(!$F){return;};if($F.isAction){$q.queue.list.push($F);}else{throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");}};this.queue.notify=function($G){var $0C={};$0C.actions=$q.queue.list;$q.$8G('Notify',$0C,$G,"Notify");$q.queue.list=[];};this.queue.clear=function(){$q.queue.list=[];};this.queue.pop=function(){return $q.queue.list.pop();};this.$b5=function($M){if(!this.$8m||!this.$9z){return;};var $M=$M||{};var $6y=!$M.eventsOnly;$q.$8A();if($6y){if(!this.$8H()){$q.cellProperties={};};$q.$8C.$dQ();$q.$8Q();$q.$dR();$q.$9c();$q.$be();$q.$9e();$q.$9g();$q.$9h();$q.$9f();$q.$9i();$q.$9j();$q.$8t();$q.$9k();$q.$ap();$q.$9l();$q.$9m();$q.$9n();$q.$9o();$q.$dS();$q.$9r();$q.$9s();$q.$9p();$q.$9u();}else{$q.$8Q();$q.$9e();$q.$9f();$q.$9r();$q.$9s();$q.$9u();};if(this.visible){this.show();}else{this.hide();}};this.update=function($o){if(!$q.$8m){throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet.");};if($q.$8n){throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed.");};if(!$q.$8m){$q.$dT($o);return;};if(DayPilot.Util.isOnlyProperty($o,"events")){$q.events.list=$o.events;$q.$b5({"eventsOnly":true});return;};this.$dT($o);this.$b5();if(typeof $q.onAfterRender==='function'){var $M={};$M.isUpdate=true;$M.data=null;$q.onAfterRender($M);}};this.$dS=function(){var $6z=$q.$9A("_main");if($q.cssClass){$6z+=" "+$q.cssClass;};if($q.rtl){$6z+=" "+$q.$9A("_direction_rtl");};var $6A=$q.nav.top.className!==$6z;if(!$6A){return;};$q.nav.top.className=$6z;var $3o=$q.nav.corner;$3o.className=$q.$9A("_corner");$3o.firstChild.className=$q.$9A("_corner_inner");var cr=$q.nav.unifiedCornerRight;if(cr){cr.firstChild.className=$q.$9A("_cornerright");cr.firstChild.firstChild.className=$q.$9A("_cornerright_inner");}};this.show=function(){$q.visible=true;$q.nav.top.style.display='';$q.$9t();$q.$aD();};this.hide=function(){$q.visible=false;$q.nav.top.style.display='none';};this.$dO={};this.$dO.scope=null;this.$dO.notify=function(){if($q.$dO.scope){$q.$dO.scope["$apply"]();}};this.debug=new DayPilot.Debug(this);this.$9y=function(x,$6B){if(x<0){return 0;};if($q.rtl){x=$q.nav.main.offsetWidth-x;};var i=0;var $1i=$q.nav.events.rows[0].cells;if(DayPilot.browser.ie&&!$6B){for(var j=$1i.length-1;j>=0;j--){var $0y=$1i[j];var $1E=$0y.offsetWidth;i+=$1E;if(x<i){return j;}}}else{for(var j=0;j<$1i.length;j++){var $0y=$1i[j];var $1E=$0y.offsetWidth;i+=$1E;if(x<i){return j;}};return $1i.length-1;};return null;};this.$au=function($0X,$0w){if(!$0w){$0w=this.startDate;};var $4I=$0w.getTime();var $61=$0X.getTime();var $3v=this.$8j.pixels[$61+"_"+$4I];if($3v){return $3v;};var $6C=this.$9G(true);$4I=$0w.addHours(this.$9G(true)).getTime();var $6D=this.cellDuration*60*1000;var $6E=$61-$4I;var $6F=$6E%$6D;var $6G=$6E-$6F;var $6H=$6G+$6D;if($6F===0){$6H=$6G;};var $U={};$U.cut=false;$U.top=this.$cN($6E);$U.boxTop=this.$cN($6G);$U.boxBottom=this.$cN($6H);this.$8j.pixels[$61+"_"+$4I]=$U;return $U;};this.$cN=function($61){return Math.floor((this.cellHeight*$61)/(1000*60*this.cellDuration));};this.$dR=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();this.$cz=$0D.$bP()+4;};this.$9f=function(){var $2v=this.$9H();var $3u=this.$c8();if(this.nav.corner){this.nav.corner.style.height=$2v+"px";};if(this.nav.cornerRight){this.nav.cornerRight.style.height=$2v+"px";};if(this.nav.mid){this.nav.mid.style.height=$2v+"px";};if(this.showAllDayEvents&&this.nav.header){var $49=this.nav.header.rows[this.nav.header.rows.length-1];for(var i=0;i<$49.cells.length;i++){var $Q=$49.cells[i];$Q.firstChild.style.height=$0D.$cz()+"px";}};if(this.nav.upperRight){this.nav.upperRight.style.height=$2v+"px";};this.nav.scroll.style.top=$2v+"px";this.nav.top.style.height=$3u+"px";};this.$9m=function(){var sh=this.$c9();if(this.nav.scroll&&sh>0){this.nav.scroll.style.height=sh+"px";this.$aE=$q.nav.scroll.clientHeight;if(this.nav.bottomLeft){this.nav.bottomLeft.style.height=sh+"px";};if(this.nav.bottomRight){this.nav.bottomRight.style.height=sh+"px";}};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";}else{this.nav.top.style.height=this.$c8()+"px";}};this.setHeight=function($5p){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$5p-(this.$9H());this.$9m();};this.$dU=function($6z){var $0j=$b();$0j.style.position="absolute";$0j.style.top="-2000px";$0j.style.left="-2000px";$0j.className=this.$9A($6z);document.body.appendChild($0j);var $09=$0j.offsetHeight;var $1E=$0j.offsetWidth;document.body.removeChild($0j);var $U={};$U.height=$09;$U.width=$1E;return $U;};this.$8C={};var $0D=this.$8C;$0D.$bE=function(){return $q.columnResizeHandling!=="Disabled";};$0D.$bt=function(){return $q.columnMoveHandling!=="Disabled";};$0D.$bM=function($6I){return $q.columnResizeHandling===$6I;};$0D.$bD=function($6I){return $q.columnMoveHandling===$6I;};$0D.$8D=function(){return $q.xssProtection!=="Disabled";};$0D.$ar=function(){return DayPilot.Locale.find($q.locale);};$0D.$bd=function(){if(typeof $q.weekStarts==='number'){return $q.weekStarts;}else{return $0D.$ar().weekStarts;}};$0D.$aq=function(){if($q.timeFormat!=='Auto'){return $q.timeFormat;};return $0D.$ar().timeFormat;};$0D.$dJ=function($6J){if($q.useEventBoxes==='Always'){return true;};if($q.useEventBoxes==='Never'){return false;};return $6J<$q.cellDuration*60*1000;};$0D.$9Y=function(){var $K;if($q.notifyCommit==='Immediate'){$K="Notify";}else if($q.notifyCommit==='Queue'){$K="Queue";}else{throw new DayPilot.Exception("Invalid notifyCommit value: "+$q.notifyCommit);};return $K;};$0D.$ba=function(){if($q.headerLevels==="Auto"){return $q.$b6+1;};return $q.headerLevels;};$0D.$dQ=function(){delete $q.$8j.allDayEventHeight;delete $q.$8j.allDayHeaderHeight;delete $q.$8j.headerHeight;};$0D.$bP=function(){if($q.$8j.allDayEventHeight){return $q.$8j.allDayEventHeight;};var $09=$q.$dU("_alldayevent_height").height;if(!$09){$09=$q.allDayEventHeight;};$q.$8j.allDayEventHeight=$09;return $09;};$0D.$cz=function(){if($q.$8j.allDayHeaderHeight){return $q.$8j.allDayHeaderHeight;};var $09=$q.$cz;$q.$8j.allDayHeaderHeight=$09;return $09;};$0D.$bQ=function(){if($q.$8j.headerHeight){return $q.$8j.headerHeight;};var $09=$q.$dU("_header_height").height;if(!$09){$09=$q.headerHeight;};$q.$8j.headerHeight=$09;return $09;};this.exportAs=function($1j,$o){if(!$q.$de()){throw new DayPilot.Exception("DayPilot.Calendar.exportAs(): The instance must be visible during export.");};var $6K=$3E.$dV($1j,$o);return new DayPilot.Export($6K);};this.$dW={};var $3E=this.$dW;$3E.$dX=null;$3E.$dY=null;$3E.$dV=function($1j,$o){if(typeof $1j==="object"){$o=$1j;$1j=null;};var $o=$o||{};var $1j=$1j||$o.format||"svg";var $6L=$o.scale||1;if($1j==="config"){return;};if($1j.toLowerCase()==="jpg"){$1j="jpeg";};var $6M=$o.area||"viewport";$3E.$dX=$o;$3E.$dY=$6M;var $1E=$3E.$dZ();var $09=$3E.$e0();var $6K;switch($1j.toLowerCase()){case "svg":$6K=new DayPilot.Svg($1E,$09);break;case "png":$6K=new DayPilot.Canvas($1E,$09,"image/png",$6L);break;case "jpeg":$6K=new DayPilot.Canvas($1E,$09,"image/jpeg",$6L,$o.quality);break;default:throw new DayPilot.Exception("Export format not supported: "+$1j);};var $6N=$3E.$e1();var $4F=new DayPilot.StyleReader($q.nav.top).getBackColor();var $6O=new DayPilot.StyleReader($q.nav.top).get("border-top-color");var $2a=new DayPilot.StyleReader($q.nav.top).get("border-top-width")!=="0px";if(!$2a){$6O="white";};var $6P=new DayPilot.StyleReader($q.nav.corner.firstChild).getBackColor($4F);var $6Q=$q.nav.hourTable.rows[0].cells[0].firstChild.firstChild;var $6R=$6Q.getElementsByClassName($q.$9A("_rowheader_minutes"))[0];var $6S=new DayPilot.StyleReader($6Q).get("border-right-color");var $6T=new DayPilot.StyleReader($6Q).getBackColor($4F);var $6U=new DayPilot.StyleReader($6Q).getFont();var $6V=$6U;var $6W=0;if($6R){$6V=new DayPilot.StyleReader($6Q.firstChild.childNodes[1]).getFont()||$6V;$6W=new DayPilot.StyleReader($6Q.firstChild.childNodes[1]).getPx("padding-right")||$6W;};var $6X=new DayPilot.StyleReader($6Q).get("color");var $6Y=$q.nav.header.rows[0].cells[0].firstChild.firstChild;var $6Z=new DayPilot.StyleReader($6Y).getBackColor($4F);var $70=new DayPilot.StyleReader($6Y).getFont();var $71=new DayPilot.StyleReader($6Y).get("color");var $72=new DayPilot.StyleReader($6Y).get("border-right-color");var $73=$q.nav.header.rows[$q.nav.header.rows.length-1].cells[0].firstChild;var $74=$73.firstChild;var $75=new DayPilot.StyleReader($73).getBackColor($4F);var $76=new DayPilot.StyleReader($74).getBackColor($75);var $0y=$q.nav.main.rows[0].cells[0].firstChild.firstChild;var $77=new DayPilot.StyleReader($0y).get("border-right-color");var $0y=$3E.$e2();var $78=new DayPilot.StyleReader($0y.firstChild).getBackColor();$f($0y,$q.$9A("_cell_business"));var $79=new DayPilot.StyleReader($0y.firstChild).getBackColor();$n($0y);var $7a=$3E.$e3();var $1v=0;if($q.columnWidthSpec==="Fixed"){$1v=$q.columnWidth;}else{$1v=$6N.gridContent.w/$q.$9z.length;};$6K.fillRect($6N.main,"white");$6K.fillRect($6N.main,$4F);var top=$6N.corner.h-$7a;DayPilot.list.for($q.$cq(),function(i){return $q.$cw(i);}).forEach(function($49){var $09=$q.$ct();var $1K=$49.hour;var $4m=$49.sup;var $D=$49.text?$49.text:$1K;var $7b=0;if($6R){$7b=20;};var $2O={"x":0,"y":top,"w":$6N.grid.x+1,"h":$09+1};var $7c={"x":0,"y":top,"w":$6N.grid.x+1-$7b,"h":$09+1};var $7d={"x":$7c.w,"y":top,"w":$7b-$6W-1,"h":$09+1};var $4F=$6T;$6K.fillRect($2O,$4F);$6K.text($7c,$D,$6U,$6X,"right");if($6R){$6K.text($7d,$4m,$6V,$6X,"right");};$6K.rect($2O,$6S);top+=$09;});var $0J=$q.cellDuration*60*1000;var $0k=$6N.grid.x;$l($q.$9z).forEach(function($z,x){var $1E=$1v;var top=$6N.grid.y-$7a;DayPilot.list.for($q.$8y()).forEach(function($49,y){var $4j=$q.$cK(x,y)||{};var $7e=null;if($4j.cssClass){var $0y=$3E.$e2();$f($0y,$4j.cssClass);$7e=new DayPilot.StyleReader($0y.firstChild).getBackColor();$n($0y);};var $09=$q.cellHeight;var $2O={"x":$0k,"y":top,"w":$1E+1,"h":$09+1};var $7f=$4j.business;var $M={};$M.cell={};$M.cell.start=$z.start.addTime(y*$0J).addHours($q.$9G());$M.cell.end=$M.cell.start.addTime($0J);$M.cell.resource=$z.id;$i($4j,$M.cell,['cssClass','html','backImage','backRepeat','backColor','business']);$M.backColor=$7e||($7f?$79:$78);if(typeof $q.onBeforeCellExport==="function"){$q.onBeforeCellExport($M);};$6K.fillRect($2O,$M.backColor);$6K.rect($2O,$77);top+=$09;});$0k+=$1E;});var $7g=$6N.grid.x;$l($q.$9z).forEach(function($z){$l($z.events).forEach(function(e){var $3v=e.cache||e.data;var $7h=$3E.$e4();$7h.className+=" "+$3v.cssClass;var $7i=$7h.firstChild;var $7j=$7h.childNodes[1];var $7k=new DayPilot.StyleReader($7i).getBackColor();var $7l=new DayPilot.StyleReader($7i.firstChild).getBackColor();var $7m=new DayPilot.StyleReader($7i.firstChild).getPx("width");var $7n=new DayPilot.StyleReader($7j).get("border-right-color");var $7o=new DayPilot.StyleReader($7j).getFont();var $7p=new DayPilot.StyleReader($7j).get("color");var $7q=new DayPilot.StyleReader($7j).getBackColor();var $7r={};$7r.left=new DayPilot.StyleReader($7j).getPx("padding-left");$7r.right=new DayPilot.StyleReader($7j).getPx("padding-right");$7r.top=new DayPilot.StyleReader($7j).getPx("padding-top");$7r.bottom=new DayPilot.StyleReader($7j).getPx("padding-bottom");$n($7h);var $0k=$7g+$1v*e.part.left/100;var $1E=($1v-$q.columnMarginRight)*e.part.width/100;var top=e.part.top+$6N.grid.y-$q.$av()-$7a;var $09=e.part.height;var $4F=$3v.backColor||$7q;var $7s=$3v.barColor||$7l;var $7t=$3v.barBackColor||$7k;var $6O=$3v.borderColor||$7n;var $M={};$M.e=e;$M.text=e.text?e.text():e.client.html();$M.fontSize=$7o.size;$M.fontFamily=$7o.family;$M.fontStyle=$7o.style;$M.fontColor=$7p;$M.backColor=$4F;$M.borderColor=$6O;$M.horizontalAlignment="left";$M.barWidth=$7m;$M.barColor=$7s;$M.barBackColor=$7t;if(typeof $q.onBeforeEventExport==="function"){$q.onBeforeEventExport($M);};var $2O={"x":$0k,"y":top,"w":$1E+1,"h":$09+1};var $7u=$i($2O);var $7c=$i($7u);$7c.x+=$7r.left;$7c.w-=$7r.left+$7r.right;$7c.y+=$7r.top;$7c.h-=$7r.top+$7r.bottom;$6K.fillRect($2O,$M.backColor);if(e.client.barVisible()){var $7v={"x":$2O.x,"y":$2O.y,"w":$M.barWidth,"h":$2O.h};var $7w={"x":$2O.x,"y":$2O.y+1+e.part.barTop,"w":$M.barWidth,"h":e.part.barHeight+1};$6K.fillRect($7v,$M.barBackColor);$6K.fillRect($7w,$M.barColor);};$6K.text($7c,$M.text,{"size":$M.fontSize,"family":$M.fontFamily,"style":$M.fontStyle},$M.fontColor,$M.horizontalAlignment);$6K.rect($2O,$M.borderColor);var $0k=$2O.x;var $A=$2O.x+$2O.w-2;var top=$2O.y;$l($3v.areas).forEach(function($s){if(!DayPilot.Areas.isVisible($s)){return;};var $7x=$s.left;if($s.start){$7x=$q.getPixels(new DayPilot.Date($s.start)).left-e.part.left;};var $1E=$s.width||$s.w;var $09=$s.height||$s.h;if(!$7x){$7x=$A-$1E-$0k;};if($s.right){$1E=(e.part.width-$s.right)-$7x;}else if($s.end){$1E=$q.getPixels(new DayPilot.Date($s.end)).left-$s.left-e.part.left+1;};var $7y=$s.top;if(typeof $s.bottom==="number"){$09=(e.part.height-$s.bottom)-$7y;};var $2O={"x":$0k+$7x,"y":top+$7y,"w":$1E,"h":$09};if($s.backColor){$6K.fillRect($2O,$s.backColor);};if($s.image){var $3E=new Image();$3E.src=$s.image;$6K.image($2O,$3E);}else if($s.html){$6K.text($2O,$s.html,{"size":$M.fontSize,"family":$M.fontFamily,"style":$M.fontStyle},$s.fontColor||$M.fontColor,null,$s.padding);}});});$7g+=$1v;});$6K.fillRect($6N.corner,$6P);var $7z=1;if($q.columnWidthSpec!=="Fixed"){$7z=$6N.gridContent.w/100;};DayPilot.list.for($0D.$ba()).forEach(function($1J){var $0k=$6N.gridContent.x;var top=$q.headerHeight*$1J;var $0G=$q.$b9($1J+1);var $w=$q.$bN($1J);$l($0G).forEach(function($z,i){var $M={};$M.text=DayPilot.Util.stripTags($z.html);$M.horizontalAlignment="center";$M.verticalAlignment="center";$M.backColor=$z.backColor||$6Z;$M.fontSize=$70.size;$M.fontFamily=$70.family;$M.fontStyle=$70.style;$M.fontColor=$71;$M.header={};$M.header.level=$1J;$i($z,$M.header,['id','start','name','html','backColor']);if(typeof $q.onBeforeHeaderExport==="function"){$q.onBeforeHeaderExport($M);};var $7A=$w.length===0;var $1E=$7A?$1v:$w[i].width*$7z;var x=$7A?$0k:$0k+$w[i].left*$7z;var $09=$q.headerHeight;var $7B={"x":x,"y":top,"w":$1E+1,"h":$09+1};$6K.fillRect($7B,$M.backColor);$6K.rect($7B,$72);$6K.text($7B,$M.text,{"size":$M.fontSize,"family":$M.fontFamily,"style":$M.fontStyle},$M.fontColor,$M.horizontalAlignment,0,$M.verticalAlignment);if($7A){$0k+=$1v;}});});(function(){if(!$q.showAllDayEvents){return;};var top=$q.headerHeight*$0D.$ba();var $0k=$6N.gridContent.x;$l($q.$9z).forEach(function($z){var $1E=$1v;var $09=$0D.$cz();var $7B={"x":$0k,"y":top,"w":$1E+1,"h":$09+1};$6K.fillRect($7B,$76);$6K.rect($7B,$72);$0k+=$1v;});$l($q.$bO.lines).forEach(function($2k,j){$l($2k).forEach(function(e){var $7h=$3E.$e4("alldayevent");$7h.className+=" "+e.data.cssClass;var $7j=$7h.firstChild;var $7n=new DayPilot.StyleReader($7j).get("border-right-color");var $7o=new DayPilot.StyleReader($7j).getFont();var $7p=new DayPilot.StyleReader($7j).get("color");var $7q=new DayPilot.StyleReader($7j).getBackColor();var $7r={};$7r.left=new DayPilot.StyleReader($7j).getPx("padding-left");$7r.right=new DayPilot.StyleReader($7j).getPx("padding-right");$7r.top=new DayPilot.StyleReader($7j).getPx("padding-top");$7r.bottom=new DayPilot.StyleReader($7j).getPx("padding-bottom");$n($7h);var $3v=e.cache||e.data;var $4F=$3v.backColor||$7q;var $6O=$3v.borderColor||$7n;var $7C=$3v.fontColor||$7p;var $M={};$M.e=e;$M.text=e.text?e.text():e.client.html();$M.fontSize=$7o.size;$M.fontFamily=$7o.family;$M.fontStyle=$7o.style;$M.fontColor=$7C;$M.backColor=$4F;$M.borderColor=$6O;$M.horizontalAlignment="left";if(typeof $q.onBeforeEventExport==="function"){$q.onBeforeEventExport($M);};var $0k=e.part.colStart*$1v+$6N.gridContent.x+2;var $1E=e.part.colWidth*$1v-4;var $09=$0D.$bP()-1;var top=($0D.$ba()*$0D.$bQ()+j*($0D.$bP()))+2;var $2O={"x":$0k,"y":top,"w":$1E,"h":$09};var $7c=$i($2O);$7c.x+=$7r.left;$7c.w-=$7r.left+$7r.right;$7c.y+=$7r.top;$7c.h-=$7r.top+$7r.bottom;$6K.fillRect($2O,$M.backColor);$6K.text($7c,$M.text,{"size":$M.fontSize,"family":$M.fontFamily,"style":$M.fontStyle},$M.fontColor,$M.horizontalAlignment);$6K.rect($2O,$M.borderColor);var $A=$2O.x+$2O.w-2;var $3x=$3v.areas;var $7D=$1E;var $7E=$09;$l($3x).forEach(function($s){if(!DayPilot.Areas.isVisible($s)){return;};var $7x=$s.left;var $1E=$s.width||$s.w;var $09=$s.height||$s.h;if(!$7x){$7x=$A-$1E-$0k;};if($s.right){$1E=($7D-$s.right)-$7x;};var $7y=$s.top;if(typeof $s.bottom==="number"){$09=($7E-$s.bottom)-$7y;};var $2O={"x":$0k+$7x,"y":top+$7y,"w":$1E,"h":$09};if($s.backColor){$6K.fillRect($2O,$s.backColor);};if($s.image){var $3E=new Image();$3E.src=$s.image;$6K.image($2O,$3E);}else if($s.html){$6K.text($2O,$s.html,{"size":$M.fontSize,"family":$M.fontFamily,"style":$M.fontStyle},$s.fontColor||$M.fontColor,null,$s.padding);}});});});})();$6K.rect($6N.main,$6O);$6K.line($6N.grid.x,0,$6N.grid.x,$6N.main.h,$6S);$6K.line(0,$6N.grid.y,$6N.main.w,$6N.grid.y,$6S);return $6K;};$3E.$e2=function(){var $0j=$b();$0j.style.display="none";$0j.className=$q.$9A("_cell");$0j.style.position="absolute";$0j.style.top="-2000px";$0j.style.left="-2000px";var $0c=$b();$0c.className=$q.$9A("_cell_inner");$0j.appendChild($0c);$q.nav.bottomRight.appendChild($0j);return $0j;};$3E.$e4=function($K){$K=$K||"event";var $0j=$b();$0j.style.position="absolute";$0j.style.top="-2000px";$0j.style.left="-2000px";$0j.style.display="none";$0j.className=$q.$9A("_"+$K);if($K==="event"){var $3S=$b();$3S.className=$q.$9A("_event_bar");var $3T=$b();$3T.className=$q.$9A("_event_bar_inner");$3S.appendChild($3T);$0j.appendChild($3S);};var $0c=$b();$0c.className=$q.$9A("_"+$K+"_inner");$0j.appendChild($0c);var $3U=$q.nav.events.rows[0].cells[0].events;if($K==="alldayevent"){$3U=$q.nav.allday;};$3U.appendChild($0j);return $0j;};$3E.$e3=function(){var $6M=$3E.$dY;switch($6M){case "full":return 0;case "viewport":var scroll=$q.$8v();return scroll.scrollTop;case "range":var scroll=$q.$8v();return scroll.scrollTop;}};$3E.$dZ=function(){var $6M=$3E.$dY;var $5t=$q.nav.top.clientWidth;var $7F=$5t-$q.hourWidth;var $07=$q.$9z.length;var $5s=Math.floor($7F/$07)*$07+$q.hourWidth;switch($6M){case "viewport":case "full":case "range":if(typeof $3E.$dX.width==="number"){return $3E.$dX.width;};return $5s;default:throw new DayPilot.Exception("Unsupported export mode: "+$6M);}};$3E.$e0=function(){var $6M=$3E.$dY;switch($6M){case "full":return $q.$8w()+$q.$9H();case "viewport":return $q.nav.top.offsetHeight-DayPilot.sh($q.nav.scroll)-1;default:throw new DayPilot.Exception("Unsupported export mode: "+$6M);}};$3E.$e1=function(){var $7G=$3E.$e5();var $7H=$q.$9H();var $6N={};$6N.main={"x":0,"y":0,"w":$3E.$dZ(),"h":$3E.$e0()};$6N.corner={"x":0,"y":0,"w":$7G,"h":$7H};$6N.grid={"x":$7G,"y":$7H,"w":$3E.$dZ()-$7G,"h":$3E.$e0()-$7H};var $1E=$3E.$e6();var $09=$q.$8w();$6N.gridContent={"x":$7G,"y":$7H,"w":$1E,"h":$09};return $6N;};$3E.$e5=function(){return $q.hourWidth;};$3E.$e6=function(){var w=$q.$8v().offsetWidth;var $7I=$q.$9z.length;return Math.floor(w/$7I)*$7I;};this.$e7=function(){return !!this.backendUrl;};this.$e8=function(){if(this.id&&this.id.tagName){this.nav.top=this.id;}else if(typeof this.id==="string"){this.nav.top=document.getElementById(this.id);if(!this.nav.top){throw new DayPilot.Exception("DayPilot.Calendar: The placeholder element not found: '"+id+"'.");}}else{throw new DayPilot.Exception("DayPilot.Calendar() constructor requires the target element or its ID as a parameter");};this.nav.limit;};this.$e9=function(){this.$e8();this.$dR();this.$9c();this.$ca();this.$9g();this.$9h();this.$9k();this.$dS();this.$9n();this.$dd();this.$dj();this.$8Z();this.$9o();DayPilotCalendar.$ea(this);this.$9t();this.$9p();this.$df();this.$9v();this.$8G('Init');};this.init=function(){if(this.$8m){throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.")};this.$e8();if(this.nav.top.dp){if(this.nav.top.dp===$q){return $q;};if(this.$8M()){return $q;};throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");};this.$c7();var $7J=this.$e7();if($7J){this.$e9();this.$8m=true;return this;};this.$dR();this.$9c();this.$9d();if(!this.events.list){this.events.list=[];};this.$9e();this.$ca();this.$9g();this.$9h();this.$9k();this.$dS();this.$9q();this.$9o();this.$9n();this.$dd();this.$dj();this.$8Z();DayPilotCalendar.$ea(this);this.$9f();this.$9r();this.$9s();this.$9t();if(this.messageHTML){window.setTimeout(function(){$q.message($q.messageHTML);},0);};this.$9p();this.$99(null,false);if($q.initEventEnabled){setTimeout(function(){$q.$8G("Init");});};this.$df();this.$9v();this.$8m=true;this.$eb();return this;};this.$ec=null;this.$dT=function($o){if(!$o){return;};var $7K={"events":{"preInit":function(){var $1M=this.data;if(!$1M){return;};if(DayPilot.isArray($1M.list)){$q.events.list=$1M.list;}else{$q.events.list=$1M;}}},"columns":{"preInit":function(){if($q.$9b()===$q.columns){$q.columns=this.data;}else{$q.columns.list=this.data;}}},"scrollToHour":{"postInit":function(){if(typeof this.data!=='undefined'){$q.scrollToHour(this.data);}}},"zoom":{"preInit":function(){var $1I=this.data;if(typeof $1I==="string"){var id=$1I;$1I=$q.zoom.$aL(id);};var $7L=$1I!==$q.zoom.active;var $1K=$q.zoom.$aM();var $M=$q.zoom.$aN($1I);if($7L){this.hour=$1K;}else{this.hour=null;}},"postInit":function(){if(this.hour){$q.scrollToHour(this.hour);}}},};this.$ec=$7K;for(var name in $o){if($7K[name]){var $1L=$7K[name];$1L.data=$o[name];if($1L.preInit){$1L.preInit();}}else{$q[name]=$o[name];}}};this.$eb=function(){var $7K=this.$ec;for(var name in $7K){var $1L=$7K[name];if($1L.postInit){$1L.postInit();}}};this.internal={};this.internal.initialized=function(){return $q.$8m;};this.internal.invokeEvent=this.$9X;this.internal.eventMenuClick=this.$ac;this.internal.timeRangeMenuClick=this.$ad;this.internal.bubbleCallBack=this.$aa;this.internal.findEventDiv=this.$dN;this.internal.eventDeleteDispatch=this.$9W;this.internal.xssTextHtml=$q.$8B;this.internal.touch=this.$c1;this.internal.enableReact=function($7M,$7N){$q.$8W.react=$7M;$q.$8W.reactDOM=$7N;};this.internal.reactRefs=function(){return $i($q.$8W,{},["react","reactDOM"]);};this.internal.loadOptions=$q.$dT;this.Init=this.init;this.$dT($o);};var DayPilotCalendar={};DayPilotCalendar.$8r=null;DayPilotCalendar.$8s=null;DayPilotCalendar.$an=null;DayPilotCalendar.$ao=null;DayPilotCalendar.$am=null;DayPilotCalendar.$cT=null;DayPilotCalendar.$d0=null;DayPilotCalendar.$d1=null;DayPilotCalendar.$dk=false;DayPilotCalendar.editing=false;DayPilotCalendar.originalText=null;DayPilotCalendar.$ea=function($q){if(!DayPilotCalendar.$cQ){DayPilotCalendar.$cQ=[];};var r=DayPilotCalendar.$cQ;for(var i=0;i<r.length;i++){if(r[i]===$q){return;}};r.push($q);};DayPilotCalendar.$8Y=function($q){var a=DayPilotCalendar.$cQ;if(a){var i=DayPilot.indexOf(a,$q);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotCalendar.$dl);DayPilot.ue(document,'mouseup',DayPilotCalendar.$dm);DayPilot.ue(document,'touchmove',DayPilotCalendar.$dn);DayPilot.ue(document,'touchend',DayPilotCalendar.$do);DayPilotCalendar.$dk=false;}};DayPilotCalendar.$bs=function($0y){if($0y.data&&$0y.data.calendar.$8h){var $q=$0y.data.calendar;var $S=[];var $B=$0y.data.y;var x=$0y.data.x;var $C=DayPilotCalendar.$ao.data.y;for(var y=$B;y>=$C;y--){$S.push($q.nav.main.rows[y].cells[x]);};return $S;}else{var $S=[];var c=DayPilotCalendar.$cP($0y);var tr=$0y.parentNode;var $7O=null;while(tr&&$7O!==DayPilotCalendar.$ao){$7O=tr.getElementsByTagName("td")[c];$S.push($7O);tr=tr.previousSibling;while(tr&&tr.tagName!=="TR"){tr=tr.previousSibling;}};return $S;}};DayPilotCalendar.$cU=function($0y){if($0y.data&&$0y.data.calendar.$8h){var $q=$0y.data.calendar;var $S=[];var $B=$0y.data.y;var x=$0y.data.x;var $C=DayPilotCalendar.$ao.data.y;for(var y=$B;y<=$C;y++){$S.push($q.nav.main.rows[y].cells[x]);};return $S;}else{var $S=[];var c=DayPilotCalendar.$cP($0y);var tr=$0y.parentNode;var $7O=null;while(tr&&$7O!==DayPilotCalendar.$ao){$7O=tr.getElementsByTagName("td")[c];$S.push($7O);tr=tr.nextSibling;while(tr&&tr.tagName!=="TR"){tr=tr.nextSibling;}};return $S;}};DayPilotCalendar.$cP=function($0y){var i=0;if(!$0y){return null;}while($0y.previousSibling){$0y=$0y.previousSibling;if($0y.tagName==="TD"){i++;}};return i;};DayPilotCalendar.$dn=function(ev){if($h(ev)){return;};if(DayPilotCalendar.drag){ev.preventDefault();var x=ev.touches?ev.touches[0].pageX:ev.pageX;var y=ev.touches?ev.touches[0].pageY:ev.pageY;var $4K={};$4K.x=x;$4K.y=y;var $q=(function(){var $7P=ev.touches?ev.touches[0].clientX:ev.clientX;var $7Q=ev.touches?ev.touches[0].clientY:ev.clientY;var el=document.elementFromPoint($7P,$7Q);while(el&&el.parentNode){el=el.parentNode;if(el.daypilotMainD){return el.calendar;}};return false;})();if($q){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;$q.coords=$q.$c1.$dx(ev);if(!DayPilotCalendar.movingShadow&&$q.coords){var $0b=$q.$9x(DayPilotCalendar.drag,false);if($0b){DayPilotCalendar.movingShadow=$0b;var $4R=DayPilot.Date.today();var ev={'value':DayPilotCalendar.drag.id,'start':$4R,'end':$4R.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var event=new DayPilot.Event(ev,$q);event.external=true;$m.moving={};$m.moving.event=event;$m.moving.helper={};}};if($m.moving){$q.$c1.$dC();}}else{$n(DayPilotCalendar.movingShadow);var c=$m.moving&&$m.moving.event&&$m.moving.event.calendar;if(c){$g($m.moving,c.$9A("_event_moving_source"));};$m.moving=null;DayPilotCalendar.movingShadow=null;if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $0b=DayPilotCalendar.gShadow;$0b.style.left=$4K.x+'px';$0b.style.top=$4K.y+'px';}}};DayPilotCalendar.$do=function(ev){if($h(ev)){return;};DayPilotCalendar.$dm(ev);};DayPilotCalendar.$dl=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $4K=DayPilot.mc(ev);if(DayPilotCalendar.drag){var $o=DayPilotCalendar.drag.$cV;var $7R="move";if(typeof $o.externalCursor==="string"){$7R=$o.externalCursor;};document.body.style.cursor=$7R;if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $0b=DayPilotCalendar.gShadow;var $1w=5;var x=$4K.x-$1w;var y=$4K.y-$1w;$0b.style.left=x+'px';$0b.style.top=y+'px';$0b.style.cursor=$7R;if($o.externalHtml){$0b.innerHTML=$o.externalHtml;};if($o.externalCssClass){$f($0b,$o.externalCssClass);};$m.moving=null;$n(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};for(var i=0;i<DayPilotCalendar.$cQ.length;i++){if(DayPilotCalendar.$cQ[i].$91){DayPilotCalendar.$cQ[i].$91();}}};DayPilotCalendar.$ed=function(ev){if(!DayPilotCalendar.$cQ){return;};var r=DayPilotCalendar.$cQ;for(var i=0;i<r.length;i++){var c=r[i];DayPilotCalendar.$8Y(c);}};DayPilotCalendar.$dm=function(e){var e=e||window.event;if($m.resizing){if(!DayPilotCalendar.resizingShadow){$m.resizing.style.cursor='default';$m.resizing.event.calendar.nav.top.style.cursor='auto';$m.resizing=null;return;};var $5U=$m.resizing.event;var $0O=$m.resizing.dpBorder;var $09=DayPilotCalendar.resizingShadow.clientHeight;var top=DayPilotCalendar.resizingShadow.offsetTop;var $M=DayPilotCalendar.resizingShadow.args;var $q=$5U.calendar;$m.resizing.style.cursor='default';$q.nav.top.style.cursor='auto';$m.resizing.onclick=null;$m.resizing=null;if(!$M.allowed){$q.$a3();return;};$5U.calendar.$a2($5U,$09,top,$0O);}else if($m.moving){var cleanup=function(){$m.movingAreaData=null;var $q=$m.moving&&$m.moving.event&&$m.moving.event.calendar;if($q){$g($m.moving,$q.$9A("_event_moving_source"));};$m.moving=null;$n(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};if(!$m.moving.helper){cleanup();return;};if(!DayPilotCalendar.movingShadow){$m.moving.event.calendar.nav.top.style.cursor='auto';cleanup();return;};var top=DayPilotCalendar.movingShadow.offsetTop;var $5U=$m.moving.event;var $q=$5U.calendar;$q.$94=$M;var $0S=DayPilotCalendar.movingShadow.column;var $0Z=DayPilotCalendar.drag;$m.moving.event.calendar.nav.top.style.cursor='auto';var $M=DayPilotCalendar.movingShadow.args;if($0Z){if(!$5U.calendar.todo){$5U.calendar.todo={};};$5U.calendar.todo.del=$0Z.element;};if($M&&!$M.allowed){$q.$a7();cleanup();return;};var ev=e||window.event;$5U.calendar.$a6($5U,$0S,top,ev,$0Z);cleanup();}else if($m.selecting){var $7S=function(){var $4T=$m.selecting;var $q=$m.selecting.calendar;var $16=$m.selecting.origin;DayPilotCalendar.$am=null;$m.selecting=null;if(!$4T.args.allowed){$q.clearSelection();return;};if($q.timeRangeDoubleClickHandling==="Disabled"){var $1n=$q.getSelection();if(!$1n){return;};$q.$ae($1n.start,$1n.end,$1n.resource,$16);}else{$q.$aw=setTimeout(function(){var $1n=$q.getSelection();if(!$1n){return;};$q.$ae($1n.start,$1n.end,$1n.resource,$16);},$q.doubleClickTimeout);}};if($m.selecting&&DayPilotCalendar.$8r!==null){$7S();}else{DayPilotCalendar.selectedTimeout=setTimeout($7S,100);}}else if(DayPilotCalendar.$am){var $q=DayPilotCalendar.$am.calendar;$m.selecting={};$m.selecting.calendar=$q;$q.$ap();if(!$m.selecting.args.allowed){return;};DayPilotCalendar.$am=null;$m.selecting=null;if($q.timeRangeDoubleClickHandling==="Disabled"){var $1n=$q.getSelection();$q.$ae($1n.start,$1n.end,$1n.resource);}else{$q.$aw=setTimeout(function(){var $1n=$q.getSelection();$q.$ae($1n.start,$1n.end,$1n.resource);},$q.doubleClickTimeout);}}else if($m.colResizing){var $1q=$m.colResizing;$m.colResizing=null;$1q.$bL();}else if($m.colMoving){var $0z=$m.colMoving;$m.colMoving=null;$0z.$bC();};if(DayPilotCalendar.drag){DayPilotCalendar.drag=null;document.body.style.cursor='';};if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);DayPilotCalendar.gShadow=null;};DayPilotCalendar.moveOffsetY=null;};DayPilotCalendar.dragStart=function(element,$0a,id,$D,$K){DayPilot.us(element);var $0Z=DayPilotCalendar.drag={};$0Z.element=element;$0Z.duration=$0a;$0Z.text=$D;$0Z.id=id;$0Z.shadowType=$K?$K:'Fill';$0Z.$cV={"id":id,"text":$D,"duration":$0a,"externalHtml":$D};return false;};DayPilot.Calendar.def={};DayPilot.Calendar.makeDraggable=function($o){var element=$o.element;var $7T=$o.keepElement?null:element;var $G=$o.data||{};var id=typeof $o.id!=="undefined"?$o.id:$G.id;var $D=typeof $o.text==="string"?$o.text:$G.text||"";var $0a=$o.duration||$G.duration;if($0a instanceof DayPilot.Duration){$0a=$0a.totalSeconds();};if(!$0a){if($G.start&&$G.end){$0a=new DayPilot.Duration($G.start,$G.end).totalSeconds();}else{$0a=60;}};if(navigator.msPointerEnabled){element.style.msTouchAction="none";element.style.touchAction="none";};var $7U=function(ev){startDragging();var element=(ev.target||ev.srcElement);if(element.tagName){var $7V=element.tagName.toLowerCase();if($7V==="textarea"||$7V==="select"||$7V==="input"){return false;}};ev.preventDefault&&ev.preventDefault();return false;};var $7W=function(ev){if($h(ev)){return;};var $5T=0;window.setTimeout(function(){startDragging();DayPilotCalendar.$dn(ev);ev.preventDefault();},$5T);ev.preventDefault();};function startDragging(){var $0Z=DayPilotCalendar.drag={};$0Z.element=$7T;$0Z.id=id;$0Z.duration=$0a;$0Z.text=$D;$0Z.shadowType="Fill";$0Z.$cV=$o;$0Z.$cW=$o.data;};DayPilot.us(element);$e(element,"mousedown",$7U);$d(element,DayPilot.touch.start,$7W);element.cancelDraggable=function(){DayPilot.ue(element,"mousedown",$7U);DayPilot.ue(element,DayPilot.touch.start,$7W);delete element.cancelDraggable;};};DayPilot.Calendar.stopDragging=function(){if(DayPilotCalendar.drag){DayPilotCalendar.drag=null;document.body.style.cursor='';};if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);DayPilotCalendar.gShadow=null;};if($m.resizing){var $q=$m.resizing.event.calendar;$m.resizing.style.cursor='default';$m.resizing.onclick=null;$m.resizing=null;$q.nav.top.style.cursor='auto';$q.$a3();};if($m.moving){var $q=$m.moving&&$m.moving.event&&$m.moving.event.calendar;if($q){$q.$94=null;$g($m.moving,$q.$9A("_event_moving_source"));$q.$a7();};$m.movingAreaData=null;$m.moving=null;};if($m.selecting||DayPilotCalendar.$am){var $q=$m.selecting.calendar;DayPilotCalendar.$am=null;$m.selecting=null;if($q){$q.clearSelection();}}};DayPilot.Calendar.registerDropTarget=function($o){$o=$o||{};var element=$o.element;var $7X=$o.onDragOver;var $7Y=typeof $7X==="function";var $7Z=$o.onDrop;var $80=typeof $7Z==="function";var $81=$o.onDragLeave;var $82=typeof $81==="function";if(!element){throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified");};element.addEventListener("mousemove",function(ev){var $0Z=DayPilotCalendar.drag;if(!$0Z){return;};var $G=$0Z.$cW;if(!$G){return;};if(!$7Y){return;};var $M={};$M.data=$G;$7X($M);});element.addEventListener("mouseleave",function(ev){var $0Z=DayPilotCalendar.drag;if(!$0Z){return;};var $G=$0Z.$cW;if(!$G){return;};if(!$82){return;};var $M={};$M.data=$G;$81($M);});element.addEventListener("mouseup",function(ev){var $0Z=DayPilotCalendar.drag;if(!$0Z){return;};var $G=$0Z.$cW;if(!$G){return;};if(!$80){return;};var $M={};$M.data=$G;$7Z($M);if($0Z.element){$n($0Z.element);}});};DayPilotCalendar.createGShadow=function($K){var $0b=$b();$0b.setAttribute('unselectable','on');$0b.style.position='absolute';$0b.style.width='100px';$0b.style.height='20px';$0b.style.border='2px dotted #666666';$0b.style.zIndex=$a;$0b.style.pointerEvents="none";if($K==='Fill'){$0b.style.backgroundColor="#aaaaaa";$0b.style.opacity=0.5;$0b.style.filter="alpha(opacity=50)";$0b.style.border='2px solid #aaaaaa';};document.body.appendChild($0b);return $0b;};DayPilotCalendar.moveShadow=function($Q){var $0b=DayPilotCalendar.movingShadow;if($0b.parentNode){$0b.parentNode.removeChild($0b);};$Q.firstChild.appendChild($0b);$0b.style.left='0px';$0b.style.width='';$0b.style.right='0px';};DayPilot.Column=function($z,$q){var $Q=this;$Q.id=$z.id;$Q.name=$z.name;$Q.data=$z.data;$Q.date=new DayPilot.Date($z.start);$Q.start=$Q.date;$Q.calendar=$q;$Q.events={};$Q.events.all=function(){var $1P=$l();for(var i=0;i<$z.events.length;i++){$1P.push($z.events[i]);};return $1P;};$Q.events.isEmpty=function(){return $z.events.length===0;};$Q.events.forRange=function($0w,end){$0w=new DayPilot.Date($0w);end=end?new DayPilot.Date(end):$z.$bq();var $U=$l();for(var i=0;i<$Q.events.length;i++){var ev=$Q.events[i];if($k(ev.start(),ev.end(),$0w,end)){$U.push(ev);}};return $U;};$Q.events.totalDuration=function(){var $61=0;$Q.events.all().forEach(function($1L){$61+=$1L.part.end.getTime()-$1L.part.start.getTime();});return new DayPilot.Duration($61);};$Q.value=$z.id;$Q.toJSON=function(){var $0v={};$0v.id=this.id;if(this.date){$0v.date=this.date.toString();};$0v.name=this.name;$0v.value=this.value;return $0v;};};if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotCalendar=function($o){var $1f=null;var j=this.each(function(){if(this.daypilot){return;};var $83=new DayPilot.Calendar(this.id,$o);$83.init();this.daypilot=$83;if(!$1f){$1f=$83;}});if(this.length===1){return $1f;}else{return j;}};})(jQuery);};(function registerAngularModule(){var $84=DayPilot.am();if(!$84){return;};$84.directive("daypilotCalendar",['$parse',function($85){return{"restrict":"E","template":"<div id='{{id}};'></div>","compile":function compile(element,$86){element.replaceWith(this["template"].replace("{{id}};",$86["id"]));return function link($87,element,$86){var $q=new DayPilot.Calendar(element[0]);$q.$dO.scope=$87;$q.init();var $88=$86["id"];if($88){$87[$88]=$q;};var $89=$86["publishAs"];if($89){var getter=$85($89);var setter=getter.assign;setter($87,$q);};for(var name in $86){if(name.indexOf("on")===0){var $8a=DayPilot.Util.shouldApply(name);if($8a){(function(name){$q[name]=function($M){var f=$85($86[name]);$87["$apply"](function(){f($87,{"args":$M});});};})(name);}else{(function(name){$q[name]=function($M){var f=$85($86[name]);f($87,{"args":$M});};})(name);}}};var $8b=$87["$watch"];var $5c=$86["config"]||$86["daypilotConfig"];var $1M=$86["events"]||$86["daypilotEvents"];$8b.call($87,$5c,function($5M,$8c){for(var name in $5M){$q[name]=$5M[name];};$q.update();},true);$8b.call($87,$1M,function($5M){$q.events.list=$5M;$q.$b5({"eventsOnly":true});},true);};}};}]);})();if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})(DayPilot);


