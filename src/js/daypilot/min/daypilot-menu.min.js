/**
@license
DayPilot Pro for JavaScript 2023.2.5592
Copyright (c) 2005 - 2023 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(DayPilot){if(typeof DayPilot.Menu!=='undefined'&&DayPilot.Menu.def){return;};var $a=function(){};var DayPilotMenu={};DayPilotMenu.mouse=null;DayPilotMenu.menu=null;DayPilotMenu.handlersRegistered=false;DayPilotMenu.hideTimeout=null;DayPilotMenu.waitingSubmenu=null;DayPilot.Menu=function($b){var $c=this;var $d=null;this.v='2023.2.5592;';this.zIndex=120;this.cssClassPrefix="menu_default";this.cssOnly=true;this.menuTitle=null;this.showMenuTitle=false;this.hideOnMouseOut=false;this.hideAfter=200;this.theme=null;this.onShow=null;this.$X=function(){};if($b&&DayPilot.isArray($b)){this.items=$b;};this.toJSON=function(){return null;};this.show=function(e,$e){$e=$e||{};var $f=null;if(!e){$f=null;}else if(typeof e.id==='string'||typeof e.id==='number'){$f=e.id;}else if(typeof e.id==='function'){$f=e.id();}else if(typeof e.value==='function'){$f=e.value();};if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if(!$e.submenu){DayPilotMenu.menuClean();};this.$X.submenu=null;if(DayPilotMenu.mouse===null){return;};if(!$c.cssOnly){$c.cssOnly=true;};var $g=null;if(e&&e.isRow&&e.$.row.task){$g=new DayPilot.Task(e.$.row.task,e.calendar);$g.menuType="resource";}else if(e&&e.isEvent&&e.data.task){$g=new DayPilot.Task(e,e.calendar);}else{$g=e;};if(typeof $c.onShow==="function"){var $h={};$h.source=$g;$h.menu=$c;$h.preventDefault=function(){$h.preventDefault.value=true;};$c.onShow($h);if($h.preventDefault.value){return;}};var $i=document.createElement("div");$i.style.position="absolute";$i.style.top="0px";$i.style.left="0px";$i.style.display='none';$i.style.overflow='hidden';$i.style.zIndex=this.zIndex+1;$i.className=this.applyCssClass('main');$i.onclick=function(ev){ev.cancelBubble=true;this.parentNode.removeChild(this);};if(this.hideOnMouseOut){$i.onmousemove=function(ev){clearTimeout(DayPilotMenu.hideTimeout);};$i.onmouseleave=function(ev){$c.delayedHide({"hideParent":true});};};if(!this.items||this.items.length===0){throw "No menu items defined.";};if(this.showMenuTitle){var title=document.createElement("div");title.innerHTML=this.menuTitle;title.className=this.applyCssClass("title");$i.appendChild(title);};for(var i=0;i<this.items.length;i++){var mi=this.items[i];var $j=document.createElement("div");DayPilot.Util.addClass($j,this.applyCssClass("item"));if(mi.items){DayPilot.Util.addClass($j,this.applyCssClass("item_haschildren"));DayPilot.Util.addClass($i,this.applyCssClass(("withchildren")));};if(typeof mi==='undefined'){continue;};if(mi.hidden){continue;};if(mi.text==='-'){var $k=document.createElement("div");$k.addEventListener("click",function(ev){ev.stopPropagation();});$j.appendChild($k);}else{var $l=document.createElement("a");$l.style.position='relative';$l.style.display="block";if(mi.cssClass){DayPilot.Util.addClass($l,mi.cssClass);};if(mi.disabled){DayPilot.Util.addClass($l,$c.applyCssClass("item_disabled"));}else{if(mi.onclick||mi.onClick){$l.item=mi;$l.onclick=(function(mi,$l){return function(e){if(typeof mi.onClick==="function"){var $h={};$h.item=mi;$h.source=$l.source;$h.originalEvent=e;$h.preventDefault=function(){$h.preventDefault.value=true;};mi.onClick($h);if($h.preventDefault.value){return;}};if(mi.onclick){mi.onclick.call($l,e);}};})(mi,$l);var $m=function(mi,$l){return function(e){e.stopPropagation();e.preventDefault();var $n=function(){window.setTimeout(function(){$l.source.calendar.internal.touch.active=false;},500);};if(typeof mi.onClick==="function"){var $h={};$h.item=mi;$h.source=$l.source;$h.originalEvent=e;$h.preventDefault=function(){$h.preventDefault.value=true;};mi.onClick($h);if($h.preventDefault.value){$n();return;}};if(mi.onclick){mi.onclick.call($l,e);};DayPilotMenu.menuClean();$n();};};DayPilot.reNonPassive($l,"touchstart",function(ev){ev.stopPropagation();ev.preventDefault();$l.source.calendar.internal.touch.active=true;});DayPilot.reNonPassive($l,"touchend",$m(mi,$l));};if(mi.items&&!mi.disabled){var $o=function(mi,$l){return function(ev){ev.preventDefault();ev.stopPropagation();$c.$Y(mi,$l);};};$l.ontouchend=$o(mi,$l);};if(mi.onclick){$a();}else if(mi.href){$l.href=mi.href.replace(/\x7B0\x7D/gim,$f);if(mi.target){$l.setAttribute("target",mi.target);}}else if(mi.command){var $o=function(mi,$l){return function(e){var $g=$l.source;var $j=mi;$j.action=$j.action?$j.action:'CallBack';var $p=$g.calendar||$g.root;if($g instanceof DayPilot.Link){$p.internal.linkMenuClick($j.command,$g,$j.action);return;}else if($g instanceof DayPilot.Selection){$p.internal.timeRangeMenuClick($j.command,$g,$j.action);return;}else if($g instanceof DayPilot.Event){$p.internal.eventMenuClick($j.command,$g,$j.action);return;}else if($g instanceof DayPilot.Selection){$p.internal.timeRangeMenuClick($j.command,$g,$j.action);return;}else if($g instanceof DayPilot.Task){if($g.menuType==="resource"){$p.internal.resourceHeaderMenuClick($j.command,$l.menuSource,$j.action);}else{$p.internal.eventMenuClick($j.command,$l.menuSource,$j.action);};return;}else{switch($g.menuType){case 'resource':$p.internal.resourceHeaderMenuClick($j.command,$g,$j.action);return;case 'selection':$p.internal.timeRangeMenuClick($j.command,$g,$j.action);return;default:$p.internal.eventMenuClick($j.command,$g,$j.action);return;}};e.preventDefault();};};$l.onclick=$o(mi,$l);$l.ontouchend=$o(mi,$l);}};if(mi.items){$l.addEventListener("click",function(ev){ev.stopPropagation();});};$l.source=$g;$l.menuSource=e;var $q=document.createElement("span");$q.className=$c.applyCssClass("item_text");$q.innerHTML=DayPilot.Util.escapeTextHtml(mi.text,mi.html);$l.appendChild($q);if(mi.image){var $r=document.createElement("img");$r.src=mi.image;$r.style.position='absolute';$r.style.top='0px';$r.style.left='0px';$l.appendChild($r);};if(mi.icon){var $s=document.createElement("span");$s.className=$c.applyCssClass("item_icon");var $t=document.createElement("i");$t.className=mi.icon;$s.appendChild($t);$l.appendChild($s);};if(mi.symbol){var ns="http://www.w3.org/2000/svg";var $u=document.createElementNS(ns,"svg");$u.setAttribute("width","100%");$u.setAttribute("height","100%");var $v=document.createElementNS(ns,"use");$v.setAttribute("href",mi.symbol);$u.appendChild($v);var $w=document.createElement("span");$w.className=$c.applyCssClass("item_symbol");$w.style.position="absolute";$w.style.top="0px";$w.style.left="0px";$w.appendChild($u);$l.appendChild($w);};var $x=function(mi,$l){return function(){var $g=$l.source;var $j=mi;var ws=DayPilotMenu.waitingSubmenu;if(ws){if(ws.parent===$j){return;}else{clearTimeout(ws.timeout);DayPilotMenu.waitingSubmenu=null;}};if(mi.disabled){return;};DayPilotMenu.waitingSubmenu={};DayPilotMenu.waitingSubmenu.parent=$j;DayPilotMenu.waitingSubmenu.timeout=setTimeout(function(){DayPilotMenu.waitingSubmenu=null;$c.$Y($j,$l);},300);};};$l.onmouseover=$x(mi,$l);$j.appendChild($l);};$i.appendChild($j);};var $y=function(e){window.setTimeout(function(){DayPilotMenu.menuClean();DayPilot.MenuBar.deactivate();},100);};$i.onclick=$y;$i.ontouchend=$y;$i.onmousedown=function(e){e=e||window.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation();};$i.oncontextmenu=function(){return false;};document.body.appendChild($i);$c.$X.visible=true;$c.$X.source=e;$i.style.display='';var $z=$i.offsetHeight;var $A=$i.offsetWidth;$i.style.display='none';var $B=document.documentElement.clientHeight;var $C=window.innerWidth;var $D=(typeof $e.windowMargin=="number")?$e.windowMargin:5;(function showInitiator(){var $E=$e.initiator;if(!$E){return;};var $i=$E.div;var e=$E.e;var $F=$E.area;var v=$F.visibility||$F.v||"Visible";var a=$E.a;if(v!=="Visible"){a=DayPilot.Areas.createArea($i,e,$F);$i.appendChild(a);$d=a;};if(a){var $G=DayPilot.abs(a);$e.x=$G.x;$e.y=$G.y+$G.h+2;}})();(function adjustPosition(){var x=(typeof $e.x==="number")?$e.x:DayPilotMenu.mouse.x+1;var y=(typeof $e.y==="number")?$e.y:DayPilotMenu.mouse.y+1;var $H=document.body.scrollTop||document.documentElement.scrollTop;var $I=document.body.scrollLeft||document.documentElement.scrollLeft;if(y-$H>$B-$z&&$B!==0){var $J=y-$H-($B-$z)+$D;$i.style.top=(y-$J)+'px';}else{$i.style.top=y+'px';};if($e.align==="right"){x-=$A;};if(x-$I>$C-$A&&$C!==0){var $K=x-$I-($C-$A)+$D;$i.style.left=(x-$K)+'px';}else{$i.style.left=x+'px';}})();if($e.parentLink){var parent=$e.parentLink;var $L=parseInt(new DayPilot.StyleReader($i).get("border-top-width"));var $M=DayPilot.abs($e.parentLink.parentNode);var x=$M.x+parent.offsetWidth;var y=$M.y-$L;if(x+$A>$C){x=Math.max(0,$M.x-$A);};var $N=document.body.scrollTop+document.documentElement.scrollTop;if(y+$z-$N>$B){y=Math.max(0,$B-$z+$N);};$i.style.left=x+"px";$i.style.top=y+"px";};$i.style.display='';this.addShadow($i);this.$X.div=$i;if(!$e.submenu){DayPilot.Menu.active=this;}};this.$Y=function($j,$l){var mi=$j;var $g=$l.source;if($c.$X.submenu&&$c.$X.submenu.item===$j){return;};if($c.$X.submenu&&$c.$X.submenu.item!==$j){DayPilot.Util.removeClass($c.$X.submenu.link.parentNode,$c.applyCssClass("item_haschildren_active"));$c.$X.submenu.menu.hide();$c.$X.submenu=null;};if(!$j.items){return;};var $e=$c.cloneOptions();$e.items=$j.items;$c.$X.submenu={};$c.$X.submenu.menu=new DayPilot.Menu($e);$c.$X.submenu.menu.$Z=$c;$c.$X.submenu.menu.show($g,{"submenu":true,"parentLink":$l,"parentItem":mi});$c.$X.submenu.item=$j;$c.$X.submenu.link=$l;DayPilot.Util.addClass($l.parentNode,$c.applyCssClass("item_haschildren_active"));};this.applyCssClass=function($O){var $P=this.theme||this.cssClassPrefix;var $Q=(this.cssOnly?"_":"");if($P){return $P+$Q+$O;}else{return "";}};this.cloneOptions=function(){return DayPilot.Util.copyProps($e,{},["cssClassPrefix","theme","hideAfter","hideOnMouseOut","zIndex"]);};this.hide=function($R){$R=$R||{};if(this.$X.submenu){this.$X.submenu.menu.hide();};var ws=DayPilotMenu.waitingSubmenu;if(ws){DayPilotMenu.waitingSubmenu=null;clearTimeout(ws.timeout);};this.removeShadow();if(this.$X.div&&this.$X.div.parentNode===document.body){document.body.removeChild(this.$X.div);};if($d){DayPilot.de($d);$d=null;};$c.$X.visible=false;$c.$X.source=null;if($c.$Z&&$R.hideParent){$c.$Z.hide($R);};if(DayPilot.Menu.active===$c){DayPilot.Menu.active=null;};if(typeof this.onHide==="function"){var $h={};this.onHide($h);}};this.delayedHide=function($R){DayPilotMenu.hideTimeout=setTimeout(function(){$c.hide($R);},$c.hideAfter);};this.cancelHideTimeout=function(){clearTimeout(DayPilotMenu.hideTimeout);};this.init=function(ev){DayPilotMenu.mouseMove(ev);return this;};this.addShadow=function($S){};this.removeShadow=function(){};var $e=DayPilot.isArray($b)?null:$b;if($e){for(var name in $e){this[name]=$e[name];}}};DayPilot.MenuBar=function(id,$e){var menubar=this;$e=$e||{};this.items=[];this.theme="menubar_default";this.windowMargin=0;this.nav={};this.elements={};this.elements.items=DayPilot.list();this.$00=null;this.$01=false;for(var name in $e){this[name]=$e[name];};this.$02=function(cl){return this.theme+"_"+cl;};this.$03=function(){this.nav.top=document.getElementById(id);var top=this.nav.top;top.className=this.$02("main");DayPilot.list(menubar.items).forEach(function($j){var $i=document.createElement("span");$i.innerHTML=DayPilot.Util.escapeTextHtml($j.text,$j.html);$i.className=menubar.$02("item");if($j.cssClass){$i.classList.add($j.cssClass);};$i.data=$j;$i.onclick=function(e){if(menubar.active&&menubar.active.item===$j){menubar.$04();}else if($j.children){menubar.$05($i);return;};if(typeof $j.onClick==="function"){var $h={};$h.item=$j;$h.originalEvent=e;$j.onClick($h);}};$i.onmousedown=function(ev){ev.stopPropagation();};$i.onmouseover=function(){if(menubar.active&&menubar.active.item!==$j){menubar.$05($i);}};top.appendChild($i);menubar.elements.items.push($i);});};this.$04=function(){var $T=menubar.$02("item_active");menubar.elements.items.forEach(function($i){DayPilot.Util.removeClass($i,$T);});if(menubar.active&&menubar.active.menu){menubar.active.menu.hide();};menubar.active=null;};this.$06=function($i){if(!menubar.active){return false;};return menubar.active.item===$i.data;};this.$05=function($i){if(menubar.$06($i)){return;};menubar.$04();var $j=$i.data;var a=menubar.active={};a.item=$j;a.div=$i;var $T=menubar.$02("item_active");DayPilot.Util.addClass($i,$T);var $G=DayPilot.abs($i);if($j.children){a.menu=new DayPilot.Menu({"items":$j.children});var x=$G.x;if($j.align==="right"){x+=$G.w;};a.menu.show(null,{"x":x,"y":$G.y+$G.h,"align":$j.align,"windowMargin":menubar.windowMargin});};DayPilot.MenuBar.active=menubar;};this.init=function(){this.$03();this.$01=true;return this;};this.dispose=function(){if(!this.$01){return;};this.nav.top.innerHTML="";this.elements.items=[];};};DayPilot.MenuBar.deactivate=function(){if(DayPilot.MenuBar.active){DayPilot.MenuBar.active.$04();DayPilot.MenuBar.active=null;}};DayPilotMenu.menuClean=function(){if(typeof(DayPilot.Menu.active)==='undefined')return;if(DayPilot.Menu.active){DayPilot.Menu.active.hide();DayPilot.Menu.active=null;}};DayPilotMenu.mouseDown=function(ev){if(typeof(DayPilotMenu)==='undefined'){return;};DayPilotMenu.menuClean();DayPilot.MenuBar.deactivate();};DayPilotMenu.mouseMove=function(ev){if(typeof(DayPilotMenu)==='undefined'){return;};DayPilotMenu.mouse=DayPilotMenu.mousePosition(ev);};DayPilotMenu.touchMove=function(ev){if(typeof(DayPilotMenu)==='undefined'){return;};DayPilotMenu.mouse=DayPilotMenu.touchPosition(ev);};DayPilotMenu.touchStart=function(ev){if(typeof(DayPilotMenu)==='undefined'){return;};DayPilotMenu.mouse=DayPilotMenu.touchPosition(ev);};DayPilotMenu.touchEnd=function(ev){};DayPilotMenu.touchPosition=function(ev){if(!ev||!ev.touches){return null;};var $U=ev.touches[0];var $V={};$V.x=$U.pageX;$V.y=$U.pageY;return $V;};DayPilotMenu.mousePosition=function(e){return DayPilot.mo3(null,e);};DayPilot.Menu.touchPosition=function(ev){if(ev.touches){DayPilotMenu.mouse=DayPilotMenu.touchPosition(ev);}};DayPilot.Menu.hide=function($e){$e=$e||{};if($e.calendar){var $W=DayPilot.Menu.active;if($W){var $g=$W.$X.source;if($g&&$g.calendar===$e.calendar){DayPilotMenu.menuClean();}}}else{DayPilotMenu.menuClean();}};if(!DayPilotMenu.handlersRegistered){DayPilot.re(document,'mousemove',DayPilotMenu.mouseMove);DayPilot.re(document,'mousedown',DayPilotMenu.mouseDown);DayPilot.re(document,'touchmove',DayPilotMenu.touchMove);DayPilot.re(document,'touchstart',DayPilotMenu.touchStart);DayPilot.re(document,'touchend',DayPilotMenu.touchEnd);DayPilotMenu.handlersRegistered=true;};DayPilot.Menu.def={};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})(DayPilot);


